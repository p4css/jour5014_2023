<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 8 TW Data Visualization | R for Data Journalism</title>
  <meta name="description" content="For my Class teaching how to make data news reports" />
  <meta name="generator" content="bookdown 0.26 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 8 TW Data Visualization | R for Data Journalism" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="For my Class teaching how to make data news reports" />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 8 TW Data Visualization | R for Data Journalism" />
  
  <meta name="twitter:description" content="For my Class teaching how to make data news reports" />
  

<meta name="author" content="HSIEH, JI-LUNG" />


<meta name="date" content="2022-05-03" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="visualization.html"/>
<link rel="next" href="wgoigt-of-nytimes.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.22/datatables.js"></script>
<link href="libs/dt-core-1.11.3/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.11.3/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.11.3/js/jquery.dataTables.min.js"></script>
<link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">R for Data Journalism</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>About</a></li>
<li class="part"><span><b>I R BASIC</b></span></li>
<li class="chapter" data-level="1" data-path="basic.html"><a href="basic.html"><i class="fa fa-check"></i><b>1</b> R Basic</a></li>
<li class="chapter" data-level="2" data-path="playing-r-with-r-markdown.html"><a href="playing-r-with-r-markdown.html"><i class="fa fa-check"></i><b>2</b> Playing R with R Markdown</a>
<ul>
<li class="chapter" data-level="2.1" data-path="playing-r-with-r-markdown.html"><a href="playing-r-with-r-markdown.html#loading-dcard-data"><i class="fa fa-check"></i><b>2.1</b> Loading dcard data</a></li>
<li class="chapter" data-level="2.2" data-path="playing-r-with-r-markdown.html"><a href="playing-r-with-r-markdown.html#getting-taipei-theft-report-data"><i class="fa fa-check"></i><b>2.2</b> Getting Taipei theft report data</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="vectors.html"><a href="vectors.html"><i class="fa fa-check"></i><b>3</b> Vectors</a>
<ul>
<li class="chapter" data-level="3.1" data-path="vectors.html"><a href="vectors.html#r-syntax"><i class="fa fa-check"></i><b>3.1</b> R Syntax</a></li>
<li class="chapter" data-level="3.2" data-path="vectors.html"><a href="vectors.html#basic-operations"><i class="fa fa-check"></i><b>3.2</b> Basic operations</a></li>
<li class="chapter" data-level="3.3" data-path="vectors.html"><a href="vectors.html#calculating-with-vectors"><i class="fa fa-check"></i><b>3.3</b> Calculating with vectors</a></li>
<li class="chapter" data-level="3.4" data-path="vectors.html"><a href="vectors.html#data-types"><i class="fa fa-check"></i><b>3.4</b> Data types</a></li>
<li class="chapter" data-level="3.5" data-path="vectors.html"><a href="vectors.html#character-operations"><i class="fa fa-check"></i><b>3.5</b> Character operations</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="dataframe.html"><a href="dataframe.html"><i class="fa fa-check"></i><b>4</b> Dataframe</a>
<ul>
<li class="chapter" data-level="4.1" data-path="dataframe.html"><a href="dataframe.html#基本操作"><i class="fa fa-check"></i><b>4.1</b> 基本操作</a></li>
<li class="chapter" data-level="4.2" data-path="dataframe.html"><a href="dataframe.html#簡易繪圖"><i class="fa fa-check"></i><b>4.2</b> 簡易繪圖</a></li>
<li class="chapter" data-level="4.3" data-path="dataframe.html"><a href="dataframe.html#基本操作使用dplyr"><i class="fa fa-check"></i><b>4.3</b> 基本操作：使用dplyr</a></li>
<li class="chapter" data-level="4.4" data-path="dataframe.html"><a href="dataframe.html#tibble-data_frame-data.frame"><i class="fa fa-check"></i><b>4.4</b> tibble, data_frame, data.frame</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="data-analysis-with-r.html"><a href="data-analysis-with-r.html"><i class="fa fa-check"></i><b>5</b> Data Analysis with R</a>
<ul>
<li class="chapter" data-level="5.1" data-path="data-analysis-with-r.html"><a href="data-analysis-with-r.html#case-paid-maternal-leave"><i class="fa fa-check"></i><b>5.1</b> Case: Paid Maternal Leave</a></li>
<li class="chapter" data-level="5.2" data-path="data-analysis-with-r.html"><a href="data-analysis-with-r.html#pivot-analysis-on-tp-theft"><i class="fa fa-check"></i><b>5.2</b> Pivot Analysis on TP Theft</a></li>
</ul></li>
<li class="part"><span><b>II Data Manipulation</b></span></li>
<li class="chapter" data-level="6" data-path="data-manipulation-wity-tidyverse.html"><a href="data-manipulation-wity-tidyverse.html"><i class="fa fa-check"></i><b>6</b> Data Manipulation wity tidyverse</a>
<ul>
<li class="chapter" data-level="6.1" data-path="data-manipulation-wity-tidyverse.html"><a href="data-manipulation-wity-tidyverse.html#base-to-dplyr-tp-theft"><i class="fa fa-check"></i><b>6.1</b> base to dplyr: TP Theft</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="visualization.html"><a href="visualization.html"><i class="fa fa-check"></i><b>7</b> Visualization</a>
<ul>
<li class="chapter" data-level="7.1" data-path="visualization.html"><a href="visualization.html#ggplot簡介"><i class="fa fa-check"></i><b>7.1</b> ggplot簡介</a></li>
<li class="chapter" data-level="7.2" data-path="visualization.html"><a href="visualization.html#繪圖基礎折線圖"><i class="fa fa-check"></i><b>7.2</b> 繪圖基礎：折線圖</a></li>
<li class="chapter" data-level="7.3" data-path="visualization.html"><a href="visualization.html#圖表調整"><i class="fa fa-check"></i><b>7.3</b> 圖表調整</a></li>
<li class="chapter" data-level="7.4" data-path="visualization.html"><a href="visualization.html#視覺化說故事的技巧"><i class="fa fa-check"></i><b>7.4</b> 視覺化說故事的技巧</a></li>
<li class="chapter" data-level="7.5" data-path="visualization.html"><a href="visualization.html#時間軸的視覺化"><i class="fa fa-check"></i><b>7.5</b> 時間軸的視覺化</a></li>
<li class="chapter" data-level="7.6" data-path="visualization.html"><a href="visualization.html#budget-and-treemap"><i class="fa fa-check"></i><b>7.6</b> Budget and TreeMap</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="tw-data-visualization.html"><a href="tw-data-visualization.html"><i class="fa fa-check"></i><b>8</b> TW Data Visualization</a>
<ul>
<li class="chapter" data-level="8.1" data-path="tw-data-visualization.html"><a href="tw-data-visualization.html#coordination-axis"><i class="fa fa-check"></i><b>8.1</b> Coordination &amp; Axis</a></li>
<li class="chapter" data-level="8.2" data-path="tw-data-visualization.html"><a href="tw-data-visualization.html#log-scale"><i class="fa fa-check"></i><b>8.2</b> Log-scale</a></li>
<li class="chapter" data-level="8.3" data-path="tw-data-visualization.html"><a href="tw-data-visualization.html#square-root-scale"><i class="fa fa-check"></i><b>8.3</b> Square-root scale</a></li>
<li class="chapter" data-level="8.4" data-path="tw-data-visualization.html"><a href="tw-data-visualization.html#tw-salary-boxplot"><i class="fa fa-check"></i><b>8.4</b> TW-Salary (boxplot)</a></li>
<li class="chapter" data-level="8.5" data-path="tw-data-visualization.html"><a href="tw-data-visualization.html#tw-income-boxplot"><i class="fa fa-check"></i><b>8.5</b> TW-Income (boxplot)</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="wgoigt-of-nytimes.html"><a href="wgoigt-of-nytimes.html"><i class="fa fa-check"></i><b>9</b> WGOIGT of NyTimes</a>
<ul>
<li class="chapter" data-level="9.1" data-path="wgoigt-of-nytimes.html"><a href="wgoigt-of-nytimes.html#net-worth-by-age-group"><i class="fa fa-check"></i><b>9.1</b> Net Worth by Age Group</a></li>
<li class="chapter" data-level="9.2" data-path="wgoigt-of-nytimes.html"><a href="wgoigt-of-nytimes.html#unicef-optimistic"><i class="fa fa-check"></i><b>9.2</b> UNICEF-Optimistic</a></li>
<li class="chapter" data-level="9.3" data-path="wgoigt-of-nytimes.html"><a href="wgoigt-of-nytimes.html#global-carbon-projects"><i class="fa fa-check"></i><b>9.3</b> Global Carbon Projects</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="text-processing.html"><a href="text-processing.html"><i class="fa fa-check"></i><b>10</b> Text Processing</a>
<ul>
<li class="chapter" data-level="10.1" data-path="text-processing.html"><a href="text-processing.html#tweets-分析"><i class="fa fa-check"></i><b>10.1</b> Tweets 分析</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="crawler.html"><a href="crawler.html"><i class="fa fa-check"></i><b>11</b> Crawler</a>
<ul>
<li class="chapter" data-level="11.1" data-path="crawler.html"><a href="crawler.html#scraping-104.com"><i class="fa fa-check"></i><b>11.1</b> Scraping 104.com</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="proportion.html"><a href="proportion.html"><i class="fa fa-check"></i><b>12</b> PROPORTION</a></li>
<li class="chapter" data-level="13" data-path="association.html"><a href="association.html"><i class="fa fa-check"></i><b>13</b> ASSOCIATION</a></li>
<li class="chapter" data-level="14" data-path="time-trends.html"><a href="time-trends.html"><i class="fa fa-check"></i><b>14</b> TIME &amp; TRENDS</a></li>
<li class="chapter" data-level="15" data-path="geospatial.html"><a href="geospatial.html"><i class="fa fa-check"></i><b>15</b> GEOSPATIAL</a></li>
<li class="chapter" data-level="16" data-path="coordinate.html"><a href="coordinate.html"><i class="fa fa-check"></i><b>16</b> COORDINATE</a></li>
<li class="chapter" data-level="17" data-path="colors.html"><a href="colors.html"><i class="fa fa-check"></i><b>17</b> COLORS</a></li>
<li class="chapter" data-level="18" data-path="chart-types.html"><a href="chart-types.html"><i class="fa fa-check"></i><b>18</b> CHART TYPES</a></li>
<li class="chapter" data-level="19" data-path="amount.html"><a href="amount.html"><i class="fa fa-check"></i><b>19</b> AMOUNT</a></li>
<li class="chapter" data-level="20" data-path="distribution-histogram-density.html"><a href="distribution-histogram-density.html"><i class="fa fa-check"></i><b>20</b> DISTRIBUTION: Histogram &amp; Density</a>
<ul>
<li class="chapter" data-level="20.1" data-path="distribution-histogram-density.html"><a href="distribution-histogram-density.html#distribution-histogram-and-density-plot"><i class="fa fa-check"></i><b>20.1</b> Distribution: Histogram and Density plot</a></li>
</ul></li>
<li class="chapter" data-level="21" data-path="appendix.html"><a href="appendix.html"><i class="fa fa-check"></i><b>21</b> Appendix</a>
<ul>
<li class="chapter" data-level="21.1" data-path="appendix.html"><a href="appendix.html#dataset"><i class="fa fa-check"></i><b>21.1</b> Dataset</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R for Data Journalism</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="tw-data-visualization" class="section level1 hasAnchor" number="8">
<h1><span class="header-section-number">Chapter 8</span> TW Data Visualization<a href="tw-data-visualization.html#tw-data-visualization" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div class="sourceCode" id="cb456"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb456-1"><a href="tw-data-visualization.html#cb456-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb456-2"><a href="tw-data-visualization.html#cb456-2" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">stringsAsFactors =</span> F)</span>
<span id="cb456-3"><a href="tw-data-visualization.html#cb456-3" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">scipen =</span> <span class="dv">999</span>)</span>
<span id="cb456-4"><a href="tw-data-visualization.html#cb456-4" aria-hidden="true" tabindex="-1"></a>th <span class="ot">&lt;-</span> <span class="fu">theme_minimal</span>() <span class="sc">+</span> </span>
<span id="cb456-5"><a href="tw-data-visualization.html#cb456-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">title =</span> <span class="fu">element_text</span>(<span class="at">family=</span><span class="st">&quot;Heiti TC Light&quot;</span>),</span>
<span id="cb456-6"><a href="tw-data-visualization.html#cb456-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">text =</span> <span class="fu">element_text</span>(<span class="at">family=</span><span class="st">&quot;Heiti TC Light&quot;</span>), </span>
<span id="cb456-7"><a href="tw-data-visualization.html#cb456-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">family=</span><span class="st">&quot;Heiti TC Light&quot;</span>),</span>
<span id="cb456-8"><a href="tw-data-visualization.html#cb456-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">family=</span><span class="st">&quot;Heiti TC Light&quot;</span>),</span>
<span id="cb456-9"><a href="tw-data-visualization.html#cb456-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.text =</span> <span class="fu">element_text</span>(<span class="at">family=</span><span class="st">&quot;Heiti TC Light&quot;</span>),</span>
<span id="cb456-10"><a href="tw-data-visualization.html#cb456-10" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">family=</span><span class="st">&quot;Heiti TC Light&quot;</span>)</span>
<span id="cb456-11"><a href="tw-data-visualization.html#cb456-11" aria-hidden="true" tabindex="-1"></a>        )</span></code></pre></div>
<div id="coordination-axis" class="section level2 hasAnchor" number="8.1">
<h2><span class="header-section-number">8.1</span> Coordination &amp; Axis<a href="tw-data-visualization.html#coordination-axis" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ul>
<li>Chap3 Coordination &amp; Axis <a href="https://clauswilke.com/dataviz/coordinate-systems-axes.html">Fundamentals of Data Visualization (clauswilke.com)</a></li>
</ul>
<div class="figure">
<img src="images/paste-FB7FC371.png" alt="" />
<p class="caption">Figure 3.5: Population numbers of Texas counties relative to their median value. Select counties are highlighted by name. The dashed line indicates a ratio of 1, corresponding to a county with median population number. The most populous counties have approximately 100 times more inhabitants than the median county, and the least populous counties have approximately 100 times fewer inhabitants than the median county. Data source: 2010 Decennial U.S. Census.</p>
</div>
<ul>
<li><p>See <a href="https://www.nytimes.com/2022/01/06/learning/whats-going-on-in-this-graph-jan-12-2022.html">What’s Going On in This Graph? | Vaccination by Country</a> from<a href="https://www.nytimes.com/interactive/2021/12/09/world/vaccine-inequity-supply.html">What Data Shows About Vaccine Supply and Demand in the Most Vulnerable Places - The New York Times (nytimes.com)</a></p>
<p>The original chart is animated along the timeline.<a href="https://www.nytimes.com/interactive/2021/12/09/world/vaccine-inequity-supply.html">What Data Shows About Vaccine Supply and Demand in the Most Vulnerable Places - The New York Times (nytimes.com)</a></p></li>
</ul>
<p><img src="https://lh3.googleusercontent.com/qDunt-J56_eLmFmjTlUn7VMRyg9rKn0-aeYjfmbXd9JcUV9xJojcG0oAoEXHZMU3SCUx64o2B_GH9mtpwqKuj6KUchZL4Zau4l7LnC3sclUdpbW-mQdv8cJqCvukqUsrbXMgeKSl" /></p>
</div>
<div id="log-scale" class="section level2 hasAnchor" number="8.2">
<h2><span class="header-section-number">8.2</span> Log-scale<a href="tw-data-visualization.html#log-scale" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb457"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb457-1"><a href="tw-data-visualization.html#cb457-1" aria-hidden="true" tabindex="-1"></a>raw <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/opendata107Y020.csv&quot;</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)  <span class="sc">%&gt;%</span> </span>
<span id="cb457-2"><a href="tw-data-visualization.html#cb457-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">slice</span>(<span class="sc">-</span><span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb457-3"><a href="tw-data-visualization.html#cb457-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">type_convert</span>()</span>
<span id="cb457-4"><a href="tw-data-visualization.html#cb457-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb457-5"><a href="tw-data-visualization.html#cb457-5" aria-hidden="true" tabindex="-1"></a>toplot <span class="ot">&lt;-</span> raw <span class="sc">%&gt;%</span></span>
<span id="cb457-6"><a href="tw-data-visualization.html#cb457-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(site_id, village, edu_age_15up_total) <span class="sc">%&gt;%</span></span>
<span id="cb457-7"><a href="tw-data-visualization.html#cb457-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(<span class="fu">desc</span>(edu_age_15up_total)) <span class="sc">%&gt;%</span></span>
<span id="cb457-8"><a href="tw-data-visualization.html#cb457-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">index =</span> <span class="fu">row_number</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb457-9"><a href="tw-data-visualization.html#cb457-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">label =</span> <span class="fu">ifelse</span>(index <span class="sc">&lt;=</span> <span class="dv">5</span> <span class="sc">|</span> index <span class="sc">&gt;</span> <span class="fu">n</span>()<span class="sc">-</span><span class="dv">5</span>, <span class="fu">paste0</span>(site_id, village), <span class="st">&quot;&quot;</span>))</span>
<span id="cb457-10"><a href="tw-data-visualization.html#cb457-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb457-11"><a href="tw-data-visualization.html#cb457-11" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggrepel)</span>
<span id="cb457-12"><a href="tw-data-visualization.html#cb457-12" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> toplot <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>() <span class="sc">+</span> <span class="fu">aes</span>(index, edu_age_15up_total) <span class="sc">+</span> </span>
<span id="cb457-13"><a href="tw-data-visualization.html#cb457-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">alpha=</span><span class="fl">0.5</span>, <span class="at">color=</span><span class="st">&quot;royalblue&quot;</span>) <span class="sc">+</span> </span>
<span id="cb457-14"><a href="tw-data-visualization.html#cb457-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_text_repel</span>(<span class="fu">aes</span>(<span class="at">label =</span> label), <span class="at">point.padding =</span> .<span class="dv">4</span>, <span class="at">color =</span> <span class="st">&quot;black&quot;</span>,</span>
<span id="cb457-15"><a href="tw-data-visualization.html#cb457-15" aria-hidden="true" tabindex="-1"></a>                  <span class="at">min.segment.length =</span> <span class="dv">0</span>, <span class="at">family =</span> <span class="st">&quot;Heiti TC Light&quot;</span>) <span class="sc">+</span> </span>
<span id="cb457-16"><a href="tw-data-visualization.html#cb457-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">axis.text.x=</span><span class="fu">element_blank</span>()) <span class="sc">+</span> </span>
<span id="cb457-17"><a href="tw-data-visualization.html#cb457-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_y_log10</span>(<span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">10</span>, <span class="dv">100</span>, <span class="dv">1000</span>, <span class="dv">10000</span>)) <span class="sc">+</span> </span>
<span id="cb457-18"><a href="tw-data-visualization.html#cb457-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>()</span>
<span id="cb457-19"><a href="tw-data-visualization.html#cb457-19" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> toplot <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>() <span class="sc">+</span> <span class="fu">aes</span>(index, edu_age_15up_total) <span class="sc">+</span> </span>
<span id="cb457-20"><a href="tw-data-visualization.html#cb457-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">alpha=</span><span class="fl">0.5</span>, <span class="at">color=</span><span class="st">&quot;royalblue&quot;</span>) <span class="sc">+</span> </span>
<span id="cb457-21"><a href="tw-data-visualization.html#cb457-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">axis.text.x=</span><span class="fu">element_blank</span>()) <span class="sc">+</span> </span>
<span id="cb457-22"><a href="tw-data-visualization.html#cb457-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>()</span>
<span id="cb457-23"><a href="tw-data-visualization.html#cb457-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb457-24"><a href="tw-data-visualization.html#cb457-24" aria-hidden="true" tabindex="-1"></a>cowplot<span class="sc">::</span><span class="fu">plot_grid</span>(</span>
<span id="cb457-25"><a href="tw-data-visualization.html#cb457-25" aria-hidden="true" tabindex="-1"></a>  p2, <span class="cn">NULL</span>, p1,</span>
<span id="cb457-26"><a href="tw-data-visualization.html#cb457-26" aria-hidden="true" tabindex="-1"></a>  <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;&quot;</span>, <span class="st">&quot;b&quot;</span>), <span class="at">nrow =</span> <span class="dv">1</span>, <span class="at">rel_widths =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="fl">0.1</span>, <span class="dv">1</span>)</span>
<span id="cb457-27"><a href="tw-data-visualization.html#cb457-27" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p><img src="R-for-Data-Journalism_files/figure-html/Fig3-5-6-log-scale-village-level-population-1.png" width="672" /></p>
</div>
<div id="square-root-scale" class="section level2 hasAnchor" number="8.3">
<h2><span class="header-section-number">8.3</span> Square-root scale<a href="tw-data-visualization.html#square-root-scale" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Chap3 Coordination &amp; Axis <a href="https://clauswilke.com/dataviz/coordinate-systems-axes.html">Fundamentals of Data Visualization (clauswilke.com)</a></p>
<div class="figure">
<img src="images/paste-F8C01660.png" alt="" />
<p class="caption">Figure 3.8: Areas of Northeastern U.S. states. (a) Areas shown on a linear scale. (b) Areas shown on a square-root scale. Data source: Google.</p>
</div>
<p>前面是視覺化了各村里大於十五歲以上人口的人口數分佈，採用對數尺度（log-scale）可以觀察到比較小的村里。那有什麼是適合用平方根尺度（sqrt-scale）的呢？是土地嗎？密度嗎？還是人口數？是村里等級嗎？鄉鎮市區等級嗎？還是縣市等級？</p>
<div class="sourceCode" id="cb458"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb458-1"><a href="tw-data-visualization.html#cb458-1" aria-hidden="true" tabindex="-1"></a>town <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/tw_population_opendata110N010.csv&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb458-2"><a href="tw-data-visualization.html#cb458-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">slice</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="sc">-</span>(<span class="dv">370</span><span class="sc">:</span><span class="dv">375</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb458-3"><a href="tw-data-visualization.html#cb458-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">type_convert</span>()</span>
<span id="cb458-4"><a href="tw-data-visualization.html#cb458-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb458-5"><a href="tw-data-visualization.html#cb458-5" aria-hidden="true" tabindex="-1"></a>town <span class="sc">%&gt;%</span></span>
<span id="cb458-6"><a href="tw-data-visualization.html#cb458-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(<span class="fu">desc</span>(area)) <span class="sc">%&gt;%</span></span>
<span id="cb458-7"><a href="tw-data-visualization.html#cb458-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">index =</span> <span class="fu">row_number</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb458-8"><a href="tw-data-visualization.html#cb458-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>() <span class="sc">+</span> <span class="fu">aes</span>(index, area) <span class="sc">%&gt;%</span></span>
<span id="cb458-9"><a href="tw-data-visualization.html#cb458-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_col</span>(<span class="at">fill=</span><span class="st">&quot;skyblue&quot;</span>) <span class="sc">+</span></span>
<span id="cb458-10"><a href="tw-data-visualization.html#cb458-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_y_sqrt</span>() <span class="sc">+</span> </span>
<span id="cb458-11"><a href="tw-data-visualization.html#cb458-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>()</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:Fig03-8-TW-Population-Density-1"></span>
<img src="R-for-Data-Journalism_files/figure-html/Fig03-8-TW-Population-Density-1.png" alt="(ref:population-area)" width="672" />
<p class="caption">
Figure 8.1: (ref:population-area)
</p>
</div>
<div class="sourceCode" id="cb459"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb459-1"><a href="tw-data-visualization.html#cb459-1" aria-hidden="true" tabindex="-1"></a>county <span class="ot">&lt;-</span> town <span class="sc">%&gt;%</span></span>
<span id="cb459-2"><a href="tw-data-visualization.html#cb459-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">county =</span> <span class="fu">str_sub</span>(site_id, <span class="dv">1</span>, <span class="dv">3</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb459-3"><a href="tw-data-visualization.html#cb459-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(county) <span class="sc">%&gt;%</span></span>
<span id="cb459-4"><a href="tw-data-visualization.html#cb459-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarize</span>(</span>
<span id="cb459-5"><a href="tw-data-visualization.html#cb459-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">area =</span> <span class="fu">sum</span>(area), </span>
<span id="cb459-6"><a href="tw-data-visualization.html#cb459-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">people_total =</span> <span class="fu">sum</span>(people_total)</span>
<span id="cb459-7"><a href="tw-data-visualization.html#cb459-7" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb459-8"><a href="tw-data-visualization.html#cb459-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ungroup</span>()</span>
<span id="cb459-9"><a href="tw-data-visualization.html#cb459-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb459-10"><a href="tw-data-visualization.html#cb459-10" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> county <span class="sc">%&gt;%</span></span>
<span id="cb459-11"><a href="tw-data-visualization.html#cb459-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(<span class="fu">desc</span>(people_total)) <span class="sc">%&gt;%</span></span>
<span id="cb459-12"><a href="tw-data-visualization.html#cb459-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">index =</span> <span class="fu">row_number</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb459-13"><a href="tw-data-visualization.html#cb459-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>() <span class="sc">+</span> <span class="fu">aes</span>(index, people_total) <span class="sc">%&gt;%</span></span>
<span id="cb459-14"><a href="tw-data-visualization.html#cb459-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_col</span>(<span class="at">fill=</span><span class="st">&quot;lightgrey&quot;</span>) <span class="sc">+</span></span>
<span id="cb459-15"><a href="tw-data-visualization.html#cb459-15" aria-hidden="true" tabindex="-1"></a>    <span class="co"># scale_y_sqrt() +</span></span>
<span id="cb459-16"><a href="tw-data-visualization.html#cb459-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>()</span>
<span id="cb459-17"><a href="tw-data-visualization.html#cb459-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb459-18"><a href="tw-data-visualization.html#cb459-18" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> county <span class="sc">%&gt;%</span></span>
<span id="cb459-19"><a href="tw-data-visualization.html#cb459-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(<span class="fu">desc</span>(people_total)) <span class="sc">%&gt;%</span></span>
<span id="cb459-20"><a href="tw-data-visualization.html#cb459-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">index =</span> <span class="fu">row_number</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb459-21"><a href="tw-data-visualization.html#cb459-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>() <span class="sc">+</span> <span class="fu">aes</span>(index, people_total) <span class="sc">%&gt;%</span></span>
<span id="cb459-22"><a href="tw-data-visualization.html#cb459-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_col</span>(<span class="at">fill=</span><span class="st">&quot;khaki&quot;</span>) <span class="sc">+</span></span>
<span id="cb459-23"><a href="tw-data-visualization.html#cb459-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_y_sqrt</span>(<span class="at">breaks=</span><span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">250000</span>, <span class="dv">500000</span>, <span class="dv">1000000</span>, <span class="dv">2000000</span>, <span class="dv">4000000</span>)) <span class="sc">+</span></span>
<span id="cb459-24"><a href="tw-data-visualization.html#cb459-24" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>()</span>
<span id="cb459-25"><a href="tw-data-visualization.html#cb459-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb459-26"><a href="tw-data-visualization.html#cb459-26" aria-hidden="true" tabindex="-1"></a>cowplot<span class="sc">::</span><span class="fu">plot_grid</span>(</span>
<span id="cb459-27"><a href="tw-data-visualization.html#cb459-27" aria-hidden="true" tabindex="-1"></a>  p1, p2,</span>
<span id="cb459-28"><a href="tw-data-visualization.html#cb459-28" aria-hidden="true" tabindex="-1"></a>  <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>), </span>
<span id="cb459-29"><a href="tw-data-visualization.html#cb459-29" aria-hidden="true" tabindex="-1"></a>  <span class="at">nrow =</span> <span class="dv">1</span></span>
<span id="cb459-30"><a href="tw-data-visualization.html#cb459-30" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:Fig03-8-TW-Population-Density-2"></span>
<img src="R-for-Data-Journalism_files/figure-html/Fig03-8-TW-Population-Density-2.png" alt="(ref:population-area)" width="672" />
<p class="caption">
Figure 8.2: (ref:population-area)
</p>
</div>
</div>
<div id="tw-salary-boxplot" class="section level2 hasAnchor" number="8.4">
<h2><span class="header-section-number">8.4</span> TW-Salary (boxplot)<a href="tw-data-visualization.html#tw-salary-boxplot" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Inspired by <a href="https://www.nytimes.com/2017/11/03/education/edlife/choosing-a-college-major.html">Six Myths About Choosing a College Major - The New York Times (nytimes.com)</a> and <a href="https://www.nytimes.com/2018/01/04/learning/whats-going-on-in-this-graph-jan-9-2018.html">What’s Going On in This Graph? | Jan. 9, 2018 - The New York Times (nytimes.com)</a></p>
<p><img src="https://lh5.googleusercontent.com/sl38jyzhqytJUX60SZypH6ZcmoOyGCDk0-6lk3oOS-YxyXJpRgioK_iF5Y8ZkjESzkuFXPbl6k5qovTuHaJhX-_KdH1sHGWl9nJFy3ixt5sryeEhXmiRfEhrjZjvZi50RtKKTm7UceUL" /></p>
<div class="sourceCode" id="cb460"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb460-1"><a href="tw-data-visualization.html#cb460-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb460-2"><a href="tw-data-visualization.html#cb460-2" aria-hidden="true" tabindex="-1"></a>raw <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">&quot;data/tw_salary109.xlsx&quot;</span>, <span class="at">sheet=</span><span class="dv">1</span>, <span class="at">trim_ws =</span> T)</span>
<span id="cb460-3"><a href="tw-data-visualization.html#cb460-3" aria-hidden="true" tabindex="-1"></a>raw</span></code></pre></div>
<pre class="output"><code>## # A tibble: 29 × 5
##    Category        Q1 Median    Q3  Mean
##    &lt;chr&gt;        &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
##  1 　男          39     53.2  82.3  70.7
##  2 　女          35.1   46.8  67.6  58.6
##  3 　未滿25歲    28.1   35.8  45.1  37.7
##  4 　25-29歲     36.6   47.8  61.7  53  
##  5 　30-39歲     39.2   53.3  77    64.1
##  6 　40-49歲     39.9   56.9  91.8  74.8
##  7 　50-64歲     37.8   53.3  88.4  75.5
##  8 　65歲以上    30.6   40.9  63.1  62.6
##  9 　國中及以下  32.7   40.5  52    45.4
## 10 　高中（職）  34.5   44.7  59.8  51.9
## # … with 19 more rows</code></pre>
<div class="sourceCode" id="cb462"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb462-1"><a href="tw-data-visualization.html#cb462-1" aria-hidden="true" tabindex="-1"></a>raw <span class="sc">%&gt;%</span></span>
<span id="cb462-2"><a href="tw-data-visualization.html#cb462-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">slice</span>(<span class="sc">-</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">12</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb462-3"><a href="tw-data-visualization.html#cb462-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">Category =</span> <span class="fu">reorder</span>(Category, <span class="fu">desc</span>(Median))) <span class="sc">%&gt;%</span></span>
<span id="cb462-4"><a href="tw-data-visualization.html#cb462-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>() <span class="sc">+</span> <span class="fu">aes</span>(<span class="at">y =</span> Category, </span>
<span id="cb462-5"><a href="tw-data-visualization.html#cb462-5" aria-hidden="true" tabindex="-1"></a>                   <span class="at">xlower=</span>Q1, <span class="at">xmiddle=</span>Median, <span class="at">xupper=</span>Q3, <span class="at">xmin=</span><span class="dv">0</span>, <span class="at">xmax=</span><span class="dv">150</span>) <span class="sc">+</span></span>
<span id="cb462-6"><a href="tw-data-visualization.html#cb462-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_boxplot</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>, <span class="at">color=</span><span class="st">&quot;white&quot;</span>, <span class="at">fill=</span><span class="st">&quot;skyblue&quot;</span>) <span class="sc">+</span></span>
<span id="cb462-7"><a href="tw-data-visualization.html#cb462-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> Mean)) <span class="sc">+</span> </span>
<span id="cb462-8"><a href="tw-data-visualization.html#cb462-8" aria-hidden="true" tabindex="-1"></a>    th <span class="sc">+</span> </span>
<span id="cb462-9"><a href="tw-data-visualization.html#cb462-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(), </span>
<span id="cb462-10"><a href="tw-data-visualization.html#cb462-10" aria-hidden="true" tabindex="-1"></a>          <span class="at">panel.grid.major =</span> <span class="fu">element_blank</span>())</span></code></pre></div>
<p><img src="R-for-Data-Journalism_files/figure-html/plot-salary-dist-1.png" width="672" /></p>
</div>
<div id="tw-income-boxplot" class="section level2 hasAnchor" number="8.5">
<h2><span class="header-section-number">8.5</span> TW-Income (boxplot)<a href="tw-data-visualization.html#tw-income-boxplot" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb463"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb463-1"><a href="tw-data-visualization.html#cb463-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gghighlight)</span>
<span id="cb463-2"><a href="tw-data-visualization.html#cb463-2" aria-hidden="true" tabindex="-1"></a>toplot <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/tw_income_107.csv&quot;</span>, ) <span class="sc">%&gt;%</span></span>
<span id="cb463-3"><a href="tw-data-visualization.html#cb463-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="sc">!</span><span class="st">`</span><span class="at">村里</span><span class="st">`</span> <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;合計&quot;</span>, <span class="st">&quot;其他&quot;</span>, <span class="st">&quot;福住里&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb463-4"><a href="tw-data-visualization.html#cb463-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(鄉鎮市區 <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;信義區&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb463-5"><a href="tw-data-visualization.html#cb463-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(村里 <span class="ot">=</span> <span class="fu">reorder</span>(村里, <span class="fu">desc</span>(中位數)))</span>
<span id="cb463-6"><a href="tw-data-visualization.html#cb463-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb463-7"><a href="tw-data-visualization.html#cb463-7" aria-hidden="true" tabindex="-1"></a>toplot <span class="sc">%&gt;%</span> </span>
<span id="cb463-8"><a href="tw-data-visualization.html#cb463-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">group =</span> <span class="fu">if_else</span>((平均數<span class="sc">&gt;</span>第三分位數), <span class="st">&quot;highlight&quot;</span>, <span class="st">&quot;none&quot;</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb463-9"><a href="tw-data-visualization.html#cb463-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>() <span class="sc">+</span> <span class="fu">aes</span>(<span class="at">y =</span> 村里, </span>
<span id="cb463-10"><a href="tw-data-visualization.html#cb463-10" aria-hidden="true" tabindex="-1"></a>                   <span class="at">xlower=</span>第一分位數, <span class="at">xmiddle=</span>中位數, <span class="at">xupper=</span>第三分位數, </span>
<span id="cb463-11"><a href="tw-data-visualization.html#cb463-11" aria-hidden="true" tabindex="-1"></a>                   <span class="at">xmin=</span> <span class="fu">min</span>(第一分位數), <span class="at">xmax=</span><span class="fu">max</span>(第三分位數), <span class="at">fill=</span>group) <span class="sc">+</span></span>
<span id="cb463-12"><a href="tw-data-visualization.html#cb463-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_boxplot</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>, <span class="at">color=</span><span class="st">&quot;white&quot;</span>) <span class="sc">+</span></span>
<span id="cb463-13"><a href="tw-data-visualization.html#cb463-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">&quot;highlight&quot;</span><span class="ot">=</span><span class="st">&quot;orangered&quot;</span>, <span class="st">&quot;none&quot;</span><span class="ot">=</span><span class="st">&quot;skyblue&quot;</span>)) <span class="sc">+</span> <span class="fu">guides</span>(<span class="at">fill=</span><span class="cn">FALSE</span>) <span class="sc">+</span> </span>
<span id="cb463-14"><a href="tw-data-visualization.html#cb463-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">x =</span> 平均數)) <span class="sc">+</span> </span>
<span id="cb463-15"><a href="tw-data-visualization.html#cb463-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">xlab</span>(<span class="st">&quot;年所得（單位：千元）&quot;</span>) <span class="sc">+</span> </span>
<span id="cb463-16"><a href="tw-data-visualization.html#cb463-16" aria-hidden="true" tabindex="-1"></a>    th <span class="sc">+</span> </span>
<span id="cb463-17"><a href="tw-data-visualization.html#cb463-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(), </span>
<span id="cb463-18"><a href="tw-data-visualization.html#cb463-18" aria-hidden="true" tabindex="-1"></a>          <span class="at">panel.grid.major =</span> <span class="fu">element_blank</span>())</span></code></pre></div>
<p><img src="R-for-Data-Journalism_files/figure-html/plot-box-plot-1.png" width="672" /></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="visualization.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="wgoigt-of-nytimes.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/R48-tw-dataviz.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["R for Data Journalism.pdf", "R for Data Journalism.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection",
"scroll_highlight": true
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>

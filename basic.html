<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 1 R Basic | R Basic: Vector</title>
  <meta name="description" content="For my Class teaching how to make data news reports" />
  <meta name="generator" content="bookdown 0.26 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 1 R Basic | R Basic: Vector" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="For my Class teaching how to make data news reports" />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 1 R Basic | R Basic: Vector" />
  
  <meta name="twitter:description" content="For my Class teaching how to make data news reports" />
  

<meta name="author" content="Jilung Hsieh" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>
<link rel="next" href="visualization.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">R for Data Journalism</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>About</a></li>
<li class="chapter" data-level="1" data-path="basic.html"><a href="basic.html"><i class="fa fa-check"></i><b>1</b> R Basic</a>
<ul>
<li class="chapter" data-level="1.1" data-path="basic.html"><a href="basic.html#playing-r-with-r-markdown"><i class="fa fa-check"></i><b>1.1</b> Playing R with R Markdown</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="basic.html"><a href="basic.html#loading-dcard-data"><i class="fa fa-check"></i><b>1.1.1</b> Loading dcard data</a></li>
<li class="chapter" data-level="1.1.2" data-path="basic.html"><a href="basic.html#getting-taipei-theft-report-data"><i class="fa fa-check"></i><b>1.1.2</b> Getting Taipei theft report data</a></li>
<li class="chapter" data-level="1.1.3" data-path="basic.html"><a href="basic.html#loading-a-csv-file-in-data-directory"><i class="fa fa-check"></i><b>1.1.3</b> Loading a csv file in data directory</a></li>
<li class="chapter" data-level="1.1.4" data-path="basic.html"><a href="basic.html#loading-moi-data-through-api"><i class="fa fa-check"></i><b>1.1.4</b> Loading MOI data through API</a></li>
<li class="chapter" data-level="1.1.5" data-path="basic.html"><a href="basic.html#getting-ubike"><i class="fa fa-check"></i><b>1.1.5</b> Getting ubike</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="basic.html"><a href="basic.html#vectors"><i class="fa fa-check"></i><b>1.2</b> Vectors</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="basic.html"><a href="basic.html#r-syntax"><i class="fa fa-check"></i><b>1.2.1</b> R syntax</a></li>
<li class="chapter" data-level="1.2.2" data-path="basic.html"><a href="basic.html#vector-basic-operations"><i class="fa fa-check"></i><b>1.2.2</b> Vector basic operations</a></li>
<li class="chapter" data-level="1.2.3" data-path="basic.html"><a href="basic.html#viewing"><i class="fa fa-check"></i><b>1.2.3</b> Viewing</a></li>
<li class="chapter" data-level="1.2.4" data-path="basic.html"><a href="basic.html#subsetting-filtering"><i class="fa fa-check"></i><b>1.2.4</b> Subsetting, filtering</a></li>
<li class="chapter" data-level="1.2.5" data-path="basic.html"><a href="basic.html#deleting"><i class="fa fa-check"></i><b>1.2.5</b> Deleting</a></li>
<li class="chapter" data-level="1.2.6" data-path="basic.html"><a href="basic.html#concatinating"><i class="fa fa-check"></i><b>1.2.6</b> Concatinating</a></li>
<li class="chapter" data-level="1.2.7" data-path="basic.html"><a href="basic.html#calculating-with-vectors"><i class="fa fa-check"></i><b>1.2.7</b> Calculating with vectors</a></li>
<li class="chapter" data-level="1.2.8" data-path="basic.html"><a href="basic.html#data-types"><i class="fa fa-check"></i><b>1.2.8</b> Data types</a></li>
<li class="chapter" data-level="1.2.9" data-path="basic.html"><a href="basic.html#character-operations"><i class="fa fa-check"></i><b>1.2.9</b> Character operations</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="basic.html"><a href="basic.html#dataframe"><i class="fa fa-check"></i><b>1.3</b> Dataframe</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="basic.html"><a href="basic.html#產生新的dataframe"><i class="fa fa-check"></i><b>1.3.1</b> 產生新的Dataframe</a></li>
<li class="chapter" data-level="1.3.2" data-path="basic.html"><a href="basic.html#觀察dataframe"><i class="fa fa-check"></i><b>1.3.2</b> 觀察dataframe</a></li>
<li class="chapter" data-level="1.3.3" data-path="basic.html"><a href="basic.html#操作dataframe"><i class="fa fa-check"></i><b>1.3.3</b> 操作dataframe</a></li>
<li class="chapter" data-level="1.3.4" data-path="basic.html"><a href="basic.html#簡易繪圖"><i class="fa fa-check"></i><b>1.3.4</b> 簡易繪圖</a></li>
<li class="chapter" data-level="1.3.5" data-path="basic.html"><a href="basic.html#其他使用dplyr"><i class="fa fa-check"></i><b>1.3.5</b> 其他：使用dplyr</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="visualization.html"><a href="visualization.html"><i class="fa fa-check"></i><b>2</b> Visualization</a>
<ul>
<li class="chapter" data-level="2.1" data-path="visualization.html"><a href="visualization.html#ggplot簡介"><i class="fa fa-check"></i><b>2.1</b> ggplot簡介</a></li>
<li class="chapter" data-level="2.2" data-path="visualization.html"><a href="visualization.html#繪圖基礎折線圖"><i class="fa fa-check"></i><b>2.2</b> 繪圖基礎：折線圖</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="visualization.html"><a href="visualization.html#繪圖三要素"><i class="fa fa-check"></i><b>2.2.1</b> 繪圖三要素</a></li>
<li class="chapter" data-level="2.2.2" data-path="visualization.html"><a href="visualization.html#範例-紐時世代貧富不均"><i class="fa fa-check"></i><b>2.2.2</b> 範例-紐時世代貧富不均</a></li>
<li class="chapter" data-level="2.2.3" data-path="visualization.html"><a href="visualization.html#加入自變項群組"><i class="fa fa-check"></i><b>2.2.3</b> 加入自變項群組</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="visualization.html"><a href="visualization.html#圖表調整"><i class="fa fa-check"></i><b>2.3</b> 圖表調整</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="visualization.html"><a href="visualization.html#點線型態"><i class="fa fa-check"></i><b>2.3.1</b> 點線型態</a></li>
<li class="chapter" data-level="2.3.2" data-path="visualization.html"><a href="visualization.html#標題標籤與圖說"><i class="fa fa-check"></i><b>2.3.2</b> 標題、標籤與圖說</a></li>
<li class="chapter" data-level="2.3.3" data-path="visualization.html"><a href="visualization.html#字體樣式"><i class="fa fa-check"></i><b>2.3.3</b> 字體樣式</a></li>
<li class="chapter" data-level="2.3.4" data-path="visualization.html"><a href="visualization.html#圖表主題色調"><i class="fa fa-check"></i><b>2.3.4</b> 圖表主題色調</a></li>
<li class="chapter" data-level="2.3.5" data-path="visualization.html"><a href="visualization.html#預設主題"><i class="fa fa-check"></i><b>2.3.5</b> 預設主題</a></li>
<li class="chapter" data-level="2.3.6" data-path="visualization.html"><a href="visualization.html#顯示中文字體"><i class="fa fa-check"></i><b>2.3.6</b> 顯示中文字體</a></li>
<li class="chapter" data-level="2.3.7" data-path="visualization.html"><a href="visualization.html#xy軸方向"><i class="fa fa-check"></i><b>2.3.7</b> X/Y軸方向</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="visualization.html"><a href="visualization.html#視覺化說故事的技巧"><i class="fa fa-check"></i><b>2.4</b> 視覺化說故事的技巧</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="visualization.html"><a href="visualization.html#依群組指定顏色"><i class="fa fa-check"></i><b>2.4.1</b> 依群組指定顏色</a></li>
<li class="chapter" data-level="2.4.2" data-path="visualization.html"><a href="visualization.html#使用gghighlight套件"><i class="fa fa-check"></i><b>2.4.2</b> 使用gghighlight套件</a></li>
<li class="chapter" data-level="2.4.3" data-path="visualization.html"><a href="visualization.html#為視覺化建立群組"><i class="fa fa-check"></i><b>2.4.3</b> 為視覺化建立群組</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="visualization.html"><a href="visualization.html#時間軸的視覺化"><i class="fa fa-check"></i><b>2.5</b> 時間軸的視覺化</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="visualization.html"><a href="visualization.html#文字轉時間"><i class="fa fa-check"></i><b>2.5.1</b> 文字轉時間</a></li>
<li class="chapter" data-level="2.5.2" data-path="visualization.html"><a href="visualization.html#時間作為機率分佈x軸"><i class="fa fa-check"></i><b>2.5.2</b> 時間作為機率分佈X軸</a></li>
<li class="chapter" data-level="2.5.3" data-path="visualization.html"><a href="visualization.html#逐月統計資料"><i class="fa fa-check"></i><b>2.5.3</b> 逐月統計資料</a></li>
<li class="chapter" data-level="2.5.4" data-path="visualization.html"><a href="visualization.html#逐日統計資料佳"><i class="fa fa-check"></i><b>2.5.4</b> 逐日統計資料（佳）</a></li>
<li class="chapter" data-level="2.5.5" data-path="visualization.html"><a href="visualization.html#每日逐時資料"><i class="fa fa-check"></i><b>2.5.5</b> 每日逐時資料</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="text-processing.html"><a href="text-processing.html"><i class="fa fa-check"></i><b>3</b> Text Processing</a>
<ul>
<li class="chapter" data-level="3.1" data-path="text-processing.html"><a href="text-processing.html#tweets-分析"><i class="fa fa-check"></i><b>3.1</b> Tweets 分析</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="text-processing.html"><a href="text-processing.html#載入並清理資料"><i class="fa fa-check"></i><b>3.1.1</b> 載入並清理資料</a></li>
<li class="chapter" data-level="3.1.2" data-path="text-processing.html"><a href="text-processing.html#萃取資料"><i class="fa fa-check"></i><b>3.1.2</b> 萃取資料</a></li>
<li class="chapter" data-level="3.1.3" data-path="text-processing.html"><a href="text-processing.html#視覺化探索"><i class="fa fa-check"></i><b>3.1.3</b> 視覺化探索</a></li>
<li class="chapter" data-level="3.1.4" data-path="text-processing.html"><a href="text-processing.html#keyness"><i class="fa fa-check"></i><b>3.1.4</b> Keyness</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="tw-data-visualization.html"><a href="tw-data-visualization.html"><i class="fa fa-check"></i><b>4</b> TW Data Visualization</a>
<ul>
<li class="chapter" data-level="4.1" data-path="tw-data-visualization.html"><a href="tw-data-visualization.html#coordination-axis"><i class="fa fa-check"></i><b>4.1</b> Coordination &amp; Axis</a></li>
<li class="chapter" data-level="4.2" data-path="tw-data-visualization.html"><a href="tw-data-visualization.html#log-scale"><i class="fa fa-check"></i><b>4.2</b> Log-scale</a></li>
<li class="chapter" data-level="4.3" data-path="tw-data-visualization.html"><a href="tw-data-visualization.html#square-root-scale"><i class="fa fa-check"></i><b>4.3</b> Square-root scale</a></li>
<li class="chapter" data-level="4.4" data-path="tw-data-visualization.html"><a href="tw-data-visualization.html#tw-salary-boxplot"><i class="fa fa-check"></i><b>4.4</b> TW-Salary (boxplot)</a></li>
<li class="chapter" data-level="4.5" data-path="tw-data-visualization.html"><a href="tw-data-visualization.html#tw-income-boxplot"><i class="fa fa-check"></i><b>4.5</b> TW-Income (boxplot)</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="wgoigt-of-nytimes.html"><a href="wgoigt-of-nytimes.html"><i class="fa fa-check"></i><b>5</b> WGOIGT of NyTimes</a>
<ul>
<li class="chapter" data-level="5.1" data-path="wgoigt-of-nytimes.html"><a href="wgoigt-of-nytimes.html#net-worth-by-age-group"><i class="fa fa-check"></i><b>5.1</b> Net Worth by Age Group</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="wgoigt-of-nytimes.html"><a href="wgoigt-of-nytimes.html#read-and-sort-data"><i class="fa fa-check"></i><b>5.1.1</b> Read and sort data</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="wgoigt-of-nytimes.html"><a href="wgoigt-of-nytimes.html#unicef-optimistic"><i class="fa fa-check"></i><b>5.2</b> UNICEF-Optimistic</a></li>
<li class="chapter" data-level="5.3" data-path="wgoigt-of-nytimes.html"><a href="wgoigt-of-nytimes.html#global-carbon-projects"><i class="fa fa-check"></i><b>5.3</b> Global Carbon Projects</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R Basic: Vector</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="basic" class="section level1 hasAnchor" number="1">
<h1><span class="header-section-number">Chapter 1</span> R Basic<a href="basic.html#basic" class="anchor-section" aria-label="Anchor link to header"></a></h1>

<div id="playing-r-with-r-markdown" class="section level2 hasAnchor" number="1.1">
<h2><span class="header-section-number">1.1</span> Playing R with R Markdown<a href="basic.html#playing-r-with-r-markdown" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ul>
<li><p>Using <code>Cmd+Enter</code> (<code>Ctrl+Enter</code> in Window) to excute the line where your cursor is located.</p></li>
<li><p>Using <code>Cmd(Ctrl)+Shift+Enter</code> to run all code in a cell</p></li>
<li><p>Using mouse to select multiple lines, then <code>Cmd(Ctrl)+Shift+c</code> to comment/uncomment multiple lines.</p></li>
</ul>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="basic.html#cb2-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>)</span>
<span id="cb2-2"><a href="basic.html#cb2-2" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="dv">4</span></span>
<span id="cb2-3"><a href="basic.html#cb2-3" aria-hidden="true" tabindex="-1"></a>a<span class="sc">*</span>b</span></code></pre></div>
<pre class="output"><code>## [1]  4  8 12 16 20</code></pre>
<div id="inserting-a-new-code-cell" class="section level4 hasAnchor" number="1.1.0.1">
<h4><span class="header-section-number">1.1.0.1</span> Inserting a new code cell<a href="basic.html#inserting-a-new-code-cell" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<ul>
<li>Using <code>Cmd(Ctrl)+Option(Alt)+i</code> to insert a new cell</li>
</ul>
</div>
<div id="installing-and-loading-packages" class="section level4 hasAnchor" number="1.1.0.2">
<h4><span class="header-section-number">1.1.0.2</span> Installing and loading packages<a href="basic.html#installing-and-loading-packages" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<ul>
<li>套件的使用分為<strong>安裝</strong>和<strong>載入</strong>兩個動作。通常安裝好R的時候就已經安裝好基本<code>base</code>套件。當執行R時便會將base套件<strong>預載</strong>入程式的執行環境中。</li>
<li>非常多的R使用者會編寫第三方套件，並且將這些套件開放給群眾使用。通常這些套件已經被上載到<strong>R cran</strong>提供下載。而<strong>R cran</strong>上的套件我們可以使用<code>install.packages("package_name")</code>來自動安裝到我們的電腦中。</li>
</ul>
</div>
<div id="install-following-packages-at-home" class="section level4 hasAnchor" number="1.1.0.3">
<h4><span class="header-section-number">1.1.0.3</span> Install following packages <strong>at home</strong><a href="basic.html#install-following-packages-at-home" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<ul>
<li>Remove comment <code>#</code> symbol to install new package</li>
</ul>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="basic.html#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages(&quot;jsonlite&quot;)</span></span>
<span id="cb4-2"><a href="basic.html#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages(&quot;httr&quot;)</span></span></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="basic.html#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages(&quot;tidyverse&quot;)</span></span>
<span id="cb5-2"><a href="basic.html#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages(&quot;caret&quot;)</span></span>
<span id="cb5-3"><a href="basic.html#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages(&quot;jiebaR&quot;)</span></span>
<span id="cb5-4"><a href="basic.html#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages(&quot;topicmodels&quot;)</span></span>
<span id="cb5-5"><a href="basic.html#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages(&quot;stm&quot;)</span></span></code></pre></div>
</div>
<div id="loading-third-party-packages" class="section level4 hasAnchor" number="1.1.0.4">
<h4><span class="header-section-number">1.1.0.4</span> Loading third-party packages<a href="basic.html#loading-third-party-packages" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<ul>
<li>這些第三方套件被安裝好後，還需要被<strong>加載</strong>到程式的執行環境中才可以使用。因此要用<code>library(package_name)</code>將其載入。</li>
</ul>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="basic.html#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># loading jsonlite and httr library</span></span>
<span id="cb6-2"><a href="basic.html#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(jsonlite)</span>
<span id="cb6-3"><a href="basic.html#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(httr)</span></code></pre></div>
</div>
<div id="註解" class="section level4 hasAnchor" number="1.1.0.5">
<h4><span class="header-section-number">1.1.0.5</span> 註解<a href="basic.html#註解" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<ul>
<li>下列程式碼中開頭有<code>#</code>符號者為註解，程式在執行時會自動忽略前面有<code>#</code>符號的程式碼。</li>
<li>當使用RMarkdown格式撰寫時，因為RMarkdown是在事後才生成文件，所以當遇到要安裝該套件的指令時，便會跳出錯誤訊息。</li>
</ul>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="basic.html#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># a &lt;- c(1, 2, 3, 4, 5)</span></span>
<span id="cb7-2"><a href="basic.html#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="co"># b &lt;- 4</span></span>
<span id="cb7-3"><a href="basic.html#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="co"># a*b</span></span></code></pre></div>
</div>
<div id="loading-dcard-data" class="section level3 hasAnchor" number="1.1.1">
<h3><span class="header-section-number">1.1.1</span> Loading dcard data<a href="basic.html#loading-dcard-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>先不要去管<code>fromJSON(content(GET(url), "text"))</code>是什麼意思，先著重在語言的形式。通常一個函式會寫為<code>func_name()</code>，所以上述其實是三個函式由內而外一層套一層，從最內層開始往外做。</li>
<li>這其實很make-sense，因為如果你有一個數學式<code>(1 + (3-3)/2)/8</code>，也是會從最裡面那層做出來。</li>
</ul>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="basic.html#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(jsonlite)</span>
<span id="cb8-2"><a href="basic.html#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(httr)</span>
<span id="cb8-3"><a href="basic.html#cb8-3" aria-hidden="true" tabindex="-1"></a>url <span class="ot">&lt;-</span> <span class="st">&quot;https://www.dcard.tw/_api/forums/relationship/posts?popular=true&quot;</span></span>
<span id="cb8-4"><a href="basic.html#cb8-4" aria-hidden="true" tabindex="-1"></a>res <span class="ot">&lt;-</span> <span class="fu">fromJSON</span>(<span class="fu">content</span>(<span class="fu">GET</span>(url), <span class="st">&quot;text&quot;</span>))</span>
<span id="cb8-5"><a href="basic.html#cb8-5" aria-hidden="true" tabindex="-1"></a>dplyr<span class="sc">::</span><span class="fu">glimpse</span>(res)</span></code></pre></div>
<pre class="output"><code>## Rows: 30
## Columns: 53
## $ id                      &lt;int&gt; 235931948, 238716114, 238711593, 238711362, 23…
## $ title                   &lt;chr&gt; &quot;#公告 關於感情板的微西斯內容&quot;, &quot;分手完馬上做…
## $ excerpt                 &lt;chr&gt; &quot;各位卡友們好，小天使近期收到許多關於感情板西…
## $ anonymousSchool         &lt;lgl&gt; FALSE, TRUE, TRUE, FALSE, TRUE, TRUE, TRUE, TR…
## $ anonymousDepartment     &lt;lgl&gt; TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE…
## $ pinned                  &lt;lgl&gt; TRUE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE…
## $ forumId                 &lt;chr&gt; &quot;42851318-b9e2-4a75-8a05-9fe180becefe&quot;, &quot;42851…
## $ replyId                 &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
## $ createdAt               &lt;chr&gt; &quot;2021-05-07T06:11:32.413Z&quot;, &quot;2022-04-25T17:37:…
## $ updatedAt               &lt;chr&gt; &quot;2021-05-07T18:00:24.726Z&quot;, &quot;2022-04-26T03:50:…
## $ commentCount            &lt;int&gt; 34, 550, 328, 162, 384, 197, 112, 125, 130, 14…
## $ likeCount               &lt;int&gt; 315, 2237, 2076, 1082, 860, 845, 670, 470, 385…
## $ withNickname            &lt;lgl&gt; TRUE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE…
## $ tags                    &lt;list&gt; &quot;HIDE_THUMBNAIL&quot;, &quot;HIDE_THUMBNAIL&quot;, &lt;&gt;, &lt;&gt;, &quot;…
## $ topics                  &lt;list&gt; &lt;&gt;, &lt;&quot;分手後&quot;, &quot;吵架就說分手&quot;&gt;, &lt;&quot;交友&quot;, &quot;omi…
## $ meta                    &lt;df[,2]&gt; &lt;data.frame[26 x 2]&gt;
## $ forumName               &lt;chr&gt; &quot;感情&quot;, &quot;感情&quot;, &quot;感情&quot;, &quot;感情&quot;, &quot;感情&quot;, &quot;感…
## $ forumAlias              &lt;chr&gt; &quot;relationship&quot;, &quot;relationship&quot;, &quot;relationship&quot;…
## $ nsfw                    &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALS…
## $ gender                  &lt;chr&gt; &quot;D&quot;, &quot;M&quot;, &quot;F&quot;, &quot;F&quot;, &quot;M&quot;, &quot;F&quot;, &quot;F&quot;, &quot;F&quot;, &quot;M&quot;, &quot;…
## $ school                  &lt;chr&gt; &quot;客服小天使&quot;, NA, NA, &quot;國立臺灣藝術大學&quot;, NA, …
## $ department              &lt;chr&gt; &quot;dcard_support_1&quot;, NA, NA, NA, NA, NA, NA, NA,…
## $ replyTitle              &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
## $ mediaMeta               &lt;list&gt; [&lt;data.frame[0 x 0]&gt;], [&lt;data.frame[1 x 10]&gt;],…
## $ reactions               &lt;list&gt; [&lt;data.frame[4 x 2]&gt;], [&lt;data.frame[6 x 2]&gt;],…
## $ hidden                  &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FAL…
## $ customStyle             &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
## $ isSuspiciousAccount     &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALS…
## $ isModerator             &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALS…
## $ layout                  &lt;chr&gt; &quot;classic&quot;, &quot;classic&quot;, &quot;classic&quot;, &quot;classic&quot;, &quot;c…
## $ pinnedType              &lt;chr&gt; &quot;dcard&quot;, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…
## $ pinnedPriority          &lt;dbl&gt; 1.620368e+12, NA, NA, NA, NA, NA, NA, NA, NA, …
## $ spoilerAlert            &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALS…
## $ categories              &lt;list&gt; &quot;公告&quot;, &lt;NULL&gt;, &lt;NULL&gt;, &lt;NULL&gt;, &lt;NULL&gt;, &lt;NULL&gt;…
## $ isSelectedPost          &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FAL…
## $ unsafe                  &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALS…
## $ totalCommentCount       &lt;int&gt; 34, 644, 553, 245, 982, 321, 167, 220, 184, 19…
## $ withImages              &lt;lgl&gt; FALSE, TRUE, TRUE, TRUE, FALSE, FALSE, TRUE, T…
## $ withVideos              &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALS…
## $ media                   &lt;list&gt; [&lt;data.frame[0 x 0]&gt;], [&lt;data.frame[0 x 0]&gt;], …
## $ reportReasonText        &lt;chr&gt; &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;…
## $ supportedReactions      &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
## $ excerptComments         &lt;list&gt; [], [], [], [], [], [], [], [], [], [], [], []…
## $ edited                  &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FAL…
## $ collectionCount         &lt;int&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0…
## $ postAvatar              &lt;chr&gt; &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;…
## $ activityAvatar          &lt;chr&gt; &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;…
## $ verifiedBadge           &lt;lgl&gt; TRUE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE…
## $ memberType              &lt;chr&gt; &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;…
## $ enablePrivateMessage    &lt;lgl&gt; NA, FALSE, FALSE, NA, NA, FALSE, NA, NA, FALSE…
## $ enableNestedComment     &lt;lgl&gt; NA, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, …
## $ leaderboardCategoryId   &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
## $ leaderboardCategoryName &lt;chr&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…</code></pre>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="basic.html#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(res)</span></code></pre></div>
<pre class="output"><code>##          id                             title
## 1 235931948      #公告 關於感情板的微西斯內容
## 2 238716114              分手完馬上做特別興奮
## 3 238711593        在交友軟體上發現朋友的男友
## 4 238711362     直男的浪漫…….紅蘿蔔真的去死
## 5 238709372                  老婆跟我提離婚了
## 6 238715042 第一次看老公隱私，覺得心態好崩潰⋯
##                                                                                                                                                                                                    excerpt
## 1 各位卡友們好，小天使近期收到許多關於感情板西斯內容的檢舉以及相關詢問，我們了解感情板是為討論情感關係所設立，而「性」也是感情中的一部份，因此不會禁止討論這些內容。但有部分文章內容描述過於露骨，或是除了
## 2 跟女友同居一年了，前一陣子為了誰該維持家中整潔而吵架感情決裂，氣的彼此說好分一分比較乾脆啦，東西都妳一個我一個分好了，講話也開始變得像陌生人一樣，變得非常客氣十分客套，但是過了一會，氣氛突然變得很詭異
## 3        在Omi上面看到朋友的男友，還like我，我嚇一跳問了我朋友，一問之下才發現原來不是初犯，之前這男生去年答應我朋友不再用，結果還是一樣！，還會加別的女生賴直接撩個夠～我朋友真的也很誇張的傻，她兩個禮拜
## 4    最近畢製快到，整天忙得要死三餐都隨便吃，（是真的隨便吃大概就餅乾、水果那些或喝飲料），男友剛看不下去幫我泡了一碗泡麵，但...打開泡麵，看見，滿滿ㄉ，紅蘿蔔，真的，不感動耶…，明知道我很挑食但又愛逼我
## 5 事情是這樣，簡單敘述。和老婆是因為懷孕而結婚了，原本小孩未出生前，我們都是在外居住。直到小孩出生，因為我們倆都有工作，無法帶小孩，加上我倆薪資不高，也不夠負擔保姆費用。所以把小孩帶回我家，因為小孩帶回
## 6 跟老公認識到現在從來沒有真的翻過他手機，一直都很信任他，相信他會自己拿捏跟女生的界線，所以基本上也不會限制他什麼，但最近因為懷疑他有事情隱瞞我，所以偷偷看了訊息。我們之前分手過，後來他找我複合，而且主
##   anonymousSchool anonymousDepartment pinned
## 1           FALSE                TRUE   TRUE
## 2            TRUE                TRUE  FALSE
## 3            TRUE                TRUE  FALSE
## 4           FALSE                TRUE  FALSE
## 5            TRUE                TRUE  FALSE
## 6            TRUE                TRUE  FALSE
##                                forumId replyId                createdAt
## 1 42851318-b9e2-4a75-8a05-9fe180becefe      NA 2021-05-07T06:11:32.413Z
## 2 42851318-b9e2-4a75-8a05-9fe180becefe      NA 2022-04-25T17:37:11.457Z
## 3 42851318-b9e2-4a75-8a05-9fe180becefe      NA 2022-04-25T09:39:56.061Z
## 4 42851318-b9e2-4a75-8a05-9fe180becefe      NA 2022-04-25T09:11:55.806Z
## 5 42851318-b9e2-4a75-8a05-9fe180becefe      NA 2022-04-25T05:18:38.773Z
## 6 42851318-b9e2-4a75-8a05-9fe180becefe      NA 2022-04-25T15:35:26.209Z
##                  updatedAt commentCount likeCount withNickname           tags
## 1 2021-05-07T18:00:24.726Z           34       315         TRUE HIDE_THUMBNAIL
## 2 2022-04-26T03:50:46.275Z          550      2237        FALSE HIDE_THUMBNAIL
## 3 2022-04-26T11:21:34.628Z          328      2076        FALSE               
## 4 2022-04-25T09:11:55.806Z          162      1082        FALSE               
## 5 2022-04-25T05:18:38.773Z          384       860        FALSE HIDE_THUMBNAIL
## 6 2022-04-26T07:13:38.374Z          197       845        FALSE HIDE_THUMBNAIL
##                           topics meta.layout meta.disableAdSense forumName
## 1                                    classic                TRUE      感情
## 2           分手後, 吵架就說分手     classic                  NA      感情
## 3 交友, omi, Omi, 交友軟體, 渣男     classic                  NA      感情
## 4 浪漫, 紅蘿蔔, 感情, 愛情, 男友     classic                  NA      感情
## 5                           離婚     classic                  NA      感情
## 6               老公, 心態, 感情     classic                  NA      感情
##     forumAlias  nsfw gender           school      department replyTitle
## 1 relationship FALSE      D       客服小天使 dcard_support_1         NA
## 2 relationship FALSE      M             &lt;NA&gt;            &lt;NA&gt;         NA
## 3 relationship FALSE      F             &lt;NA&gt;            &lt;NA&gt;         NA
## 4 relationship FALSE      F 國立臺灣藝術大學            &lt;NA&gt;         NA
## 5 relationship FALSE      M             &lt;NA&gt;            &lt;NA&gt;         NA
## 6 relationship FALSE      F             &lt;NA&gt;            &lt;NA&gt;         NA
##                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    mediaMeta
## 1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       NULL
## 2                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     e27e5875-4cda-422e-b011-a8205b9b2816, https://sticker-assets.dcard.tw/images/e93afb68-3148-4ae6-bfaf-2fe6bf071d35/orig.png, https://megapx.dcard.tw/v1/images/e93afb68-3148-4ae6-bfaf-2fe6bf071d35, , image/sticker, IMAGE_NOT_AVAILABLE, 2022-04-25T17:37:11.457Z, 2022-04-26T03:50:46.275Z, 512, 512
## 3 5431dc73-392b-43b6-b97c-50ed6d0c533a, 5431dc73-392b-43b6-b97c-50ed6d0c533a, f301b87a-4319-4a98-8d57-346ae6045ef6, a4a3ab81-aa8d-4bc0-8639-95dfbff15a39, 4cf70df7-82b8-48b4-81e2-6774fc773782, https://i.imgur.com/kiAugXAl.jpg, https://i.imgur.com/kiAugXA.jpg, https://i.imgur.com/Ck2m2Ws.jpg, https://i.imgur.com/R3mXqrH.jpg, https://i.imgur.com/r4mqWeS.jpg, https://i.imgur.com/kiAugXAl.jpg, https://imgur.com/kiAugXA, https://imgur.com/Ck2m2Ws, https://imgur.com/R3mXqrH, https://imgur.com/r4mqWeS, https://i.imgur.com/kiAugXAl.jpg, https://i.imgur.com/kiAugXAl.jpg, https://i.imgur.com/Ck2m2Wsl.jpg, https://i.imgur.com/R3mXqrHl.jpg, https://i.imgur.com/r4mqWeSl.jpg, image/thumbnail, image/imgur, image/imgur, image/imgur, image/imgur, ANNOTATED, ANNOTATED, ANNOTATED, ANNOTATED, 2022-04-26T11:05:56.528Z, 2022-04-26T11:05:56.528Z, 2022-04-26T11:21:34.628Z, 2022-04-25T09:43:27.577Z, 2022-04-26T11:05:56.528Z, 2022-04-26T11:21:34.628Z, 2022-04-26T11:21:34.628Z, 2022-04-26T11:21:34.628Z, 2022-04-26T11:21:34.628Z, 2022-04-26T11:21:34.628Z, 642, 642, 976, 1693, 1080, 951, 951, 1301, 2000, 1844, 0, 0, NA, NA, NA, 100, 100, NA, NA, NA, 642, 642, NA, NA, NA, 851, 851, NA, NA, NA
## 4                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              977b42a3-3085-4b4e-bd6b-2aa06f413557, 977b42a3-3085-4b4e-bd6b-2aa06f413557, b41dceac-7119-47fa-8fe5-ff27af51d5c8, https://i.imgur.com/PVxZRiIl.jpg, https://i.imgur.com/PVxZRiI.jpg, https://i.imgur.com/EjJNHnW.jpg, https://i.imgur.com/PVxZRiIl.jpg, https://imgur.com/PVxZRiI, https://imgur.com/EjJNHnW, https://i.imgur.com/PVxZRiIl.jpg, https://i.imgur.com/PVxZRiIl.jpg, https://i.imgur.com/EjJNHnWl.jpg, image/thumbnail, image/imgur, image/imgur, 2022-04-25T09:11:55.806Z, 2022-04-25T09:11:55.806Z, 2022-04-25T09:11:55.806Z, 2022-04-25T09:11:55.806Z, 2022-04-25T09:11:55.806Z, 2022-04-25T09:11:55.806Z, 1501, 1501, 1501, 2000, 2000, 2000
## 5                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       NULL
## 6                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       NULL
##                                                                                                                                                                                                                                                    reactions
## 1                                                                                       286f599c-f86a-4932-82f0-f5a06f1eca03, e8e6bc5d-41b0-4129-b134-97507523d7ff, aa0d425f-d530-4478-9a77-fe3aedc79eea, 4b018f48-e184-445f-adf1-fc8e04ba09b9, 308, 4, 2, 1
## 2 286f599c-f86a-4932-82f0-f5a06f1eca03, e8e6bc5d-41b0-4129-b134-97507523d7ff, 4b018f48-e184-445f-adf1-fc8e04ba09b9, aa0d425f-d530-4478-9a77-fe3aedc79eea, 011ead16-9b83-4729-9fde-c588920c6c2d, 514c2569-fd53-4d9d-a415-bf0f88e7329f, 1871, 292, 66, 4, 3, 1
## 3                                        286f599c-f86a-4932-82f0-f5a06f1eca03, 4b018f48-e184-445f-adf1-fc8e04ba09b9, aa0d425f-d530-4478-9a77-fe3aedc79eea, e8e6bc5d-41b0-4129-b134-97507523d7ff, 514c2569-fd53-4d9d-a415-bf0f88e7329f, 1796, 125, 83, 50, 22
## 4                                            286f599c-f86a-4932-82f0-f5a06f1eca03, e8e6bc5d-41b0-4129-b134-97507523d7ff, 514c2569-fd53-4d9d-a415-bf0f88e7329f, 4b018f48-e184-445f-adf1-fc8e04ba09b9, 011ead16-9b83-4729-9fde-c588920c6c2d, 954, 120, 5, 2, 1
## 5                                            286f599c-f86a-4932-82f0-f5a06f1eca03, 514c2569-fd53-4d9d-a415-bf0f88e7329f, e8e6bc5d-41b0-4129-b134-97507523d7ff, 4b018f48-e184-445f-adf1-fc8e04ba09b9, aa0d425f-d530-4478-9a77-fe3aedc79eea, 743, 64, 40, 8, 5
## 6                                           286f599c-f86a-4932-82f0-f5a06f1eca03, 4b018f48-e184-445f-adf1-fc8e04ba09b9, e8e6bc5d-41b0-4129-b134-97507523d7ff, 514c2569-fd53-4d9d-a415-bf0f88e7329f, aa0d425f-d530-4478-9a77-fe3aedc79eea, 770, 31, 25, 12, 7
##   hidden customStyle isSuspiciousAccount isModerator  layout pinnedType
## 1  FALSE          NA               FALSE       FALSE classic      dcard
## 2  FALSE          NA               FALSE       FALSE classic       &lt;NA&gt;
## 3  FALSE          NA               FALSE       FALSE classic       &lt;NA&gt;
## 4  FALSE          NA               FALSE       FALSE classic       &lt;NA&gt;
## 5  FALSE          NA               FALSE       FALSE classic       &lt;NA&gt;
## 6  FALSE          NA               FALSE       FALSE classic       &lt;NA&gt;
##   pinnedPriority spoilerAlert categories isSelectedPost unsafe
## 1   1.620368e+12        FALSE       公告          FALSE  FALSE
## 2             NA        FALSE       NULL          FALSE  FALSE
## 3             NA        FALSE       NULL          FALSE  FALSE
## 4             NA        FALSE       NULL          FALSE  FALSE
## 5             NA        FALSE       NULL          FALSE  FALSE
## 6             NA        FALSE       NULL          FALSE  FALSE
##   totalCommentCount withImages withVideos
## 1                34      FALSE      FALSE
## 2               644       TRUE      FALSE
## 3               553       TRUE      FALSE
## 4               245       TRUE      FALSE
## 5               982      FALSE      FALSE
## 6               321      FALSE      FALSE
##                                                                                                                                media
## 1                                                                                                                               NULL
## 2                                                                                                                               NULL
## 3 https://i.imgur.com/kiAugXA.jpg, https://i.imgur.com/Ck2m2Ws.jpg, https://i.imgur.com/R3mXqrH.jpg, https://i.imgur.com/r4mqWeS.jpg
## 4                                                                   https://i.imgur.com/PVxZRiI.jpg, https://i.imgur.com/EjJNHnW.jpg
## 5                                                                                                                               NULL
## 6                                                                                                                               NULL
##   reportReasonText supportedReactions excerptComments edited collectionCount
## 1                                  NA            NULL  FALSE               0
## 2                                  NA            NULL  FALSE               0
## 3                                  NA            NULL  FALSE               0
## 4                                  NA            NULL  FALSE               0
## 5                                  NA            NULL  FALSE               0
## 6                                  NA            NULL  FALSE               0
##   postAvatar activityAvatar verifiedBadge memberType enablePrivateMessage
## 1                                    TRUE                              NA
## 2                                   FALSE                           FALSE
## 3                                   FALSE                           FALSE
## 4                                   FALSE                              NA
## 5                                   FALSE                              NA
## 6                                   FALSE                           FALSE
##   enableNestedComment leaderboardCategoryId leaderboardCategoryName
## 1                  NA                  &lt;NA&gt;                    &lt;NA&gt;
## 2                TRUE                  &lt;NA&gt;                    &lt;NA&gt;
## 3                TRUE                  &lt;NA&gt;                    &lt;NA&gt;
## 4                TRUE                  &lt;NA&gt;                    &lt;NA&gt;
## 5                TRUE                  &lt;NA&gt;                    &lt;NA&gt;
## 6                TRUE                  &lt;NA&gt;                    &lt;NA&gt;</code></pre>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="basic.html#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># View(res)</span></span></code></pre></div>
</div>
<div id="getting-taipei-theft-report-data" class="section level3 hasAnchor" number="1.1.2">
<h3><span class="header-section-number">1.1.2</span> Getting Taipei theft report data<a href="basic.html#getting-taipei-theft-report-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="getting-from-the-web-directly" class="section level4 hasAnchor" number="1.1.2.1">
<h4><span class="header-section-number">1.1.2.1</span> Getting from the web directly<a href="basic.html#getting-from-the-web-directly" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<ul>
<li>Go to data.taipei</li>
<li>Make a query “住宅竊盜”</li>
<li>Open “住宅竊盜點位資訊”</li>
<li>Click “API”</li>
<li>Copy the API address and assign to url</li>
</ul>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="basic.html#cb13-1" aria-hidden="true" tabindex="-1"></a>url <span class="ot">&lt;-</span> <span class="st">&quot;https://data.taipei/api/v1/dataset/93d9bc2d-af08-4db7-a56b-9f0a49226fa3?scope=resourceAquire&quot;</span></span>
<span id="cb13-2"><a href="basic.html#cb13-2" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">read_json</span>(url, <span class="at">simplifyVector =</span> T)</span>
<span id="cb13-3"><a href="basic.html#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(df)</span></code></pre></div>
<pre class="output"><code>## $result
## $result$limit
## [1] 20
## 
## $result$offset
## [1] 0
## 
## $result$count
## [1] 3321
## 
## $result$sort
## [1] &quot;&quot;
## 
## $result$results
##    _id ﻿編號     案類 發生日期 發生時段
## 1    1    1 住宅竊盜  1030623    08~10
## 2    2    2 住宅竊盜  1040101    00~02
## 3    3    3 住宅竊盜  1040101    00~02
## 4    4    4 住宅竊盜  1040101    06~08
## 5    5    5 住宅竊盜  1040101    10~12
## 6    6    6 住宅竊盜  1040102    00~02
## 7    7    7 住宅竊盜  1040102    06~08
## 8    8    8 住宅竊盜  1040102    06~08
## 9    9    9 住宅竊盜  1040102    10~12
## 10  10   10 住宅竊盜  1040104    10~12
## 11  11   11 住宅竊盜  1040104    12~14
## 12  12   12 住宅竊盜  1040105    00~02
## 13  13   13 住宅竊盜  1040105    04~06
## 14  14   14 住宅竊盜  1040105    04~06
## 15  15   15 住宅竊盜  1040105    12~14
## 16  16   16 住宅竊盜  1040105    16~18
## 17  17   17 住宅竊盜  1040105    18~20
## 18  18   18 住宅竊盜  1040106    04~06
## 19  19   19 住宅竊盜  1040106    16~18
## 20  20   20 住宅竊盜  1040107    16~18
##                                       發生地點
## 1                   臺北市中正區廈門街91~120號
## 2               臺北市文山區萬美里萬寧街1~30號
## 3  臺北市信義區富台里忠孝東路5段295巷6弄1~30號
## 4              臺北市中山區新生北路1段91~120號
## 5            臺北市文山區明興里興隆路4段1~30號
## 6    臺北市士林區天福里1鄰忠誠路2段130巷1~30號
## 7           臺北市萬華區糖?里大理街159巷1~30號
## 8           臺北市萬華區糖?里大理街159巷1~30號
## 9                  臺北市中山區吉林路121~150號
## 10     臺北市信義區五常里永吉路225巷32弄1~30號
## 11             臺北市士林區明勝里通河街31~60號
## 12            臺北市中山區南京東路3段181~210號
## 13               臺北市萬華區大理街159巷1~30號
## 14          臺北市萬華區糖?里大理街159巷1~30號
## 15          臺北市北投區吉慶里實踐街56巷1~30號
## 16      臺北市中正區忠勤里中華路2段311巷1~30號
## 17         臺北市文山區興福里12鄰景華街61~90號
## 18           臺北市信義區雅祥里基隆路1段1~30號
## 19         臺北市中正區水源里汀州路3段91~120號
## 20             臺北市文山區萬芳里萬芳路31~60號</code></pre>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="basic.html#cb15-1" aria-hidden="true" tabindex="-1"></a>dplyr<span class="sc">::</span><span class="fu">glimpse</span>(df)</span></code></pre></div>
<pre class="output"><code>## List of 1
##  $ result:List of 5
##   ..$ limit  : int 20
##   ..$ offset : int 0
##   ..$ count  : int 3321
##   ..$ sort   : chr &quot;&quot;
##   ..$ results:&#39;data.frame&#39;:  20 obs. of  6 variables:
##   .. ..$ _id     : int [1:20] 1 2 3 4 5 6 7 8 9 10 ...
##   .. ..$ ﻿編號    : chr [1:20] &quot;1&quot; &quot;2&quot; &quot;3&quot; &quot;4&quot; ...
##   .. ..$ 案類    : chr [1:20] &quot;住宅竊盜&quot; &quot;住宅竊盜&quot; &quot;住宅竊盜&quot; &quot;住宅竊盜&quot; ...
##   .. ..$ 發生日期: chr [1:20] &quot;1030623&quot; &quot;1040101&quot; &quot;1040101&quot; &quot;1040101&quot; ...
##   .. ..$ 發生時段: chr [1:20] &quot;08~10&quot; &quot;00~02&quot; &quot;00~02&quot; &quot;06~08&quot; ...
##   .. ..$ 發生地點: chr [1:20] &quot;臺北市中正區廈門街91~120號&quot; &quot;臺北市文山區萬美里萬寧街1~30號&quot; &quot;臺北市信義區富台里忠孝東路5段295巷6弄1~30號&quot; &quot;臺北市中山區新生北路1段91~120號&quot; ...</code></pre>
</div>
</div>
<div id="loading-a-csv-file-in-data-directory" class="section level3 hasAnchor" number="1.1.3">
<h3><span class="header-section-number">1.1.3</span> Loading a csv file in data directory<a href="basic.html#loading-a-csv-file-in-data-directory" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="basic.html#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># if mac cannot read data</span></span>
<span id="cb17-2"><a href="basic.html#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="fu">GET</span>(url, <span class="fu">write_disk</span>(<span class="st">&quot;data/tptheft.csv&quot;</span>, <span class="at">overwrite =</span> <span class="cn">TRUE</span>))</span></code></pre></div>
<pre class="output"><code>## Response [https://data.taipei/api/v1/dataset/93d9bc2d-af08-4db7-a56b-9f0a49226fa3?scope=resourceAquire]
##   Date: 2022-04-26 15:53
##   Status: 200
##   Content-Type: application/json
##   Size: 3.35 kB
## &lt;ON DISK&gt;  /Users/jirlong/Dropbox/Programming/JOUR5014/data/tptheft.csv</code></pre>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="basic.html#cb19-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;data/tptheft.csv&quot;</span>, <span class="at">fileEncoding =</span> <span class="st">&quot;big5&quot;</span>)</span>
<span id="cb19-2"><a href="basic.html#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(df)</span></code></pre></div>
<pre class="output"><code>## [1] X.result..limit.20                                                        
## [2] offset.0                                                                  
## [3] count.3321                                                                
## [4] sort.                                                                     
## [5] results..._id.1                                                           
## [6] 嚜輻楊..result..limit.20.offset.0.count.3321.sort...results..._id.1.嚜輻楊
## &lt;0 列&gt; (或零長度的 row.names)</code></pre>
</div>
<div id="loading-moi-data-through-api" class="section level3 hasAnchor" number="1.1.4">
<h3><span class="header-section-number">1.1.4</span> Loading MOI data through API<a href="basic.html#loading-moi-data-through-api" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="basic.html#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(httr)</span>
<span id="cb21-2"><a href="basic.html#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(jsonlite)</span>
<span id="cb21-3"><a href="basic.html#cb21-3" aria-hidden="true" tabindex="-1"></a>url <span class="ot">&lt;-</span> <span class="st">&quot;https://www.ris.gov.tw/rs-opendata/api/v1/datastore/ODRP024/107?page=1&quot;</span></span>
<span id="cb21-4"><a href="basic.html#cb21-4" aria-hidden="true" tabindex="-1"></a>first_page <span class="ot">&lt;-</span> <span class="fu">fromJSON</span>(<span class="fu">content</span>(<span class="fu">GET</span>(url), <span class="st">&quot;text&quot;</span>))</span>
<span id="cb21-5"><a href="basic.html#cb21-5" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(first_page<span class="sc">$</span>responseData)</span></code></pre></div>
<pre class="output"><code>##   statistic_yyy district_code      site_id village    edu sex
## 1           107   65000010001 新北市板橋區  留侯里   博畢  男
## 2           107   65000010001 新北市板橋區  留侯里   碩畢  男
## 3           107   65000010001 新北市板橋區  留侯里   大畢  男
## 4           107   65000010001 新北市板橋區  留侯里   專畢  男
## 5           107   65000010001 新北市板橋區  留侯里 高中畢  男
## 6           107   65000010001 新北市板橋區  留侯里 國中畢  男
##   headhousehold_count
## 1                   3
## 2                  26
## 3                  71
## 4                  52
## 5                 122
## 6                  40</code></pre>
<div id="deprecated-getting-104-query-data" class="section level4 hasAnchor" number="1.1.4.1">
<h4><span class="header-section-number">1.1.4.1</span> (deprecated) Getting 104 query data<a href="basic.html#deprecated-getting-104-query-data" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<blockquote>
<p>deprecated due to blocked by new cookie or referer</p>
</blockquote>
<pre><code>url &lt;- &quot;https://www.104.com.tw/jobs/search/list?ro=0&amp;kwop=7&amp;keyword=%E8%B3%87%E6%96%99%E7%A7%91%E5%AD%B8&amp;order=15&amp;asc=0&amp;page=4&amp;mode=s&amp;jobsource=2018indexpoc&quot;
browseURL(url)
txt &lt;- content(GET(url), &quot;text&quot;)
res &lt;- fromJSON(content(GET(url), &quot;text&quot;))
df &lt;- res$data$list
head(df)</code></pre>
</div>
</div>
<div id="getting-ubike" class="section level3 hasAnchor" number="1.1.5">
<h3><span class="header-section-number">1.1.5</span> Getting ubike<a href="basic.html#getting-ubike" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><a href="https://taipeicity.github.io/traffic_realtime/" class="uri">https://taipeicity.github.io/traffic_realtime/</a></li>
</ul>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="basic.html#cb24-1" aria-hidden="true" tabindex="-1"></a>url <span class="ot">&lt;-</span> <span class="st">&quot;https://tcgbusfs.blob.core.windows.net/blobyoubike/YouBikeTP.json&quot;</span></span>
<span id="cb24-2"><a href="basic.html#cb24-2" aria-hidden="true" tabindex="-1"></a>ubike.list <span class="ot">&lt;-</span> <span class="fu">fromJSON</span>(<span class="fu">content</span>(<span class="fu">GET</span>(url),<span class="st">&quot;text&quot;</span>, <span class="at">encoding =</span> <span class="st">&quot;utf-8&quot;</span>))</span>
<span id="cb24-3"><a href="basic.html#cb24-3" aria-hidden="true" tabindex="-1"></a>ubike.v <span class="ot">&lt;-</span> <span class="fu">unlist</span>(ubike.list<span class="sc">$</span>retVal)</span>
<span id="cb24-4"><a href="basic.html#cb24-4" aria-hidden="true" tabindex="-1"></a>ubike.m <span class="ot">&lt;-</span> <span class="fu">matrix</span>(ubike.v, <span class="at">byrow =</span> T, <span class="at">ncol =</span> <span class="dv">14</span>)</span>
<span id="cb24-5"><a href="basic.html#cb24-5" aria-hidden="true" tabindex="-1"></a>ubike.df <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(ubike.m)</span>
<span id="cb24-6"><a href="basic.html#cb24-6" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(ubike.df) <span class="ot">&lt;-</span> <span class="fu">names</span>(ubike.list<span class="sc">$</span>retVal<span class="sc">$</span><span class="st">`</span><span class="at">0001</span><span class="st">`</span>)</span>
<span id="cb24-7"><a href="basic.html#cb24-7" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(ubike.df)</span></code></pre></div>
<pre class="output"><code>##    sno                       sna tot sbi  sarea           mday           lat
## 1 0001     捷運市政府站(3號出口)  88   0 信義區 20220426235128 25.0408578889
## 2 0002 捷運國父紀念館站(2號出口)  16   0 大安區 20220426235125     25.041254
## 3 0004                  市民廣場  32   0 信義區 20220426235143 25.0360361111
## 4 0005                  興雅國中  32   8 信義區 20220426235131 25.0365638889
## 5 0006              臺北南山廣場  54  11 信義區 20220426235118     25.034047
## 6 0007         信義廣場(台北101)  80   0 信義區 20220426235123 25.0330388889
##             lng                                                             ar
## 1 121.567904444                                        忠孝東路/松仁路(東南側)
## 2     121.55742                                忠孝東路四段/光復南路口(西南側)
## 3    121.562325 市府路/松壽路(西北側)(鄰近台北101/台北世界貿易中心/台北探索館)
## 4   121.5686639       松仁路/松仁路95巷(東南側)(鄰近信義商圈/台北信義威秀影城)
## 5    121.565973  松智路/松廉路(東北側) (鄰近台北101/信義商圈/台北信義威秀影城)
## 6 121.565619444                            松智路/信義路(東北側) (鄰近台北101)
##       sareaen                                     snaen
## 1 Xinyi Dist.   MRT Taipei City Hall Stataion(Exit 3)-2
## 2  Daan Dist. MRT S.Y.S Memorial Hall Stataion(Exit 2.)
## 3 Xinyi Dist.                            Citizen Square
## 4 Xinyi Dist.                    Xingya Jr. High School
## 5 Xinyi Dist.                            NAN SHAN PLAZA
## 6 Xinyi Dist.                  Xinyi Square(Taipei 101)
##                                                          aren bemp act
## 1 The S.W. side of Road Zhongxiao East Road &amp; Road Chung Yan.   85   1
## 2                         Sec,4. Zhongxiao E.Rd/GuangFu S. Rd   16   1
## 3               The N.W. side of Road Shifu &amp; Road Song Shou.   32   1
## 4        The S.E. side of Road Songren &amp; Ln. 95, Songren Rd..   24   1
## 5            The N.E. side of Road Song Zhi &amp; Road Song Lian.   43   1
## 6                The N.E. side of Road Song Zhi &amp; Road Xinyi.   80   1</code></pre>

</div>
</div>
<div id="vectors" class="section level2 hasAnchor" number="1.2">
<h2><span class="header-section-number">1.2</span> Vectors<a href="basic.html#vectors" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="r-syntax" class="section level3 hasAnchor" number="1.2.1">
<h3><span class="header-section-number">1.2.1</span> R syntax<a href="basic.html#r-syntax" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="assignment" class="section level4 hasAnchor" number="1.2.1.1">
<h4><span class="header-section-number">1.2.1.1</span> Assignment<a href="basic.html#assignment" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<ul>
<li><code>&lt;-</code> 將右邊的算式或數值指派給左邊的變數。右邊如果是numeric，那左邊的變數就是numeric variable；右邊如果是character，左邊的變數就是character variable。</li>
<li>在幾乎所有程式語言中，單等號<code>=</code>指的是assignment，把右方的算式、值或物件指給左方的變數。而比較兩者相不相等，則用雙等號<code>==</code>，例如<code>1==3-2</code>。</li>
</ul>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="basic.html#cb26-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb26-2"><a href="basic.html#cb26-2" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>)</span>
<span id="cb26-3"><a href="basic.html#cb26-3" aria-hidden="true" tabindex="-1"></a>c <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;1&quot;</span>, <span class="st">&quot;2&quot;</span>, <span class="st">&quot;3&quot;</span>, <span class="st">&quot;4&quot;</span>)</span>
<span id="cb26-4"><a href="basic.html#cb26-4" aria-hidden="true" tabindex="-1"></a>d <span class="ot">&lt;-</span> <span class="fu">c</span>(b, a)</span>
<span id="cb26-5"><a href="basic.html#cb26-5" aria-hidden="true" tabindex="-1"></a>e <span class="ot">&lt;-</span> <span class="st">&quot;abcd&quot;</span></span></code></pre></div>
</div>
<div id="comments-註解" class="section level4 hasAnchor" number="1.2.1.2">
<h4><span class="header-section-number">1.2.1.2</span> comments 註解<a href="basic.html#comments-註解" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<ul>
<li><strong>註解</strong>：在程式碼區塊若前面有<code>#</code>字號後面跟著空白的話，那代表那行被標示為註解，程式執行時會自動跳過註解不執行。</li>
<li><strong>快速鍵</strong>：當游標在某一行程式碼時打<code>cmd(ctrl)-shift-c</code>，就可以產生註解。</li>
</ul>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="basic.html#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># df &lt;- data.frame(a = c(1, 2, 3), b = c(3, 4, 5))</span></span></code></pre></div>
</div>
</div>
<div id="vector-basic-operations" class="section level3 hasAnchor" number="1.2.2">
<h3><span class="header-section-number">1.2.2</span> Vector basic operations<a href="basic.html#vector-basic-operations" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><a href="https://www.ptt.cc/bbs/Gossiping/M.1535459575.A.54D.html">各縣市平均每月薪資所得</a></li>
<li><a href="https://zh.wikipedia.org/wiki/%E8%87%BA%E7%81%A3%E8%A1%8C%E6%94%BF%E5%8D%80%E4%BA%BA%E5%8F%A3%E5%88%97%E8%A1%A8">各縣市人口數</a></li>
</ul>
<div id="creating" class="section level4 hasAnchor" number="1.2.2.1">
<h4><span class="header-section-number">1.2.2.1</span> Creating<a href="basic.html#creating" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<ul>
<li>在程式碼中，只要是文字必用成對的雙引號或單引號包含其中，以區隔「變數」和「數字」。例如如果看到沒有雙引號的「英文字母」必定是變數名稱，或函式名稱。</li>
<li>如果看到有雙引號的數字，那也是文字。</li>
</ul>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="basic.html#cb28-1" aria-hidden="true" tabindex="-1"></a>income <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">70100</span>, <span class="dv">51300</span>, <span class="dv">51100</span>, <span class="dv">48400</span>, <span class="dv">47600</span>, <span class="dv">43000</span>)</span>
<span id="cb28-2"><a href="basic.html#cb28-2" aria-hidden="true" tabindex="-1"></a>county <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;台北&quot;</span>, <span class="st">&quot;新北&quot;</span>, <span class="st">&quot;桃園&quot;</span>, <span class="st">&quot;高雄&quot;</span>, <span class="st">&quot;台中&quot;</span>, <span class="st">&quot;台南&quot;</span>)</span>
<span id="cb28-3"><a href="basic.html#cb28-3" aria-hidden="true" tabindex="-1"></a>population <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">2.6</span>, <span class="fl">3.9</span>, <span class="fl">2.2</span>, <span class="fl">2.7</span>, <span class="fl">2.8</span>, <span class="fl">1.8</span>)</span>
<span id="cb28-4"><a href="basic.html#cb28-4" aria-hidden="true" tabindex="-1"></a>area <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">271.8</span>, <span class="fl">2052.5</span>, <span class="dv">1221</span>, <span class="fl">2951.9</span>, <span class="fl">2214.9</span>, <span class="fl">2191.7</span>)</span>
<span id="cb28-5"><a href="basic.html#cb28-5" aria-hidden="true" tabindex="-1"></a>income</span></code></pre></div>
<pre class="output"><code>## [1] 70100 51300 51100 48400 47600 43000</code></pre>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="basic.html#cb30-1" aria-hidden="true" tabindex="-1"></a>county[<span class="fu">c</span>(<span class="dv">5</span>, <span class="dv">3</span>, <span class="dv">1</span>)]</span></code></pre></div>
<pre class="output"><code>## [1] &quot;台中&quot; &quot;桃園&quot; &quot;台北&quot;</code></pre>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="basic.html#cb32-1" aria-hidden="true" tabindex="-1"></a>county <span class="ot">&lt;-</span> county[<span class="fu">c</span>(<span class="dv">5</span>, <span class="dv">3</span>, <span class="dv">1</span>)]</span>
<span id="cb32-2"><a href="basic.html#cb32-2" aria-hidden="true" tabindex="-1"></a>county</span></code></pre></div>
<pre class="output"><code>## [1] &quot;台中&quot; &quot;桃園&quot; &quot;台北&quot;</code></pre>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="basic.html#cb34-1" aria-hidden="true" tabindex="-1"></a>area</span></code></pre></div>
<pre class="output"><code>## [1]  271.8 2052.5 1221.0 2951.9 2214.9 2191.7</code></pre>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="basic.html#cb36-1" aria-hidden="true" tabindex="-1"></a>population</span></code></pre></div>
<pre class="output"><code>## [1] 2.6 3.9 2.2 2.7 2.8 1.8</code></pre>
</div>
<div id="creating-a-sequence" class="section level4 hasAnchor" number="1.2.2.2">
<h4><span class="header-section-number">1.2.2.2</span> Creating a sequence<a href="basic.html#creating-a-sequence" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="basic.html#cb38-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">11</span>, <span class="dv">99</span>, <span class="dv">11</span>)</span>
<span id="cb38-2"><a href="basic.html#cb38-2" aria-hidden="true" tabindex="-1"></a>a</span></code></pre></div>
<pre class="output"><code>## [1] 11 22 33 44 55 66 77 88 99</code></pre>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="basic.html#cb40-1" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="dv">11</span><span class="sc">:</span><span class="dv">20</span></span>
<span id="cb40-2"><a href="basic.html#cb40-2" aria-hidden="true" tabindex="-1"></a>b</span></code></pre></div>
<pre class="output"><code>##  [1] 11 12 13 14 15 16 17 18 19 20</code></pre>
</div>
<div id="creating-sequences-by-distribution" class="section level4 hasAnchor" number="1.2.2.3">
<h4><span class="header-section-number">1.2.2.3</span> Creating sequences by distribution<a href="basic.html#creating-sequences-by-distribution" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="basic.html#cb42-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">runif</span>(<span class="dv">10000000</span>, <span class="dv">1</span>, <span class="dv">10</span>) <span class="co"># uniform dist, n=1000</span></span>
<span id="cb42-2"><a href="basic.html#cb42-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">density</span>(x))</span></code></pre></div>
<p><img src="R-for-Data-Journalism_files/figure-html/unnamed-chunk-16-1.png" width="672" /></p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="basic.html#cb43-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">1000</span>, <span class="dv">1</span>, <span class="dv">10</span>) <span class="co"># uniform dist, n=1000</span></span>
<span id="cb43-2"><a href="basic.html#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">density</span>(x))</span></code></pre></div>
<p><img src="R-for-Data-Journalism_files/figure-html/unnamed-chunk-16-2.png" width="672" /></p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="basic.html#cb44-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">10000000</span>, <span class="dv">1</span>, <span class="dv">10</span>) <span class="co"># normal dist, n=1000</span></span>
<span id="cb44-2"><a href="basic.html#cb44-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">density</span>(x))</span></code></pre></div>
<p><img src="R-for-Data-Journalism_files/figure-html/unnamed-chunk-16-3.png" width="672" /></p>
</div>
</div>
<div id="viewing" class="section level3 hasAnchor" number="1.2.3">
<h3><span class="header-section-number">1.2.3</span> Viewing<a href="basic.html#viewing" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="basic.html#cb45-1" aria-hidden="true" tabindex="-1"></a>county</span></code></pre></div>
<pre class="output"><code>## [1] &quot;台中&quot; &quot;桃園&quot; &quot;台北&quot;</code></pre>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="basic.html#cb47-1" aria-hidden="true" tabindex="-1"></a>income</span></code></pre></div>
<pre class="output"><code>## [1] 70100 51300 51100 48400 47600 43000</code></pre>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="basic.html#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(county)</span></code></pre></div>
<pre class="output"><code>## [1] &quot;台中&quot; &quot;桃園&quot; &quot;台北&quot;</code></pre>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="basic.html#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(county)</span></code></pre></div>
<pre class="output"><code>## [1] &quot;台中&quot; &quot;桃園&quot; &quot;台北&quot;</code></pre>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="basic.html#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(county)</span></code></pre></div>
<pre class="output"><code>## [1] 3</code></pre>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="basic.html#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mode</span>(county)</span></code></pre></div>
<pre class="output"><code>## [1] &quot;character&quot;</code></pre>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="basic.html#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(county)</span></code></pre></div>
<pre class="output"><code>## [1] &quot;character&quot;</code></pre>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="basic.html#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="co"># View(county)</span></span>
<span id="cb59-2"><a href="basic.html#cb59-2" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(county)</span></code></pre></div>
<pre class="output"><code>## [1] 3</code></pre>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="basic.html#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(income)</span></code></pre></div>
<pre class="output"><code>## [1] 6</code></pre>
</div>
<div id="subsetting-filtering" class="section level3 hasAnchor" number="1.2.4">
<h3><span class="header-section-number">1.2.4</span> Subsetting, filtering<a href="basic.html#subsetting-filtering" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>It is important to know how to neglect first n or last n elements. For example, a[1:(length(a)-2)] will neglect the last two elements. Thinking why I need parentheses for <code>length(a)-2</code> here.</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="basic.html#cb63-1" aria-hidden="true" tabindex="-1"></a>county</span></code></pre></div>
<pre class="output"><code>## [1] &quot;台中&quot; &quot;桃園&quot; &quot;台北&quot;</code></pre>
<div class="sourceCode" id="cb65"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb65-1"><a href="basic.html#cb65-1" aria-hidden="true" tabindex="-1"></a>county[<span class="fu">c</span>(<span class="dv">5</span>, <span class="dv">3</span>, <span class="dv">1</span>)] <span class="co"># how about country[c(1, 3, 5)]</span></span></code></pre></div>
<pre class="output"><code>## [1] NA     &quot;台北&quot; &quot;台中&quot;</code></pre>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="basic.html#cb67-1" aria-hidden="true" tabindex="-1"></a>county[<span class="dv">3</span><span class="sc">:</span><span class="dv">6</span>] <span class="co"># is it equal to country[c(3, 4, 5, 6)]</span></span></code></pre></div>
<pre class="output"><code>## [1] &quot;台北&quot; NA     NA     NA</code></pre>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="basic.html#cb69-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="dv">11</span><span class="sc">:</span><span class="dv">19</span></span>
<span id="cb69-2"><a href="basic.html#cb69-2" aria-hidden="true" tabindex="-1"></a>a[<span class="dv">3</span><span class="sc">:</span><span class="fu">length</span>(a)]</span></code></pre></div>
<pre class="output"><code>## [1] 13 14 15 16 17 18 19</code></pre>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="basic.html#cb71-1" aria-hidden="true" tabindex="-1"></a>a[<span class="fu">length</span>(a)<span class="sc">:</span><span class="dv">3</span>]</span></code></pre></div>
<pre class="output"><code>## [1] 19 18 17 16 15 14 13</code></pre>
</div>
<div id="deleting" class="section level3 hasAnchor" number="1.2.5">
<h3><span class="header-section-number">1.2.5</span> Deleting<a href="basic.html#deleting" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>Without assignment, deletion won’t change original vectors</li>
</ul>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="basic.html#cb73-1" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> <span class="dv">11</span><span class="sc">:</span><span class="dv">20</span></span>
<span id="cb73-2"><a href="basic.html#cb73-2" aria-hidden="true" tabindex="-1"></a>b[<span class="sc">-</span>(<span class="dv">3</span><span class="sc">:</span><span class="dv">5</span>)]</span></code></pre></div>
<pre class="output"><code>## [1] 11 12 16 17 18 19 20</code></pre>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="basic.html#cb75-1" aria-hidden="true" tabindex="-1"></a>b[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>)]</span></code></pre></div>
<pre class="output"><code>## [1] 12 14 16 17 18 19 20</code></pre>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="basic.html#cb77-1" aria-hidden="true" tabindex="-1"></a>b</span></code></pre></div>
<pre class="output"><code>##  [1] 11 12 13 14 15 16 17 18 19 20</code></pre>
<ul>
<li>Correct deleting operations with assignment to replace original vector</li>
</ul>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="basic.html#cb79-1" aria-hidden="true" tabindex="-1"></a>b <span class="ot">&lt;-</span> b[<span class="sc">-</span>(<span class="dv">3</span><span class="sc">:</span><span class="dv">5</span>)]</span>
<span id="cb79-2"><a href="basic.html#cb79-2" aria-hidden="true" tabindex="-1"></a>b</span></code></pre></div>
<pre class="output"><code>## [1] 11 12 16 17 18 19 20</code></pre>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="basic.html#cb81-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">11</span>, <span class="dv">99</span>, <span class="dv">11</span>)</span>
<span id="cb81-2"><a href="basic.html#cb81-2" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> a[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>)]</span>
<span id="cb81-3"><a href="basic.html#cb81-3" aria-hidden="true" tabindex="-1"></a>a</span></code></pre></div>
<pre class="output"><code>## [1] 22 44 66 77 88 99</code></pre>
</div>
<div id="concatinating" class="section level3 hasAnchor" number="1.2.6">
<h3><span class="header-section-number">1.2.6</span> Concatinating<a href="basic.html#concatinating" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li>Concatinating is quite useful for web crawling when you crawl article links page by page. You may be not sure the number of page you need to crawl. So you need to append entire new vector to old vector. It is concatinating. (“Appending” often means adding one new element at the end of data.)</li>
</ul>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="basic.html#cb83-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span></span>
<span id="cb83-2"><a href="basic.html#cb83-2" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">c</span>(a, <span class="dv">11</span>)</span>
<span id="cb83-3"><a href="basic.html#cb83-3" aria-hidden="true" tabindex="-1"></a>a</span></code></pre></div>
<pre class="output"><code>##  [1]  1  2  3  4  5  6  7  8  9 10 11</code></pre>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="basic.html#cb85-1" aria-hidden="true" tabindex="-1"></a>b</span></code></pre></div>
<pre class="output"><code>## [1] 11 12 16 17 18 19 20</code></pre>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="basic.html#cb87-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">c</span>(a, b)</span>
<span id="cb87-2"><a href="basic.html#cb87-2" aria-hidden="true" tabindex="-1"></a>a</span></code></pre></div>
<pre class="output"><code>##  [1]  1  2  3  4  5  6  7  8  9 10 11 11 12 16 17 18 19 20</code></pre>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="basic.html#cb89-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">c</span>(a, a, b)</span>
<span id="cb89-2"><a href="basic.html#cb89-2" aria-hidden="true" tabindex="-1"></a>a</span></code></pre></div>
<pre class="output"><code>##  [1]  1  2  3  4  5  6  7  8  9 10 11 11 12 16 17 18 19 20  1  2  3  4  5  6  7
## [26]  8  9 10 11 11 12 16 17 18 19 20 11 12 16 17 18 19 20</code></pre>
</div>
<div id="calculating-with-vectors" class="section level3 hasAnchor" number="1.2.7">
<h3><span class="header-section-number">1.2.7</span> Calculating with vectors<a href="basic.html#calculating-with-vectors" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="arithmetic-operations" class="section level4 hasAnchor" number="1.2.7.1">
<h4><span class="header-section-number">1.2.7.1</span> Arithmetic operations<a href="basic.html#arithmetic-operations" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="basic.html#cb91-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="dv">11</span><span class="sc">:</span><span class="dv">19</span></span>
<span id="cb91-2"><a href="basic.html#cb91-2" aria-hidden="true" tabindex="-1"></a>a <span class="sc">+</span> <span class="dv">3</span></span></code></pre></div>
<pre class="output"><code>## [1] 14 15 16 17 18 19 20 21 22</code></pre>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="basic.html#cb93-1" aria-hidden="true" tabindex="-1"></a>a <span class="sc">/</span> <span class="dv">2</span></span></code></pre></div>
<pre class="output"><code>## [1] 5.5 6.0 6.5 7.0 7.5 8.0 8.5 9.0 9.5</code></pre>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="basic.html#cb95-1" aria-hidden="true" tabindex="-1"></a>a <span class="sc">%%</span> <span class="dv">2</span></span></code></pre></div>
<pre class="output"><code>## [1] 1 0 1 0 1 0 1 0 1</code></pre>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb97-1"><a href="basic.html#cb97-1" aria-hidden="true" tabindex="-1"></a>a <span class="sc">%/%</span> <span class="dv">2</span></span></code></pre></div>
<pre class="output"><code>## [1] 5 6 6 7 7 8 8 9 9</code></pre>
<div class="sourceCode" id="cb99"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb99-1"><a href="basic.html#cb99-1" aria-hidden="true" tabindex="-1"></a>a <span class="sc">%%</span> <span class="dv">2</span><span class="sc">==</span> <span class="dv">0</span></span></code></pre></div>
<pre class="output"><code>## [1] FALSE  TRUE FALSE  TRUE FALSE  TRUE FALSE  TRUE FALSE</code></pre>
<div class="sourceCode" id="cb101"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb101-1"><a href="basic.html#cb101-1" aria-hidden="true" tabindex="-1"></a><span class="fu">which</span>(a <span class="sc">%%</span> <span class="dv">2</span><span class="sc">==</span> <span class="dv">0</span>)</span></code></pre></div>
<pre class="output"><code>## [1] 2 4 6 8</code></pre>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb103-1"><a href="basic.html#cb103-1" aria-hidden="true" tabindex="-1"></a>a[<span class="fu">which</span>(a<span class="sc">%%</span> <span class="dv">2</span> <span class="sc">==</span> <span class="dv">0</span>)]</span></code></pre></div>
<pre class="output"><code>## [1] 12 14 16 18</code></pre>
<div class="sourceCode" id="cb105"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb105-1"><a href="basic.html#cb105-1" aria-hidden="true" tabindex="-1"></a>a[<span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">6</span>, <span class="dv">8</span>)]</span></code></pre></div>
<pre class="output"><code>## [1] 12 14 16 18</code></pre>
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb107-1"><a href="basic.html#cb107-1" aria-hidden="true" tabindex="-1"></a>a <span class="sc">%%</span> <span class="dv">2</span> <span class="sc">!=</span> <span class="dv">0</span></span></code></pre></div>
<pre class="output"><code>## [1]  TRUE FALSE  TRUE FALSE  TRUE FALSE  TRUE FALSE  TRUE</code></pre>
<div class="sourceCode" id="cb109"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb109-1"><a href="basic.html#cb109-1" aria-hidden="true" tabindex="-1"></a>a[a<span class="sc">%%</span> <span class="dv">2</span> <span class="sc">==</span> <span class="dv">0</span>]</span></code></pre></div>
<pre class="output"><code>## [1] 12 14 16 18</code></pre>
<div class="sourceCode" id="cb111"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb111-1"><a href="basic.html#cb111-1" aria-hidden="true" tabindex="-1"></a>a[a<span class="sc">%%</span><span class="dv">2</span> <span class="sc">!=</span> <span class="dv">0</span>]</span></code></pre></div>
<pre class="output"><code>## [1] 11 13 15 17 19</code></pre>
<div class="sourceCode" id="cb113"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb113-1"><a href="basic.html#cb113-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> a <span class="sc">%%</span> <span class="dv">2</span>     <span class="co"># modular arithmetic, get the reminder</span></span>
<span id="cb113-2"><a href="basic.html#cb113-2" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> a <span class="sc">%/%</span> <span class="dv">2</span>    <span class="co"># Quotient</span></span></code></pre></div>
</div>
<div id="logic-comparisons" class="section level4 hasAnchor" number="1.2.7.2">
<h4><span class="header-section-number">1.2.7.2</span> Logic comparisons<a href="basic.html#logic-comparisons" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb114-1"><a href="basic.html#cb114-1" aria-hidden="true" tabindex="-1"></a>a <span class="sc">%%</span> <span class="dv">2</span> <span class="sc">==</span> <span class="dv">0</span>     <span class="co"># deteting odd/even number</span></span></code></pre></div>
<pre class="output"><code>## [1] TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE TRUE</code></pre>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb116-1"><a href="basic.html#cb116-1" aria-hidden="true" tabindex="-1"></a>a <span class="sc">%%</span> <span class="dv">2</span> <span class="sc">!=</span> <span class="dv">0</span></span></code></pre></div>
<pre class="output"><code>## [1] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE</code></pre>
<div class="sourceCode" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb118-1"><a href="basic.html#cb118-1" aria-hidden="true" tabindex="-1"></a>a[a<span class="sc">%%</span><span class="dv">2</span><span class="sc">==</span><span class="dv">0</span>]</span></code></pre></div>
<pre class="output"><code>## [1] 0 0 0 0 0 0 0 0 0</code></pre>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb120-1"><a href="basic.html#cb120-1" aria-hidden="true" tabindex="-1"></a>a <span class="sc">&gt;</span> b</span></code></pre></div>
<pre class="output"><code>## [1] FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE FALSE</code></pre>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb122-1"><a href="basic.html#cb122-1" aria-hidden="true" tabindex="-1"></a>income <span class="sc">&gt;</span> <span class="fu">mean</span>(income)</span></code></pre></div>
<pre class="output"><code>## [1]  TRUE FALSE FALSE FALSE FALSE FALSE</code></pre>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb124-1"><a href="basic.html#cb124-1" aria-hidden="true" tabindex="-1"></a><span class="cn">TRUE</span> <span class="sc">==</span> T       <span class="co"># == equal to,</span></span></code></pre></div>
<pre class="output"><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb126-1"><a href="basic.html#cb126-1" aria-hidden="true" tabindex="-1"></a><span class="cn">TRUE</span> <span class="sc">!=</span> F       <span class="co"># != Not equal to</span></span></code></pre></div>
<pre class="output"><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb128"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb128-1"><a href="basic.html#cb128-1" aria-hidden="true" tabindex="-1"></a><span class="fu">any</span>(a<span class="sc">&gt;</span><span class="dv">11</span>) <span class="co"># is there any element larger than 1</span></span></code></pre></div>
<pre class="output"><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb130"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb130-1"><a href="basic.html#cb130-1" aria-hidden="true" tabindex="-1"></a><span class="fu">all</span>(a<span class="sc">&gt;</span><span class="dv">11</span>) <span class="co"># are all elements larger than 1</span></span></code></pre></div>
<pre class="output"><code>## [1] FALSE</code></pre>
</div>
<div id="subsetting-by-logic-comparisons" class="section level4 hasAnchor" number="1.2.7.3">
<h4><span class="header-section-number">1.2.7.3</span> Subsetting by logic comparisons<a href="basic.html#subsetting-by-logic-comparisons" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<ul>
<li>two methods to filter data from vectors, by index vector or a logical vector with equal length.</li>
</ul>
<div class="sourceCode" id="cb132"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb132-1"><a href="basic.html#cb132-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">11</span>, <span class="dv">55</span>, <span class="dv">11</span>)</span>
<span id="cb132-2"><a href="basic.html#cb132-2" aria-hidden="true" tabindex="-1"></a>a[<span class="fu">c</span>(T, F, T, F, T)]</span></code></pre></div>
<pre class="output"><code>## [1] 11 33 55</code></pre>
<div class="sourceCode" id="cb134"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb134-1"><a href="basic.html#cb134-1" aria-hidden="true" tabindex="-1"></a>a[a<span class="sc">%%</span><span class="dv">2</span><span class="sc">==</span><span class="dv">1</span>]</span></code></pre></div>
<pre class="output"><code>## [1] 11 33 55</code></pre>
<div class="sourceCode" id="cb136"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb136-1"><a href="basic.html#cb136-1" aria-hidden="true" tabindex="-1"></a>a<span class="sc">%%</span><span class="dv">2</span></span></code></pre></div>
<pre class="output"><code>## [1] 1 0 1 0 1</code></pre>
<div class="sourceCode" id="cb138"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb138-1"><a href="basic.html#cb138-1" aria-hidden="true" tabindex="-1"></a>a<span class="sc">%%</span><span class="dv">2</span><span class="sc">==</span><span class="dv">1</span></span></code></pre></div>
<pre class="output"><code>## [1]  TRUE FALSE  TRUE FALSE  TRUE</code></pre>
<div class="sourceCode" id="cb140"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb140-1"><a href="basic.html#cb140-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;你好&quot;</span>,<span class="st">&quot;你好棒棒&quot;</span>,<span class="st">&quot;你好棒&quot;</span>,<span class="st">&quot;你真的好棒&quot;</span>)</span>
<span id="cb140-2"><a href="basic.html#cb140-2" aria-hidden="true" tabindex="-1"></a>a[<span class="fu">nchar</span>(a)<span class="sc">&gt;</span><span class="dv">3</span>]</span></code></pre></div>
<pre class="output"><code>## [1] &quot;你好棒棒&quot;   &quot;你真的好棒&quot;</code></pre>
<div class="sourceCode" id="cb142"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb142-1"><a href="basic.html#cb142-1" aria-hidden="true" tabindex="-1"></a><span class="co"># which will return &quot;index-of&quot;</span></span>
<span id="cb142-2"><a href="basic.html#cb142-2" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">11</span>, <span class="dv">55</span>, <span class="dv">11</span>)</span>
<span id="cb142-3"><a href="basic.html#cb142-3" aria-hidden="true" tabindex="-1"></a>a[<span class="fu">which</span>(a<span class="sc">%%</span><span class="dv">2</span><span class="sc">==</span><span class="dv">1</span>)]</span></code></pre></div>
<pre class="output"><code>## [1] 11 33 55</code></pre>
<div class="sourceCode" id="cb144"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb144-1"><a href="basic.html#cb144-1" aria-hidden="true" tabindex="-1"></a><span class="fu">which</span>(a<span class="sc">%%</span><span class="dv">2</span><span class="sc">==</span><span class="dv">1</span>)</span></code></pre></div>
<pre class="output"><code>## [1] 1 3 5</code></pre>
</div>
<div id="sorting-and-ordering" class="section level4 hasAnchor" number="1.2.7.4">
<h4><span class="header-section-number">1.2.7.4</span> Sorting and ordering<a href="basic.html#sorting-and-ordering" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<ul>
<li><p><code>sort(x)</code>的結果必須用<code>&lt;-</code>覆蓋原本的<code>x</code>，此時的<code>x</code>才算被排序的結果。</p></li>
<li><p><code>order(x)</code>函式會傳回<code>x</code>數值由小到大的<strong>索引</strong>。這個例子的結果是<code>5, 4, 3, 6, 1, 2</code>，也就是<code>5</code>位置的那個數最小、<code>4</code>那個位置的數次小、接下來<code>3, 6, 1, 2</code>。</p></li>
<li><p><code>x[order(x)]</code>把<code>order(x)</code>結果（也就是<code>c(5, 4, 3, 6, 1, 2)</code>）傳給原本的<code>x</code>便會使得原本的<code>x</code>重新排序。通常<code>order()</code>的用途是，我們可以將兩個等長的variables例如var1和var2，依據var2來重新排序var1，例如var1[order(var2)]。</p></li>
</ul>
<div class="sourceCode" id="cb146"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb146-1"><a href="basic.html#cb146-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">33</span>, <span class="dv">55</span>, <span class="dv">22</span>, <span class="dv">13</span>, <span class="dv">4</span>, <span class="dv">24</span>)</span>
<span id="cb146-2"><a href="basic.html#cb146-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mode</span>(x)</span></code></pre></div>
<pre class="output"><code>## [1] &quot;numeric&quot;</code></pre>
<div class="sourceCode" id="cb148"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb148-1"><a href="basic.html#cb148-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(x)</span></code></pre></div>
<pre class="output"><code>## [1] &quot;numeric&quot;</code></pre>
<div class="sourceCode" id="cb150"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb150-1"><a href="basic.html#cb150-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sort</span>(x)</span></code></pre></div>
<pre class="output"><code>## [1]  4 13 22 24 33 55</code></pre>
<div class="sourceCode" id="cb152"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb152-1"><a href="basic.html#cb152-1" aria-hidden="true" tabindex="-1"></a><span class="co"># x &lt;- sort(x) # assign to replace original x</span></span>
<span id="cb152-2"><a href="basic.html#cb152-2" aria-hidden="true" tabindex="-1"></a><span class="fu">order</span>(x) </span></code></pre></div>
<pre class="output"><code>## [1] 5 4 3 6 1 2</code></pre>
<div class="sourceCode" id="cb154"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb154-1"><a href="basic.html#cb154-1" aria-hidden="true" tabindex="-1"></a>x[<span class="fu">order</span>(x)]</span></code></pre></div>
<pre class="output"><code>## [1]  4 13 22 24 33 55</code></pre>
<div class="sourceCode" id="cb156"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb156-1"><a href="basic.html#cb156-1" aria-hidden="true" tabindex="-1"></a>x[<span class="fu">c</span>(<span class="dv">5</span>, <span class="dv">4</span>, <span class="dv">3</span>, <span class="dv">6</span>, <span class="dv">1</span>, <span class="dv">2</span>)]</span></code></pre></div>
<pre class="output"><code>## [1]  4 13 22 24 33 55</code></pre>
</div>
<div id="built-in-math-functions" class="section level4 hasAnchor" number="1.2.7.5">
<h4><span class="header-section-number">1.2.7.5</span> Built-in math functions<a href="basic.html#built-in-math-functions" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb158"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb158-1"><a href="basic.html#cb158-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="dv">11</span><span class="sc">:</span><span class="dv">19</span></span>
<span id="cb158-2"><a href="basic.html#cb158-2" aria-hidden="true" tabindex="-1"></a><span class="fu">min</span>(a); <span class="fu">max</span>(a); <span class="fu">mean</span>(a); <span class="fu">median</span>(a); <span class="fu">sd</span>(a)</span></code></pre></div>
<pre class="output"><code>## [1] 11</code></pre>
<pre class="output"><code>## [1] 19</code></pre>
<pre class="output"><code>## [1] 15</code></pre>
<pre class="output"><code>## [1] 15</code></pre>
<pre class="output"><code>## [1] 2.738613</code></pre>
<div class="sourceCode" id="cb164"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb164-1"><a href="basic.html#cb164-1" aria-hidden="true" tabindex="-1"></a><span class="fu">log2</span>(a)</span></code></pre></div>
<pre class="output"><code>## [1] 3.459432 3.584963 3.700440 3.807355 3.906891 4.000000 4.087463 4.169925
## [9] 4.247928</code></pre>
<div class="sourceCode" id="cb166"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb166-1"><a href="basic.html#cb166-1" aria-hidden="true" tabindex="-1"></a><span class="fu">log1p</span>(a)</span></code></pre></div>
<pre class="output"><code>## [1] 2.484907 2.564949 2.639057 2.708050 2.772589 2.833213 2.890372 2.944439
## [9] 2.995732</code></pre>
<div class="sourceCode" id="cb168"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb168-1"><a href="basic.html#cb168-1" aria-hidden="true" tabindex="-1"></a>?log1p</span></code></pre></div>
</div>
</div>
<div id="data-types" class="section level3 hasAnchor" number="1.2.8">
<h3><span class="header-section-number">1.2.8</span> Data types<a href="basic.html#data-types" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="checking-data-type" class="section level4 hasAnchor" number="1.2.8.1">
<h4><span class="header-section-number">1.2.8.1</span> Checking data type<a href="basic.html#checking-data-type" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb169"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb169-1"><a href="basic.html#cb169-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mode</span>(county)                <span class="co"># character</span></span></code></pre></div>
<pre class="output"><code>## [1] &quot;character&quot;</code></pre>
<div class="sourceCode" id="cb171"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb171-1"><a href="basic.html#cb171-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mode</span>(income)                    <span class="co"># numeric</span></span></code></pre></div>
<pre class="output"><code>## [1] &quot;numeric&quot;</code></pre>
<div class="sourceCode" id="cb173"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb173-1"><a href="basic.html#cb173-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mode</span>(income <span class="sc">&gt;</span> <span class="fu">mean</span>(income)) <span class="co"># logical</span></span></code></pre></div>
<pre class="output"><code>## [1] &quot;logical&quot;</code></pre>
<div class="sourceCode" id="cb175"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb175-1"><a href="basic.html#cb175-1" aria-hidden="true" tabindex="-1"></a>testing <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;26.142&quot;</span>, <span class="st">&quot;12.008&quot;</span>, <span class="st">&quot;7.032&quot;</span>, <span class="st">&quot;13.646&quot;</span>, <span class="st">&quot;4.589&quot;</span>)</span>
<span id="cb175-2"><a href="basic.html#cb175-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mode</span>(testing)               <span class="co"># character</span></span></code></pre></div>
<pre class="output"><code>## [1] &quot;character&quot;</code></pre>
</div>
<div id="converting-data-type" class="section level4 hasAnchor" number="1.2.8.2">
<h4><span class="header-section-number">1.2.8.2</span> Converting data type<a href="basic.html#converting-data-type" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<ul>
<li><p>numeric vector可以用<code>as.character(x)</code>轉成<code>charcter</code>；logical vector可以用<code>as.numeric(x)</code>轉為<code>numeric</code>。概念上可以說是<code>character &gt; numeric &gt; logical</code>。</p></li>
<li><p>如果硬是在logical vector後附加一個numeric element的話，那就會整個vector被轉為numeric vector；相仿地，如果numeric vector後附加一個character element的話那整個vector就會被轉為character vector。</p></li>
<li><p>可以用<code>sum()</code>函式來計算logical vector有幾個<code>TRUE</code>值。例如<code>sum(a%%2==1)</code>就是計算<code>a</code>中有幾個奇數。<code>TRUE</code>可視為<code>1</code>、<code>FALSE</code>可視為<code>0</code>，所以加總起來就是<code>TRUE</code>有幾個。</p></li>
</ul>
<div class="sourceCode" id="cb177"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb177-1"><a href="basic.html#cb177-1" aria-hidden="true" tabindex="-1"></a>income.c <span class="ot">&lt;-</span> <span class="fu">as.character</span>(income)</span>
<span id="cb177-2"><a href="basic.html#cb177-2" aria-hidden="true" tabindex="-1"></a>population.c <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(population)</span>
<span id="cb177-3"><a href="basic.html#cb177-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb177-4"><a href="basic.html#cb177-4" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">11</span>, <span class="dv">99</span>, <span class="dv">11</span>)</span>
<span id="cb177-5"><a href="basic.html#cb177-5" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">c</span>(a, <span class="st">&quot;100&quot;</span>)</span>
<span id="cb177-6"><a href="basic.html#cb177-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb177-7"><a href="basic.html#cb177-7" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">11</span>, <span class="dv">99</span>, <span class="dv">11</span>)</span>
<span id="cb177-8"><a href="basic.html#cb177-8" aria-hidden="true" tabindex="-1"></a><span class="fu">sum</span>(a<span class="sc">%%</span><span class="dv">2</span><span class="sc">==</span><span class="dv">1</span>)</span></code></pre></div>
<pre class="output"><code>## [1] 5</code></pre>
<div class="sourceCode" id="cb179"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb179-1"><a href="basic.html#cb179-1" aria-hidden="true" tabindex="-1"></a><span class="fu">max</span>(a)</span></code></pre></div>
<pre class="output"><code>## [1] 99</code></pre>
</div>
</div>
<div id="character-operations" class="section level3 hasAnchor" number="1.2.9">
<h3><span class="header-section-number">1.2.9</span> Character operations<a href="basic.html#character-operations" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="character-operations-1" class="section level4 hasAnchor" number="1.2.9.1">
<h4><span class="header-section-number">1.2.9.1</span> Character operations<a href="basic.html#character-operations-1" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb181"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb181-1"><a href="basic.html#cb181-1" aria-hidden="true" tabindex="-1"></a>a <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">11</span>, <span class="dv">55</span>, <span class="dv">11</span>)</span>
<span id="cb181-2"><a href="basic.html#cb181-2" aria-hidden="true" tabindex="-1"></a><span class="fu">paste</span>(<span class="st">&quot;A&quot;</span>, a)       <span class="co"># concatenate</span></span></code></pre></div>
<pre class="output"><code>## [1] &quot;A 11&quot; &quot;A 22&quot; &quot;A 33&quot; &quot;A 44&quot; &quot;A 55&quot;</code></pre>
<div class="sourceCode" id="cb183"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb183-1"><a href="basic.html#cb183-1" aria-hidden="true" tabindex="-1"></a><span class="fu">paste0</span>(<span class="st">&quot;A&quot;</span>, a)      <span class="co"># concatenate</span></span></code></pre></div>
<pre class="output"><code>## [1] &quot;A11&quot; &quot;A22&quot; &quot;A33&quot; &quot;A44&quot; &quot;A55&quot;</code></pre>

</div>
</div>
</div>
<div id="dataframe" class="section level2 hasAnchor" number="1.3">
<h2><span class="header-section-number">1.3</span> Dataframe<a href="basic.html#dataframe" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="產生新的dataframe" class="section level3 hasAnchor" number="1.3.1">
<h3><span class="header-section-number">1.3.1</span> 產生新的Dataframe<a href="basic.html#產生新的dataframe" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="複製資料至vector" class="section level4 hasAnchor" number="1.3.1.1">
<h4><span class="header-section-number">1.3.1.1</span> 複製資料至vector<a href="basic.html#複製資料至vector" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>直接複製Wikipedia上的台北市某五區人口資料</p>
<div class="sourceCode" id="cb185"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb185-1"><a href="basic.html#cb185-1" aria-hidden="true" tabindex="-1"></a>population <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">158228</span>, <span class="dv">126687</span>, <span class="dv">228075</span>, <span class="dv">204903</span>, <span class="dv">308383</span>, <span class="dv">187920</span>)</span>
<span id="cb185-2"><a href="basic.html#cb185-2" aria-hidden="true" tabindex="-1"></a>town <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;中正&quot;</span>, <span class="st">&quot;大同&quot;</span>, <span class="st">&quot;中山&quot;</span>, <span class="st">&quot;松山&quot;</span>, <span class="st">&quot;大安&quot;</span>, <span class="st">&quot;萬華&quot;</span>)</span>
<span id="cb185-3"><a href="basic.html#cb185-3" aria-hidden="true" tabindex="-1"></a>area <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">7.6071</span>, <span class="fl">5.6815</span>, <span class="fl">13.6821</span>, <span class="fl">9.2878</span>, <span class="fl">11.3614</span>, <span class="fl">8.8522</span>)</span></code></pre></div>
</div>
<div id="合併等長vector為dataframe" class="section level4 hasAnchor" number="1.3.1.2">
<h4><span class="header-section-number">1.3.1.2</span> 合併等長vector為dataframe<a href="basic.html#合併等長vector為dataframe" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb186"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb186-1"><a href="basic.html#cb186-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(town, population, area)</span>
<span id="cb186-2"><a href="basic.html#cb186-2" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>density <span class="ot">=</span> df<span class="sc">$</span>population <span class="sc">/</span> df<span class="sc">$</span>area</span>
<span id="cb186-3"><a href="basic.html#cb186-3" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(df)</span></code></pre></div>
<pre class="output"><code>## &#39;data.frame&#39;:    6 obs. of  4 variables:
##  $ town      : chr  &quot;中正&quot; &quot;大同&quot; &quot;中山&quot; &quot;松山&quot; ...
##  $ population: num  158228 126687 228075 204903 308383 ...
##  $ area      : num  7.61 5.68 13.68 9.29 11.36 ...
##  $ density   : num  20800 22298 16670 22062 27143 ...</code></pre>
<div class="sourceCode" id="cb188"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb188-1"><a href="basic.html#cb188-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(df)</span></code></pre></div>
<pre class="output"><code>##      town             population          area           density     
##  Length:6           Min.   :126687   Min.   : 5.681   Min.   :16670  
##  Class :character   1st Qu.:165651   1st Qu.: 7.918   1st Qu.:20907  
##  Mode  :character   Median :196412   Median : 9.070   Median :21645  
##                     Mean   :202366   Mean   : 9.412   Mean   :21700  
##                     3rd Qu.:222282   3rd Qu.:10.843   3rd Qu.:22239  
##                     Max.   :308383   Max.   :13.682   Max.   :27143</code></pre>
<div class="sourceCode" id="cb190"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb190-1"><a href="basic.html#cb190-1" aria-hidden="true" tabindex="-1"></a><span class="co"># View(df)</span></span></code></pre></div>
</div>
<div id="案例二用vector存放台灣貿易各國進出口量" class="section level4 hasAnchor" number="1.3.1.3">
<h4><span class="header-section-number">1.3.1.3</span> 案例二：用vector存放台灣貿易各國進出口量<a href="basic.html#案例二用vector存放台灣貿易各國進出口量" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<ul>
<li>運用台灣出口進口資料 <a href="https://cus93.trade.gov.tw/FSC3040F/FSC3040F">台灣出口進口貿易資料查詢</a></li>
</ul>
<div class="sourceCode" id="cb191"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb191-1"><a href="basic.html#cb191-1" aria-hidden="true" tabindex="-1"></a>country <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;CN&quot;</span>, <span class="st">&quot;US&quot;</span>, <span class="st">&quot;JP&quot;</span>, <span class="st">&quot;HK&quot;</span>, <span class="st">&quot;KR&quot;</span>, <span class="st">&quot;SG&quot;</span>, <span class="st">&quot;DE&quot;</span>, <span class="st">&quot;MY&quot;</span>, <span class="st">&quot;VN&quot;</span>, <span class="st">&quot;PH&quot;</span>, <span class="st">&quot;TH&quot;</span>, <span class="st">&quot;AU&quot;</span>, <span class="st">&quot;NL&quot;</span>, <span class="st">&quot;SA&quot;</span>, <span class="st">&quot;ID&quot;</span>, <span class="st">&quot;GB&quot;</span>, <span class="st">&quot;IN&quot;</span>, <span class="st">&quot;FR&quot;</span>, <span class="st">&quot;IT&quot;</span>, <span class="st">&quot;AE&quot;</span>)</span>
<span id="cb191-2"><a href="basic.html#cb191-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb191-3"><a href="basic.html#cb191-3" aria-hidden="true" tabindex="-1"></a>import <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">26.142</span>, <span class="fl">12.008</span>, <span class="fl">7.032</span>, <span class="fl">13.646</span>, <span class="fl">4.589</span>, <span class="fl">5.768</span>, <span class="fl">2.131</span>, <span class="fl">2.802</span>, <span class="fl">3.428</span>, <span class="fl">3.019</span>, <span class="fl">1.976</span>, <span class="fl">1.118</span>, <span class="fl">1.624</span>, <span class="fl">0.449</span>, <span class="fl">0.983</span>, <span class="fl">1.302</span>, <span class="fl">1.027</span>, <span class="fl">0.553</span>, <span class="fl">0.670</span>, <span class="fl">0.455</span>)</span>
<span id="cb191-4"><a href="basic.html#cb191-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb191-5"><a href="basic.html#cb191-5" aria-hidden="true" tabindex="-1"></a>export <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">22.987</span>, <span class="fl">12.204</span>, <span class="fl">11.837</span>, <span class="fl">7.739</span>, <span class="fl">5.381</span>, <span class="fl">4.610</span>, <span class="fl">2.866</span>, <span class="fl">2.784</span>, <span class="fl">2.414</span>, <span class="fl">2.092</span>, <span class="fl">1.839</span>, <span class="fl">1.788</span>, <span class="fl">1.665</span>, <span class="fl">1.409</span>, <span class="fl">1.391</span>, <span class="fl">1.075</span>, <span class="fl">0.974</span>, <span class="fl">0.899</span>, <span class="fl">0.800</span>, <span class="fl">0.728</span>)</span></code></pre></div>
</div>
<div id="合併vector為data.frame" class="section level4 hasAnchor" number="1.3.1.4">
<h4><span class="header-section-number">1.3.1.4</span> 合併vector為data.frame<a href="basic.html#合併vector為data.frame" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<ul>
<li><p>這時候我們若以<code>str(df)</code>觀察該<code>df</code>的結構會發現，文字型態的資料被轉為<code>Factors</code>，這是我們所不樂見的。過去統計通常會把文字型態當成類別變數，於是用<code>Factors</code>作為資料型態，但資料科學中經常要處理大量的文字資料，此時，我們可以把<code>read.csv</code>的一個參數<code>stringsAsFactors</code>設為<code>FALSE</code>，意味著預設不要將文字的資料轉為Factor而是直接以文字變項來處理。* <code>stringsAsFactors = FALSE</code>也是<code>read.csv()</code>的參數（parameter、argument）。因為一般讀檔會預設把文字讀為類別變項也就是Factor，但資料分析經常要處理文字資料而不是類別變項，所以會希望預設不要把文字讀取為類別變項，因此要設定<code>stringsAsFactors = FALSE</code>。</p></li>
<li><p>為了避免每次都要打這串參數，可以把它設定為全域參數，可以在程式一開始時便加上<code>options(stringsAsFactors = FASLE)</code>，意味著底下所有的函式如果有<code>stringsAsFactors</code>這個參數，一律自動設為<code>FALSE</code>。</p></li>
</ul>
<div class="sourceCode" id="cb192"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb192-1"><a href="basic.html#cb192-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(country, import, export)</span>
<span id="cb192-2"><a href="basic.html#cb192-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(df)</span></code></pre></div>
<pre class="output"><code>## &#39;data.frame&#39;:    20 obs. of  3 variables:
##  $ country: chr  &quot;CN&quot; &quot;US&quot; &quot;JP&quot; &quot;HK&quot; ...
##  $ import : num  26.14 12.01 7.03 13.65 4.59 ...
##  $ export : num  22.99 12.2 11.84 7.74 5.38 ...</code></pre>
<div class="sourceCode" id="cb194"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb194-1"><a href="basic.html#cb194-1" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(country, import, export, <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span>)</span>
<span id="cb194-2"><a href="basic.html#cb194-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(df)</span></code></pre></div>
<pre class="output"><code>## &#39;data.frame&#39;:    20 obs. of  3 variables:
##  $ country: chr  &quot;CN&quot; &quot;US&quot; &quot;JP&quot; &quot;HK&quot; ...
##  $ import : num  26.14 12.01 7.03 13.65 4.59 ...
##  $ export : num  22.99 12.2 11.84 7.74 5.38 ...</code></pre>
<ul>
<li>甚至也可以建立一個新的、空的<code>data.frame</code>。</li>
<li><code>df.test</code>就R的用法就是一個變數，並不是<code>df</code>和<code>test</code>各自是一個變數。</li>
</ul>
<div class="sourceCode" id="cb196"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb196-1"><a href="basic.html#cb196-1" aria-hidden="true" tabindex="-1"></a>df.test <span class="ot">&lt;-</span> <span class="fu">data.frame</span>()</span></code></pre></div>
</div>
</div>
<div id="觀察dataframe" class="section level3 hasAnchor" number="1.3.2">
<h3><span class="header-section-number">1.3.2</span> 觀察dataframe<a href="basic.html#觀察dataframe" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><code>View(df)</code> 用RStudio所提供的GUI直接觀看變數</li>
<li><code>head(df)</code> 取前面六筆資料（也就是六列的資料來概觀該資料）</li>
<li><code>class(df)</code></li>
<li><code>str(df)</code></li>
<li><code>summary(df)</code></li>
</ul>
<div class="sourceCode" id="cb197"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb197-1"><a href="basic.html#cb197-1" aria-hidden="true" tabindex="-1"></a><span class="co"># View(df)</span></span>
<span id="cb197-2"><a href="basic.html#cb197-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(df)    <span class="co"># get first part of the data.frame</span></span></code></pre></div>
<pre class="output"><code>##   country import export
## 1      CN 26.142 22.987
## 2      US 12.008 12.204
## 3      JP  7.032 11.837
## 4      HK 13.646  7.739
## 5      KR  4.589  5.381
## 6      SG  5.768  4.610</code></pre>
<div class="sourceCode" id="cb199"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb199-1"><a href="basic.html#cb199-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(df)</span></code></pre></div>
<pre class="output"><code>## [1] &quot;data.frame&quot;</code></pre>
<div class="sourceCode" id="cb201"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb201-1"><a href="basic.html#cb201-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(df)</span></code></pre></div>
<pre class="output"><code>## &#39;data.frame&#39;:    20 obs. of  3 variables:
##  $ country: chr  &quot;CN&quot; &quot;US&quot; &quot;JP&quot; &quot;HK&quot; ...
##  $ import : num  26.14 12.01 7.03 13.65 4.59 ...
##  $ export : num  22.99 12.2 11.84 7.74 5.38 ...</code></pre>
<div class="sourceCode" id="cb203"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb203-1"><a href="basic.html#cb203-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(df)</span></code></pre></div>
<pre class="output"><code>##    country              import           export      
##  Length:20          Min.   : 0.449   Min.   : 0.728  
##  Class :character   1st Qu.: 1.016   1st Qu.: 1.312  
##  Mode  :character   Median : 2.054   Median : 1.966  
##                     Mean   : 4.536   Mean   : 4.374  
##                     3rd Qu.: 4.884   3rd Qu.: 4.803  
##                     Max.   :26.142   Max.   :22.987</code></pre>
<div class="sourceCode" id="cb205"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb205-1"><a href="basic.html#cb205-1" aria-hidden="true" tabindex="-1"></a><span class="co"># look up help</span></span>
<span id="cb205-2"><a href="basic.html#cb205-2" aria-hidden="true" tabindex="-1"></a><span class="fu">help</span>(summary)</span>
<span id="cb205-3"><a href="basic.html#cb205-3" aria-hidden="true" tabindex="-1"></a>?summary</span></code></pre></div>
<div id="資料維度" class="section level4 hasAnchor" number="1.3.2.1">
<h4><span class="header-section-number">1.3.2.1</span> 資料維度<a href="basic.html#資料維度" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb206"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb206-1"><a href="basic.html#cb206-1" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(df)</span></code></pre></div>
<pre class="output"><code>## [1] 20  3</code></pre>
<div class="sourceCode" id="cb208"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb208-1"><a href="basic.html#cb208-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ncol</span>(df)</span></code></pre></div>
<pre class="output"><code>## [1] 3</code></pre>
<div class="sourceCode" id="cb210"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb210-1"><a href="basic.html#cb210-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(df)</span></code></pre></div>
<pre class="output"><code>## [1] 20</code></pre>
<div class="sourceCode" id="cb212"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb212-1"><a href="basic.html#cb212-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(df)</span></code></pre></div>
<pre class="output"><code>## [1] 3</code></pre>
</div>
</div>
<div id="操作dataframe" class="section level3 hasAnchor" number="1.3.3">
<h3><span class="header-section-number">1.3.3</span> 操作dataframe<a href="basic.html#操作dataframe" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="取出一個變項" class="section level4 hasAnchor" number="1.3.3.1">
<h4><span class="header-section-number">1.3.3.1</span> 取出一個變項<a href="basic.html#取出一個變項" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<ul>
<li><code>names(df)</code> 列出變數名稱</li>
<li><code>df$發生.現.地點</code> 顯示該變數內容</li>
<li><code>df$發生時段</code> 顯示該變數內容</li>
<li><code>length(df$發生時段)</code> 顯示該變數的長度（相當於有幾個）</li>
</ul>
<div class="sourceCode" id="cb214"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb214-1"><a href="basic.html#cb214-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(df)</span></code></pre></div>
<pre class="output"><code>## [1] &quot;country&quot; &quot;import&quot;  &quot;export&quot;</code></pre>
<div class="sourceCode" id="cb216"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb216-1"><a href="basic.html#cb216-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(df<span class="sc">$</span>發生.現.地點)</span></code></pre></div>
<pre class="output"><code>## NULL</code></pre>
<div class="sourceCode" id="cb218"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb218-1"><a href="basic.html#cb218-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(df<span class="sc">$</span>發生時段)</span></code></pre></div>
<pre class="output"><code>## NULL</code></pre>
<div class="sourceCode" id="cb220"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb220-1"><a href="basic.html#cb220-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(df<span class="sc">$</span>發生時段)</span></code></pre></div>
<pre class="output"><code>## [1] 0</code></pre>
<div class="sourceCode" id="cb222"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb222-1"><a href="basic.html#cb222-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(df)</span></code></pre></div>
<pre class="output"><code>##    country              import           export      
##  Length:20          Min.   : 0.449   Min.   : 0.728  
##  Class :character   1st Qu.: 1.016   1st Qu.: 1.312  
##  Mode  :character   Median : 2.054   Median : 1.966  
##                     Mean   : 4.536   Mean   : 4.374  
##                     3rd Qu.: 4.884   3rd Qu.: 4.803  
##                     Max.   :26.142   Max.   :22.987</code></pre>
</div>
<div id="mutate透過運算產生新變數" class="section level4 hasAnchor" number="1.3.3.2">
<h4><span class="header-section-number">1.3.3.2</span> (mutate)透過運算產生新變數<a href="basic.html#mutate透過運算產生新變數" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<ul>
<li>這裡容易犯錯的是，要記得跟程式講說你要加總或四則運算的是哪個df的variable。</li>
<li>從下面的這個操作中，該data.frame會產生一個新的變數<code>sub</code>，這就相當於Excel中的某一行減去某一行，然後把資料放在新的一行。</li>
</ul>
<div class="sourceCode" id="cb224"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb224-1"><a href="basic.html#cb224-1" aria-hidden="true" tabindex="-1"></a>df<span class="sc">$</span>sub <span class="ot">&lt;-</span> df<span class="sc">$</span>import <span class="sc">-</span> df<span class="sc">$</span>export</span></code></pre></div>
</div>
<div id="filter篩選資料選取變數" class="section level4 hasAnchor" number="1.3.3.3">
<h4><span class="header-section-number">1.3.3.3</span> (filter)篩選資料、選取變數<a href="basic.html#filter篩選資料選取變數" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<ul>
<li><p>注意，要告訴程式<code>import</code>和<code>export</code>是哪個<code>data.frame</code>的。</p></li>
<li><p><code>df[,]</code>為存取<code>df</code>中某個區段的數值或某個數值的方法。因此<code>df[1, 1]</code>會取出第一行第一列，也就是第一筆資料的第一個vector。<code>df[2, 3]</code>則會取出第二筆資料的第三個variable。</p></li>
<li><p>下面的例子<code>nrow(df)</code>為1894，有1894筆資料，所以自然df<span class="math inline">\(import與df\)</span>export的長度都是1894。因此，比較這兩個變數的大小會得到一個長度為1894的boolean (logical) variable。因此把這個長度為1894、充滿TRUE和FALSE的logical vector丟進df的row之處，因為取自df，大小判斷式結果的長度自然和原本的df的列數相同。因此當這個TRUE/FALSE被丟在df的列之處，便會篩選出<code>import</code>大於<code>p.xport</code>的數值。</p></li>
<li><p>原本的df有五個variable，而上述的操作是篩選資料，所以被篩選的是列，因此行的數量、名稱都不會變。因此，我篩選完後，直接存取這個被篩選過的data.frame的country variable，自然是可以的。</p></li>
</ul>
<div class="sourceCode" id="cb225"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb225-1"><a href="basic.html#cb225-1" aria-hidden="true" tabindex="-1"></a>df</span></code></pre></div>
<pre class="output"><code>##    country import export    sub
## 1       CN 26.142 22.987  3.155
## 2       US 12.008 12.204 -0.196
## 3       JP  7.032 11.837 -4.805
## 4       HK 13.646  7.739  5.907
## 5       KR  4.589  5.381 -0.792
## 6       SG  5.768  4.610  1.158
## 7       DE  2.131  2.866 -0.735
## 8       MY  2.802  2.784  0.018
## 9       VN  3.428  2.414  1.014
## 10      PH  3.019  2.092  0.927
## 11      TH  1.976  1.839  0.137
## 12      AU  1.118  1.788 -0.670
## 13      NL  1.624  1.665 -0.041
## 14      SA  0.449  1.409 -0.960
## 15      ID  0.983  1.391 -0.408
## 16      GB  1.302  1.075  0.227
## 17      IN  1.027  0.974  0.053
## 18      FR  0.553  0.899 -0.346
## 19      IT  0.670  0.800 -0.130
## 20      AE  0.455  0.728 -0.273</code></pre>
<div class="sourceCode" id="cb227"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb227-1"><a href="basic.html#cb227-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(df)</span></code></pre></div>
<pre class="output"><code>## [1] &quot;country&quot; &quot;import&quot;  &quot;export&quot;  &quot;sub&quot;</code></pre>
<div class="sourceCode" id="cb229"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb229-1"><a href="basic.html#cb229-1" aria-hidden="true" tabindex="-1"></a><span class="fu">nrow</span>(df)</span></code></pre></div>
<pre class="output"><code>## [1] 20</code></pre>
<div class="sourceCode" id="cb231"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb231-1"><a href="basic.html#cb231-1" aria-hidden="true" tabindex="-1"></a><span class="co"># filter row data by column value</span></span>
<span id="cb231-2"><a href="basic.html#cb231-2" aria-hidden="true" tabindex="-1"></a>df[df<span class="sc">$</span>import <span class="sc">&gt;</span> df<span class="sc">$</span>export,]</span></code></pre></div>
<pre class="output"><code>##    country import export   sub
## 1       CN 26.142 22.987 3.155
## 4       HK 13.646  7.739 5.907
## 6       SG  5.768  4.610 1.158
## 8       MY  2.802  2.784 0.018
## 9       VN  3.428  2.414 1.014
## 10      PH  3.019  2.092 0.927
## 11      TH  1.976  1.839 0.137
## 16      GB  1.302  1.075 0.227
## 17      IN  1.027  0.974 0.053</code></pre>
<div class="sourceCode" id="cb233"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb233-1"><a href="basic.html#cb233-1" aria-hidden="true" tabindex="-1"></a>df[df<span class="sc">$</span>import <span class="sc">&gt;</span> df<span class="sc">$</span>export,]<span class="sc">$</span>country</span></code></pre></div>
<pre class="output"><code>## [1] &quot;CN&quot; &quot;HK&quot; &quot;SG&quot; &quot;MY&quot; &quot;VN&quot; &quot;PH&quot; &quot;TH&quot; &quot;GB&quot; &quot;IN&quot;</code></pre>
<div class="sourceCode" id="cb235"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb235-1"><a href="basic.html#cb235-1" aria-hidden="true" tabindex="-1"></a>df[df<span class="sc">$</span>import <span class="sc">&gt;</span> df<span class="sc">$</span>export,<span class="dv">1</span>]</span></code></pre></div>
<pre class="output"><code>## [1] &quot;CN&quot; &quot;HK&quot; &quot;SG&quot; &quot;MY&quot; &quot;VN&quot; &quot;PH&quot; &quot;TH&quot; &quot;GB&quot; &quot;IN&quot;</code></pre>
<div class="sourceCode" id="cb237"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb237-1"><a href="basic.html#cb237-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 1 row == a data.frame with only one data entry</span></span>
<span id="cb237-2"><a href="basic.html#cb237-2" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(df[df<span class="sc">$</span>import <span class="sc">&gt;</span> df<span class="sc">$</span>export,<span class="dv">1</span>])</span></code></pre></div>
<pre class="output"><code>## [1] &quot;character&quot;</code></pre>
<div class="sourceCode" id="cb239"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb239-1"><a href="basic.html#cb239-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(df[,<span class="dv">1</span>]) <span class="co"># character vector</span></span></code></pre></div>
<pre class="output"><code>## [1] &quot;character&quot;</code></pre>
<div class="sourceCode" id="cb241"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb241-1"><a href="basic.html#cb241-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(df[<span class="dv">1</span>,]) <span class="co"># data.frame</span></span></code></pre></div>
<pre class="output"><code>## [1] &quot;data.frame&quot;</code></pre>
<div class="sourceCode" id="cb243"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb243-1"><a href="basic.html#cb243-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(<span class="fu">unlist</span>(df[<span class="dv">1</span>, <span class="sc">-</span><span class="dv">1</span>])) <span class="co"># filter the 1st row and select all columns except 1</span></span></code></pre></div>
<pre class="output"><code>## [1] &quot;numeric&quot;</code></pre>
</div>
<div id="arrange-按某個變數排序" class="section level4 hasAnchor" number="1.3.3.4">
<h4><span class="header-section-number">1.3.3.4</span> (arrange) 按某個變數排序<a href="basic.html#arrange-按某個變數排序" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<ul>
<li><code>df.sorted &lt;- df[order(df$import),]</code>會使得整個df照<code>import</code>的大小排序重新做排列。因為<code>order(df$import)</code>會把資料照指定順序排列後的位置傳回來，所以把他丟給<code>df</code>的列的位置，便會使得<code>df</code>的資料照指定的順序排列。
預設是由小到大，加上<code>decreasing = T</code>這個參數後變成由大而小。</li>
</ul>
<div class="sourceCode" id="cb245"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb245-1"><a href="basic.html#cb245-1" aria-hidden="true" tabindex="-1"></a><span class="co"># sort rows by df$import column</span></span>
<span id="cb245-2"><a href="basic.html#cb245-2" aria-hidden="true" tabindex="-1"></a>df.sorted <span class="ot">&lt;-</span> df[<span class="fu">order</span>(df<span class="sc">$</span>import),]</span>
<span id="cb245-3"><a href="basic.html#cb245-3" aria-hidden="true" tabindex="-1"></a><span class="co"># View(df.sorted)</span></span>
<span id="cb245-4"><a href="basic.html#cb245-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb245-5"><a href="basic.html#cb245-5" aria-hidden="true" tabindex="-1"></a><span class="co"># sort rows in decreasing order</span></span>
<span id="cb245-6"><a href="basic.html#cb245-6" aria-hidden="true" tabindex="-1"></a>df.sorted <span class="ot">&lt;-</span> df[<span class="fu">order</span>(df<span class="sc">$</span>import, <span class="at">decreasing =</span> T),]</span>
<span id="cb245-7"><a href="basic.html#cb245-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb245-8"><a href="basic.html#cb245-8" aria-hidden="true" tabindex="-1"></a><span class="co"># add - to column in order() can sort in decreasing order</span></span>
<span id="cb245-9"><a href="basic.html#cb245-9" aria-hidden="true" tabindex="-1"></a>df.sorted <span class="ot">&lt;-</span> df[<span class="fu">order</span>(<span class="sc">-</span>df<span class="sc">$</span>import),]</span>
<span id="cb245-10"><a href="basic.html#cb245-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb245-11"><a href="basic.html#cb245-11" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(df.sorted)</span></code></pre></div>
<pre class="output"><code>##   country import export    sub
## 1      CN 26.142 22.987  3.155
## 4      HK 13.646  7.739  5.907
## 2      US 12.008 12.204 -0.196
## 3      JP  7.032 11.837 -4.805
## 6      SG  5.768  4.610  1.158
## 5      KR  4.589  5.381 -0.792</code></pre>
</div>
</div>
<div id="簡易繪圖" class="section level3 hasAnchor" number="1.3.4">
<h3><span class="header-section-number">1.3.4</span> 簡易繪圖<a href="basic.html#簡易繪圖" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<ul>
<li><code>graphics::plot()</code>為會預載入R的繪圖套件，如果希望繪圖的同時加上回歸線和資料點標籤的話，必須要三行一起執行。</li>
</ul>
<div class="sourceCode" id="cb247"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb247-1"><a href="basic.html#cb247-1" aria-hidden="true" tabindex="-1"></a><span class="co"># plot(df) # raise error, 1st column is a character vector</span></span>
<span id="cb247-2"><a href="basic.html#cb247-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(df[, <span class="dv">2</span><span class="sc">:</span><span class="dv">3</span>])</span></code></pre></div>
<p><img src="R-for-Data-Journalism_files/figure-html/unnamed-chunk-42-1.png" width="672" /></p>
<div class="sourceCode" id="cb248"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb248-1"><a href="basic.html#cb248-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(df[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="dv">2</span><span class="sc">:</span><span class="dv">3</span>])</span>
<span id="cb248-2"><a href="basic.html#cb248-2" aria-hidden="true" tabindex="-1"></a><span class="fu">text</span>(import, export, <span class="at">labels=</span>country, <span class="at">cex=</span> <span class="fl">0.5</span>, <span class="at">pos=</span><span class="dv">3</span>)</span>
<span id="cb248-3"><a href="basic.html#cb248-3" aria-hidden="true" tabindex="-1"></a><span class="fu">lines</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">25</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">25</span>, <span class="at">col=</span><span class="st">&#39;red&#39;</span>)</span></code></pre></div>
<p><img src="R-for-Data-Journalism_files/figure-html/unnamed-chunk-42-2.png" width="672" /></p>
<div class="sourceCode" id="cb249"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb249-1"><a href="basic.html#cb249-1" aria-hidden="true" tabindex="-1"></a>?plot</span></code></pre></div>
<pre class="output"><code>## Help on topic &#39;plot&#39; was found in the following packages:
## 
##   Package               Library
##   graphics              /Library/Frameworks/R.framework/Versions/4.1/Resources/library
##   base                  /Library/Frameworks/R.framework/Resources/library
## 
## 
## 用第一個符合…</code></pre>
</div>
<div id="其他使用dplyr" class="section level3 hasAnchor" number="1.3.5">
<h3><span class="header-section-number">1.3.5</span> 其他：使用dplyr<a href="basic.html#其他使用dplyr" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb251"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb251-1"><a href="basic.html#cb251-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb251-2"><a href="basic.html#cb251-2" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(country, import, export, <span class="at">stringsAsFactors =</span> F)</span>
<span id="cb251-3"><a href="basic.html#cb251-3" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">mutate</span>(df, <span class="at">sub =</span> import <span class="sc">-</span> export)</span>
<span id="cb251-4"><a href="basic.html#cb251-4" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(df, import <span class="sc">&gt;</span> export)</span></code></pre></div>
<pre class="output"><code>##   country import export   sub
## 1      CN 26.142 22.987 3.155
## 2      HK 13.646  7.739 5.907
## 3      SG  5.768  4.610 1.158
## 4      MY  2.802  2.784 0.018
## 5      VN  3.428  2.414 1.014
## 6      PH  3.019  2.092 0.927
## 7      TH  1.976  1.839 0.137
## 8      GB  1.302  1.075 0.227
## 9      IN  1.027  0.974 0.053</code></pre>
<div class="sourceCode" id="cb253"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb253-1"><a href="basic.html#cb253-1" aria-hidden="true" tabindex="-1"></a><span class="fu">select</span>(df, <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>))</span></code></pre></div>
<pre class="output"><code>##    country export
## 1       CN 22.987
## 2       US 12.204
## 3       JP 11.837
## 4       HK  7.739
## 5       KR  5.381
## 6       SG  4.610
## 7       DE  2.866
## 8       MY  2.784
## 9       VN  2.414
## 10      PH  2.092
## 11      TH  1.839
## 12      AU  1.788
## 13      NL  1.665
## 14      SA  1.409
## 15      ID  1.391
## 16      GB  1.075
## 17      IN  0.974
## 18      FR  0.899
## 19      IT  0.800
## 20      AE  0.728</code></pre>
<div class="sourceCode" id="cb255"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb255-1"><a href="basic.html#cb255-1" aria-hidden="true" tabindex="-1"></a><span class="fu">message</span>(df<span class="sc">$</span>country)</span>
<span id="cb255-2"><a href="basic.html#cb255-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(df<span class="sc">$</span>country)</span></code></pre></div>
<pre class="output"><code>##  [1] &quot;CN&quot; &quot;US&quot; &quot;JP&quot; &quot;HK&quot; &quot;KR&quot; &quot;SG&quot; &quot;DE&quot; &quot;MY&quot; &quot;VN&quot; &quot;PH&quot; &quot;TH&quot; &quot;AU&quot; &quot;NL&quot; &quot;SA&quot; &quot;ID&quot;
## [16] &quot;GB&quot; &quot;IN&quot; &quot;FR&quot; &quot;IT&quot; &quot;AE&quot;</code></pre>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="visualization.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/R10_basic.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["R for Data Journalism.pdf", "R for Data Journalism.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection",
"scroll_highlight": true
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>

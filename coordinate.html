<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 14 Coordinate | R for Data Journalism</title>
  <meta name="description" content="For my Class teaching how to make data news reports" />
  <meta name="generator" content="bookdown 0.32 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 14 Coordinate | R for Data Journalism" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="For my Class teaching how to make data news reports" />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 14 Coordinate | R for Data Journalism" />
  
  <meta name="twitter:description" content="For my Class teaching how to make data news reports" />
  

<meta name="author" content="HSIEH, JI-LUNG" />


<meta name="date" content="2023-04-13" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="visualization-1.html"/>
<link rel="next" href="amount.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.6.1/htmlwidgets.js"></script>
<script src="libs/viz-1.8.2/viz.js"></script>
<link href="libs/DiagrammeR-styles-0.2/styles.css" rel="stylesheet" />
<script src="libs/grViz-binding-1.0.9/grViz.js"></script>
<script src="libs/plotly-binding-4.10.0/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-2.5.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-2.5.1/plotly-latest.min.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">R for Data Journalism</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>About</a></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="part"><span><b>I R BASIC</b></span></li>
<li class="chapter" data-level="2" data-path="basic.html"><a href="basic.html"><i class="fa fa-check"></i><b>2</b> R Basic</a>
<ul>
<li class="chapter" data-level="2.1" data-path="basic.html"><a href="basic.html#使用rstudio"><i class="fa fa-check"></i><b>2.1</b> 使用RStudio</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="basic.html"><a href="basic.html#rstudio介面簡介"><i class="fa fa-check"></i><b>2.1.1</b> RStudio介面簡介</a></li>
<li class="chapter" data-level="2.1.2" data-path="basic.html"><a href="basic.html#用rmarkdown來撰寫r"><i class="fa fa-check"></i><b>2.1.2</b> 用RMarkdown來撰寫R</a></li>
<li class="chapter" data-level="2.1.3" data-path="basic.html"><a href="basic.html#安裝並載入第三方套件"><i class="fa fa-check"></i><b>2.1.3</b> 安裝並載入第三方套件</a></li>
<li class="chapter" data-level="2.1.4" data-path="basic.html"><a href="basic.html#程式碼註解"><i class="fa fa-check"></i><b>2.1.4</b> 程式碼註解</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="basic.html"><a href="basic.html#第一次資料嘗試"><i class="fa fa-check"></i><b>2.2</b> 第一次資料嘗試</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="basic.html"><a href="basic.html#直接從網路載入內政部開放資料"><i class="fa fa-check"></i><b>2.2.1</b> 直接從網路載入內政部開放資料</a></li>
<li class="chapter" data-level="2.2.2" data-path="basic.html"><a href="basic.html#獲取ubike即時資料"><i class="fa fa-check"></i><b>2.2.2</b> 獲取ubike即時資料</a></li>
<li class="chapter" data-level="2.2.3" data-path="basic.html"><a href="basic.html#讀取台北住宅竊盜點位資料"><i class="fa fa-check"></i><b>2.2.3</b> 讀取台北住宅竊盜點位資料</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="basic.html"><a href="basic.html#r-qa"><i class="fa fa-check"></i><b>2.3</b> R Q&amp;A</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="basic.html"><a href="basic.html#編碼與設定語系"><i class="fa fa-check"></i><b>2.3.1</b> 編碼與設定語系</a></li>
<li class="chapter" data-level="2.3.2" data-path="basic.html"><a href="basic.html#rmdr-notebook無法儲存"><i class="fa fa-check"></i><b>2.3.2</b> RMD/R Notebook無法儲存</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="r-basic.html"><a href="r-basic.html"><i class="fa fa-check"></i><b>3</b> R Basic</a>
<ul>
<li class="chapter" data-level="3.1" data-path="r-basic.html"><a href="r-basic.html#r-syntax"><i class="fa fa-check"></i><b>3.1</b> R Syntax</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="r-basic.html"><a href="r-basic.html#assignment"><i class="fa fa-check"></i><b>3.1.1</b> Assignment</a></li>
<li class="chapter" data-level="3.1.2" data-path="r-basic.html"><a href="r-basic.html#comments-註解"><i class="fa fa-check"></i><b>3.1.2</b> Comments 註解</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="r-basic.html"><a href="r-basic.html#vector"><i class="fa fa-check"></i><b>3.2</b> Vector</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="r-basic.html"><a href="r-basic.html#creating-vectors"><i class="fa fa-check"></i><b>3.2.1</b> Creating vectors</a></li>
<li class="chapter" data-level="3.2.2" data-path="r-basic.html"><a href="r-basic.html#viewing"><i class="fa fa-check"></i><b>3.2.2</b> Viewing</a></li>
<li class="chapter" data-level="3.2.3" data-path="r-basic.html"><a href="r-basic.html#subsetting-filtering"><i class="fa fa-check"></i><b>3.2.3</b> Subsetting, filtering</a></li>
<li class="chapter" data-level="3.2.4" data-path="r-basic.html"><a href="r-basic.html#deleting"><i class="fa fa-check"></i><b>3.2.4</b> Deleting</a></li>
<li class="chapter" data-level="3.2.5" data-path="r-basic.html"><a href="r-basic.html#concatenating"><i class="fa fa-check"></i><b>3.2.5</b> Concatenating</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="r-basic.html"><a href="r-basic.html#calculating-with-vectors"><i class="fa fa-check"></i><b>3.3</b> Calculating with vectors</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="r-basic.html"><a href="r-basic.html#arithmetic-operations"><i class="fa fa-check"></i><b>3.3.1</b> Arithmetic operations</a></li>
<li class="chapter" data-level="3.3.2" data-path="r-basic.html"><a href="r-basic.html#logic-comparisons"><i class="fa fa-check"></i><b>3.3.2</b> Logic comparisons</a></li>
<li class="chapter" data-level="3.3.3" data-path="r-basic.html"><a href="r-basic.html#subsetting-by-logic-comparisons"><i class="fa fa-check"></i><b>3.3.3</b> Subsetting by logic comparisons</a></li>
<li class="chapter" data-level="3.3.4" data-path="r-basic.html"><a href="r-basic.html#sorting-and-ordering"><i class="fa fa-check"></i><b>3.3.4</b> Sorting and ordering</a></li>
<li class="chapter" data-level="3.3.5" data-path="r-basic.html"><a href="r-basic.html#built-in-math-functions"><i class="fa fa-check"></i><b>3.3.5</b> Built-in math functions</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="r-basic.html"><a href="r-basic.html#data-types"><i class="fa fa-check"></i><b>3.4</b> Data types</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="r-basic.html"><a href="r-basic.html#checking-data-type"><i class="fa fa-check"></i><b>3.4.1</b> Checking data type</a></li>
<li class="chapter" data-level="3.4.2" data-path="r-basic.html"><a href="r-basic.html#converting-data-type"><i class="fa fa-check"></i><b>3.4.2</b> Converting data type</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="r-basic.html"><a href="r-basic.html#character-operations"><i class="fa fa-check"></i><b>3.5</b> Character operations</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="dataframe.html"><a href="dataframe.html"><i class="fa fa-check"></i><b>4</b> Dataframe</a>
<ul>
<li class="chapter" data-level="4.1" data-path="dataframe.html"><a href="dataframe.html#基本操作"><i class="fa fa-check"></i><b>4.1</b> 基本操作</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="dataframe.html"><a href="dataframe.html#產生新的dataframe"><i class="fa fa-check"></i><b>4.1.1</b> 產生新的Dataframe</a></li>
<li class="chapter" data-level="4.1.2" data-path="dataframe.html"><a href="dataframe.html#觀察dataframe"><i class="fa fa-check"></i><b>4.1.2</b> 觀察dataframe</a></li>
<li class="chapter" data-level="4.1.3" data-path="dataframe.html"><a href="dataframe.html#操作dataframe"><i class="fa fa-check"></i><b>4.1.3</b> 操作dataframe</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="dataframe.html"><a href="dataframe.html#簡易繪圖"><i class="fa fa-check"></i><b>4.2</b> 簡易繪圖</a></li>
<li class="chapter" data-level="4.3" data-path="dataframe.html"><a href="dataframe.html#基本操作使用dplyr"><i class="fa fa-check"></i><b>4.3</b> 基本操作：使用dplyr</a></li>
<li class="chapter" data-level="4.4" data-path="dataframe.html"><a href="dataframe.html#tibble-data_frame-data.frame"><i class="fa fa-check"></i><b>4.4</b> tibble, data_frame, data.frame</a></li>
<li class="chapter" data-level="4.5" data-path="dataframe.html"><a href="dataframe.html#database---sqlite"><i class="fa fa-check"></i><b>4.5</b> Database - SQLite</a></li>
</ul></li>
<li class="part"><span><b>II DATA MANIPULATION</b></span></li>
<li class="chapter" data-level="5" data-path="selecting-filtering-ploting.html"><a href="selecting-filtering-ploting.html"><i class="fa fa-check"></i><b>5</b> Selecting-Filtering-Ploting</a>
<ul>
<li class="chapter" data-level="5.1" data-path="selecting-filtering-ploting.html"><a href="selecting-filtering-ploting.html#paid-maternity-leave"><i class="fa fa-check"></i><b>5.1</b> Paid Maternity Leave</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="selecting-filtering-ploting.html"><a href="selecting-filtering-ploting.html#reading-.xlsx-by-readxl-package"><i class="fa fa-check"></i><b>5.1.1</b> Reading .xlsx by readxl package</a></li>
<li class="chapter" data-level="5.1.2" data-path="selecting-filtering-ploting.html"><a href="selecting-filtering-ploting.html#previewing-data-by-view-class-dim-str-summary-and-names"><i class="fa fa-check"></i><b>5.1.2</b> Previewing data by <code>View()</code>, <code>class()</code>, <code>dim()</code>, <code>str()</code>, <code>summary()</code> and <code>names()</code></a></li>
<li class="chapter" data-level="5.1.3" data-path="selecting-filtering-ploting.html"><a href="selecting-filtering-ploting.html#select-variables"><i class="fa fa-check"></i><b>5.1.3</b> Select variables</a></li>
<li class="chapter" data-level="5.1.4" data-path="selecting-filtering-ploting.html"><a href="selecting-filtering-ploting.html#check-replace-nas"><i class="fa fa-check"></i><b>5.1.4</b> Check &amp; Replace NAs</a></li>
<li class="chapter" data-level="5.1.5" data-path="selecting-filtering-ploting.html"><a href="selecting-filtering-ploting.html#filtering-data"><i class="fa fa-check"></i><b>5.1.5</b> Filtering data</a></li>
<li class="chapter" data-level="5.1.6" data-path="selecting-filtering-ploting.html"><a href="selecting-filtering-ploting.html#plotting"><i class="fa fa-check"></i><b>5.1.6</b> Plotting</a></li>
<li class="chapter" data-level="5.1.7" data-path="selecting-filtering-ploting.html"><a href="selecting-filtering-ploting.html#practice.-plotting-more"><i class="fa fa-check"></i><b>5.1.7</b> Practice. Plotting more</a></li>
<li class="chapter" data-level="5.1.8" data-path="selecting-filtering-ploting.html"><a href="selecting-filtering-ploting.html#practice.-selecting-and-filtering-by-dplyr-i"><i class="fa fa-check"></i><b>5.1.8</b> Practice. Selecting and filtering by dplyr I</a></li>
<li class="chapter" data-level="5.1.9" data-path="selecting-filtering-ploting.html"><a href="selecting-filtering-ploting.html#more-clean-version"><i class="fa fa-check"></i><b>5.1.9</b> (More) Clean version</a></li>
<li class="chapter" data-level="5.1.10" data-path="selecting-filtering-ploting.html"><a href="selecting-filtering-ploting.html#more-the-fittest-version-to-compute-staysame"><i class="fa fa-check"></i><b>5.1.10</b> (More) The fittest version to compute staySame</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="selecting-filtering-ploting.html"><a href="selecting-filtering-ploting.html#paid-maternity-leave-base-to-dplyr"><i class="fa fa-check"></i><b>5.2</b> Paid Maternity Leave (base to dplyr)</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="counting-and-cross-tabulation.html"><a href="counting-and-cross-tabulation.html"><i class="fa fa-check"></i><b>6</b> Counting and Cross-tabulation</a>
<ul>
<li class="chapter" data-level="6.1" data-path="counting-and-cross-tabulation.html"><a href="counting-and-cross-tabulation.html#taipei-residential-burglary"><i class="fa fa-check"></i><b>6.1</b> Taipei Residential Burglary</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="counting-and-cross-tabulation.html"><a href="counting-and-cross-tabulation.html#讀取檔案"><i class="fa fa-check"></i><b>6.1.1</b> 讀取檔案</a></li>
<li class="chapter" data-level="6.1.2" data-path="counting-and-cross-tabulation.html"><a href="counting-and-cross-tabulation.html#萃取所需新變項"><i class="fa fa-check"></i><b>6.1.2</b> 萃取所需新變項</a></li>
<li class="chapter" data-level="6.1.3" data-path="counting-and-cross-tabulation.html"><a href="counting-and-cross-tabulation.html#使用table計數"><i class="fa fa-check"></i><b>6.1.3</b> 使用<code>table()</code>計數</a></li>
<li class="chapter" data-level="6.1.4" data-path="counting-and-cross-tabulation.html"><a href="counting-and-cross-tabulation.html#依變數值篩選資料"><i class="fa fa-check"></i><b>6.1.4</b> 依變數值篩選資料</a></li>
<li class="chapter" data-level="6.1.5" data-path="counting-and-cross-tabulation.html"><a href="counting-and-cross-tabulation.html#做雙變數樞紐分析table"><i class="fa fa-check"></i><b>6.1.5</b> 做雙變數樞紐分析：<code>table()</code></a></li>
<li class="chapter" data-level="6.1.6" data-path="counting-and-cross-tabulation.html"><a href="counting-and-cross-tabulation.html#繪圖"><i class="fa fa-check"></i><b>6.1.6</b> 繪圖</a></li>
<li class="chapter" data-level="6.1.7" data-path="counting-and-cross-tabulation.html"><a href="counting-and-cross-tabulation.html#practices"><i class="fa fa-check"></i><b>6.1.7</b> Practices</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="counting-and-cross-tabulation.html"><a href="counting-and-cross-tabulation.html#read-online-files"><i class="fa fa-check"></i><b>6.2</b> Read online files</a></li>
<li class="chapter" data-level="6.3" data-path="counting-and-cross-tabulation.html"><a href="counting-and-cross-tabulation.html#counting-review"><i class="fa fa-check"></i><b>6.3</b> Counting Review</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="counting-and-cross-tabulation.html"><a href="counting-and-cross-tabulation.html#tapply"><i class="fa fa-check"></i><b>6.3.1</b> <code>tapply()</code></a></li>
<li class="chapter" data-level="6.3.2" data-path="counting-and-cross-tabulation.html"><a href="counting-and-cross-tabulation.html#tapply-two-variables"><i class="fa fa-check"></i><b>6.3.2</b> <code>tapply()</code> two variables</a></li>
<li class="chapter" data-level="6.3.3" data-path="counting-and-cross-tabulation.html"><a href="counting-and-cross-tabulation.html#dplyrcount-two-variables"><i class="fa fa-check"></i><b>6.3.3</b> <code>dplyr::count()</code> two variables</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="counting-and-cross-tabulation.html"><a href="counting-and-cross-tabulation.html#pivoting-long-wide-tables"><i class="fa fa-check"></i><b>6.4</b> Pivoting long-wide tables</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="counting-and-cross-tabulation.html"><a href="counting-and-cross-tabulation.html#long-to-wide"><i class="fa fa-check"></i><b>6.4.1</b> long-to-wide</a></li>
<li class="chapter" data-level="6.4.2" data-path="counting-and-cross-tabulation.html"><a href="counting-and-cross-tabulation.html#wide-to-long"><i class="fa fa-check"></i><b>6.4.2</b> Wide-to-long</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="counting-and-cross-tabulation.html"><a href="counting-and-cross-tabulation.html#residuals-analysis"><i class="fa fa-check"></i><b>6.5</b> Residuals analysis</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="from-base-r-to-dplyr.html"><a href="from-base-r-to-dplyr.html"><i class="fa fa-check"></i><b>7</b> From base R to dplyr</a>
<ul>
<li class="chapter" data-level="7.1" data-path="from-base-r-to-dplyr.html"><a href="from-base-r-to-dplyr.html#dplyr"><i class="fa fa-check"></i><b>7.1</b> dplyr</a></li>
<li class="chapter" data-level="7.2" data-path="from-base-r-to-dplyr.html"><a href="from-base-r-to-dplyr.html#taipie-theft-count-base-to-dplyr"><i class="fa fa-check"></i><b>7.2</b> Taipie Theft Count (base to dplyr)</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="from-base-r-to-dplyr.html"><a href="from-base-r-to-dplyr.html#reading-data"><i class="fa fa-check"></i><b>7.2.1</b> Reading data</a></li>
<li class="chapter" data-level="7.2.2" data-path="from-base-r-to-dplyr.html"><a href="from-base-r-to-dplyr.html#cleaning-data-i"><i class="fa fa-check"></i><b>7.2.2</b> Cleaning data I</a></li>
<li class="chapter" data-level="7.2.3" data-path="from-base-r-to-dplyr.html"><a href="from-base-r-to-dplyr.html#cleaning-data-ii"><i class="fa fa-check"></i><b>7.2.3</b> Cleaning data II</a></li>
<li class="chapter" data-level="7.2.4" data-path="from-base-r-to-dplyr.html"><a href="from-base-r-to-dplyr.html#long-to-wide-form"><i class="fa fa-check"></i><b>7.2.4</b> Long to wide form</a></li>
<li class="chapter" data-level="7.2.5" data-path="from-base-r-to-dplyr.html"><a href="from-base-r-to-dplyr.html#setting-time-as-row.name-for-mosaicplot"><i class="fa fa-check"></i><b>7.2.5</b> Setting time as row.name for mosaicplot</a></li>
<li class="chapter" data-level="7.2.6" data-path="from-base-r-to-dplyr.html"><a href="from-base-r-to-dplyr.html#clean-version"><i class="fa fa-check"></i><b>7.2.6</b> Clean version</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="from-base-r-to-dplyr.html"><a href="from-base-r-to-dplyr.html#paid-maternity-leave-base-to-dplyr-1"><i class="fa fa-check"></i><b>7.3</b> Paid Maternity Leave (base to dplyr)</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="data-manipultaiton-join-data.html"><a href="data-manipultaiton-join-data.html"><i class="fa fa-check"></i><b>8</b> Data manipultaiton: Join data</a>
<ul>
<li class="chapter" data-level="8.1" data-path="data-manipultaiton-join-data.html"><a href="data-manipultaiton-join-data.html#讀取內政部人口統計資料"><i class="fa fa-check"></i><b>8.1</b> 讀取內政部人口統計資料</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="data-manipultaiton-join-data.html"><a href="data-manipultaiton-join-data.html#分析規劃"><i class="fa fa-check"></i><b>8.1.1</b> 分析規劃</a></li>
<li class="chapter" data-level="8.1.2" data-path="data-manipultaiton-join-data.html"><a href="data-manipultaiton-join-data.html#清理資料"><i class="fa fa-check"></i><b>8.1.2</b> 清理資料</a></li>
<li class="chapter" data-level="8.1.3" data-path="data-manipultaiton-join-data.html"><a href="data-manipultaiton-join-data.html#進階運用rowwise"><i class="fa fa-check"></i><b>8.1.3</b> 進階：運用<code>rowwise()</code></a></li>
<li class="chapter" data-level="8.1.4" data-path="data-manipultaiton-join-data.html"><a href="data-manipultaiton-join-data.html#建立鄉鎮市區與村里指標"><i class="fa fa-check"></i><b>8.1.4</b> 建立鄉鎮市區與村里指標</a></li>
<li class="chapter" data-level="8.1.5" data-path="data-manipultaiton-join-data.html"><a href="data-manipultaiton-join-data.html#視覺化測試老年人口數-x-曾婚人口數"><i class="fa fa-check"></i><b>8.1.5</b> 視覺化測試（老年人口數 x 曾婚人口數）</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="data-manipultaiton-join-data.html"><a href="data-manipultaiton-join-data.html#讀取公投資料"><i class="fa fa-check"></i><b>8.2</b> 讀取公投資料</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="data-manipultaiton-join-data.html"><a href="data-manipultaiton-join-data.html#合併公投資料並視覺化"><i class="fa fa-check"></i><b>8.2.1</b> 合併公投資料並視覺化</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="data-manipulation-ii.html"><a href="data-manipulation-ii.html"><i class="fa fa-check"></i><b>9</b> Data Manipulation II</a>
<ul>
<li class="chapter" data-level="9.1" data-path="data-manipulation-ii.html"><a href="data-manipulation-ii.html#categorical"><i class="fa fa-check"></i><b>9.1</b> 類別資料分析</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="data-manipulation-ii.html"><a href="data-manipulation-ii.html#清理資料-1"><i class="fa fa-check"></i><b>9.1.1</b> 清理資料</a></li>
<li class="chapter" data-level="9.1.2" data-path="data-manipulation-ii.html"><a href="data-manipulation-ii.html#尺度轉類別指標"><i class="fa fa-check"></i><b>9.1.2</b> 尺度轉類別指標</a></li>
<li class="chapter" data-level="9.1.3" data-path="data-manipulation-ii.html"><a href="data-manipulation-ii.html#cross-tabulating"><i class="fa fa-check"></i><b>9.1.3</b> Cross-tabulating</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="data-manipulation-ii.html"><a href="data-manipulation-ii.html#processing-timeline"><i class="fa fa-check"></i><b>9.2</b> Processing Timeline</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="data-manipulation-ii.html"><a href="data-manipulation-ii.html#文字轉時間"><i class="fa fa-check"></i><b>9.2.1</b> 文字轉時間</a></li>
<li class="chapter" data-level="9.2.2" data-path="data-manipulation-ii.html"><a href="data-manipulation-ii.html#時間作為機率分佈x軸"><i class="fa fa-check"></i><b>9.2.2</b> 時間作為機率分佈X軸</a></li>
<li class="chapter" data-level="9.2.3" data-path="data-manipulation-ii.html"><a href="data-manipulation-ii.html#逐月統計資料"><i class="fa fa-check"></i><b>9.2.3</b> 逐月統計資料</a></li>
<li class="chapter" data-level="9.2.4" data-path="data-manipulation-ii.html"><a href="data-manipulation-ii.html#逐日統計資料佳"><i class="fa fa-check"></i><b>9.2.4</b> 逐日統計資料（佳）</a></li>
<li class="chapter" data-level="9.2.5" data-path="data-manipulation-ii.html"><a href="data-manipulation-ii.html#每日逐時資料"><i class="fa fa-check"></i><b>9.2.5</b> 每日逐時資料</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="data-manipulation-ii.html"><a href="data-manipulation-ii.html#空值na處理"><i class="fa fa-check"></i><b>9.3</b> 空值（NA）處理</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="data-manipulation-ii.html"><a href="data-manipulation-ii.html#表格重整政府預算"><i class="fa fa-check"></i><b>9.3.1</b> 表格重整：政府預算</a></li>
<li class="chapter" data-level="9.3.2" data-path="data-manipulation-ii.html"><a href="data-manipulation-ii.html#對齊資料世界各國疫苗接種比例"><i class="fa fa-check"></i><b>9.3.2</b> 對齊資料。世界各國疫苗接種比例</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="text-processing.html"><a href="text-processing.html"><i class="fa fa-check"></i><b>10</b> Text Processing</a>
<ul>
<li class="chapter" data-level="10.1" data-path="text-processing.html"><a href="text-processing.html#tweets-analysis"><i class="fa fa-check"></i><b>10.1</b> Tweets Analysis</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="text-processing.html"><a href="text-processing.html#loading-data"><i class="fa fa-check"></i><b>10.1.1</b> Loading data</a></li>
<li class="chapter" data-level="10.1.2" data-path="text-processing.html"><a href="text-processing.html#cleaning-data"><i class="fa fa-check"></i><b>10.1.2</b> Cleaning data</a></li>
<li class="chapter" data-level="10.1.3" data-path="text-processing.html"><a href="text-processing.html#visual-exploring"><i class="fa fa-check"></i><b>10.1.3</b> Visual Exploring</a></li>
<li class="chapter" data-level="10.1.4" data-path="text-processing.html"><a href="text-processing.html#keyness"><i class="fa fa-check"></i><b>10.1.4</b> Keyness</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>III CRAWLER</b></span></li>
<li class="chapter" data-level="11" data-path="scraping-104.html"><a href="scraping-104.html"><i class="fa fa-check"></i><b>11</b> Scraping 104.com</a>
<ul>
<li class="chapter" data-level="11.1" data-path="scraping-104.html"><a href="scraping-104.html#complete-code"><i class="fa fa-check"></i><b>11.1</b> Complete Code</a></li>
<li class="chapter" data-level="11.2" data-path="scraping-104.html"><a href="scraping-104.html#step-by-step"><i class="fa fa-check"></i><b>11.2</b> Step-by-Step</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="scraping-104.html"><a href="scraping-104.html#get-the-first-pages"><i class="fa fa-check"></i><b>11.2.1</b> Get the first pages</a></li>
<li class="chapter" data-level="11.2.2" data-path="scraping-104.html"><a href="scraping-104.html#get-the-first-page-by-modifying-url"><i class="fa fa-check"></i><b>11.2.2</b> Get the first page by modifying url</a></li>
<li class="chapter" data-level="11.2.3" data-path="scraping-104.html"><a href="scraping-104.html#combine-two-data-with-the-same-variables"><i class="fa fa-check"></i><b>11.2.3</b> Combine two data with the same variables</a></li>
<li class="chapter" data-level="11.2.4" data-path="scraping-104.html"><a href="scraping-104.html#drop-out-hierarchical-variables"><i class="fa fa-check"></i><b>11.2.4</b> Drop out hierarchical variables</a></li>
<li class="chapter" data-level="11.2.5" data-path="scraping-104.html"><a href="scraping-104.html#dropping-hierarchical-variables-by-dplyr-way"><i class="fa fa-check"></i><b>11.2.5</b> Dropping hierarchical variables by dplyr way</a></li>
<li class="chapter" data-level="11.2.6" data-path="scraping-104.html"><a href="scraping-104.html#finding-out-the-last-page-number"><i class="fa fa-check"></i><b>11.2.6</b> Finding out the last page number</a></li>
<li class="chapter" data-level="11.2.7" data-path="scraping-104.html"><a href="scraping-104.html#using-for-loop-to-get-all-pages"><i class="fa fa-check"></i><b>11.2.7</b> Using for-loop to get all pages</a></li>
<li class="chapter" data-level="11.2.8" data-path="scraping-104.html"><a href="scraping-104.html#combine-all-data.frame"><i class="fa fa-check"></i><b>11.2.8</b> combine all data.frame</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="wgoitg-lebron-jamess-achievement.html"><a href="wgoitg-lebron-jamess-achievement.html"><i class="fa fa-check"></i><b>12</b> WGOITG: LeBron James’s Achievement</a>
<ul>
<li class="chapter" data-level="12.1" data-path="wgoitg-lebron-jamess-achievement.html"><a href="wgoitg-lebron-jamess-achievement.html#get-top250-players"><i class="fa fa-check"></i><b>12.1</b> Get top250 players</a></li>
<li class="chapter" data-level="12.2" data-path="wgoitg-lebron-jamess-achievement.html"><a href="wgoitg-lebron-jamess-achievement.html#scraping-live-scores"><i class="fa fa-check"></i><b>12.2</b> Scraping live scores</a>
<ul>
<li class="chapter" data-level="12.2.1" data-path="wgoitg-lebron-jamess-achievement.html"><a href="wgoitg-lebron-jamess-achievement.html#testing"><i class="fa fa-check"></i><b>12.2.1</b> Testing</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="wgoitg-lebron-jamess-achievement.html"><a href="wgoitg-lebron-jamess-achievement.html#scrape-life-time-scores"><i class="fa fa-check"></i><b>12.3</b> Scrape life time scores</a></li>
<li class="chapter" data-level="12.4" data-path="wgoitg-lebron-jamess-achievement.html"><a href="wgoitg-lebron-jamess-achievement.html#cleaning-data-1"><i class="fa fa-check"></i><b>12.4</b> Cleaning data</a></li>
<li class="chapter" data-level="12.5" data-path="wgoitg-lebron-jamess-achievement.html"><a href="wgoitg-lebron-jamess-achievement.html#visualization"><i class="fa fa-check"></i><b>12.5</b> Visualization</a>
<ul>
<li class="chapter" data-level="12.5.1" data-path="wgoitg-lebron-jamess-achievement.html"><a href="wgoitg-lebron-jamess-achievement.html#line-age-x-cumpts"><i class="fa fa-check"></i><b>12.5.1</b> Line: Age x cumPTS</a></li>
<li class="chapter" data-level="12.5.2" data-path="wgoitg-lebron-jamess-achievement.html"><a href="wgoitg-lebron-jamess-achievement.html#line-year-x-cumpts"><i class="fa fa-check"></i><b>12.5.2</b> Line: year x cumPTS</a></li>
<li class="chapter" data-level="12.5.3" data-path="wgoitg-lebron-jamess-achievement.html"><a href="wgoitg-lebron-jamess-achievement.html#line-age-x-per_by_year"><i class="fa fa-check"></i><b>12.5.3</b> Line: Age x PER_by_year</a></li>
<li class="chapter" data-level="12.5.4" data-path="wgoitg-lebron-jamess-achievement.html"><a href="wgoitg-lebron-jamess-achievement.html#comparing-lebron-james-and-jabbar"><i class="fa fa-check"></i><b>12.5.4</b> Comparing LeBron James and Jabbar</a></li>
</ul></li>
<li class="chapter" data-level="12.6" data-path="wgoitg-lebron-jamess-achievement.html"><a href="wgoitg-lebron-jamess-achievement.html#scraping-and-cleaning"><i class="fa fa-check"></i><b>12.6</b> Scraping and cleaning</a>
<ul>
<li class="chapter" data-level="12.6.1" data-path="wgoitg-lebron-jamess-achievement.html"><a href="wgoitg-lebron-jamess-achievement.html#vis-ljames-and-jabbar"><i class="fa fa-check"></i><b>12.6.1</b> VIS LJames and jabbar</a></li>
</ul></li>
<li class="chapter" data-level="12.7" data-path="wgoitg-lebron-jamess-achievement.html"><a href="wgoitg-lebron-jamess-achievement.html#more-scraping-all-players"><i class="fa fa-check"></i><b>12.7</b> (More) Scraping all players</a>
<ul>
<li class="chapter" data-level="12.7.1" data-path="wgoitg-lebron-jamess-achievement.html"><a href="wgoitg-lebron-jamess-achievement.html#testing-1"><i class="fa fa-check"></i><b>12.7.1</b> Testing</a></li>
<li class="chapter" data-level="12.7.2" data-path="wgoitg-lebron-jamess-achievement.html"><a href="wgoitg-lebron-jamess-achievement.html#scrape-from-a-z-except-xno-x"><i class="fa fa-check"></i><b>12.7.2</b> Scrape from a-z except x(no x)</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>IV VISUALIZATION</b></span></li>
<li class="chapter" data-level="13" data-path="visualization-1.html"><a href="visualization-1.html"><i class="fa fa-check"></i><b>13</b> Visualization</a>
<ul>
<li class="chapter" data-level="13.1" data-path="visualization-1.html"><a href="visualization-1.html#ggplot2"><i class="fa fa-check"></i><b>13.1</b> ggplot2</a></li>
<li class="chapter" data-level="13.2" data-path="visualization-1.html"><a href="visualization-1.html#vis-packages"><i class="fa fa-check"></i><b>13.2</b> VIS packages</a></li>
<li class="chapter" data-level="13.3" data-path="visualization-1.html"><a href="visualization-1.html#ggplot"><i class="fa fa-check"></i><b>13.3</b> ggplot簡介</a></li>
<li class="chapter" data-level="13.4" data-path="visualization-1.html"><a href="visualization-1.html#繪圖基礎折線圖"><i class="fa fa-check"></i><b>13.4</b> 繪圖基礎：折線圖</a>
<ul>
<li class="chapter" data-level="13.4.1" data-path="visualization-1.html"><a href="visualization-1.html#繪圖三要素"><i class="fa fa-check"></i><b>13.4.1</b> 繪圖三要素</a></li>
</ul></li>
<li class="chapter" data-level="13.5" data-path="visualization-1.html"><a href="visualization-1.html#nyt-inequality"><i class="fa fa-check"></i><b>13.5</b> NYT: Inequality</a>
<ul>
<li class="chapter" data-level="13.5.1" data-path="visualization-1.html"><a href="visualization-1.html#visualizing"><i class="fa fa-check"></i><b>13.5.1</b> Visualizing</a></li>
<li class="chapter" data-level="13.5.2" data-path="visualization-1.html"><a href="visualization-1.html#grouping"><i class="fa fa-check"></i><b>13.5.2</b> Grouping</a></li>
</ul></li>
<li class="chapter" data-level="13.6" data-path="visualization-1.html"><a href="visualization-1.html#adjusting-chart"><i class="fa fa-check"></i><b>13.6</b> Adjusting Chart</a>
<ul>
<li class="chapter" data-level="13.6.1" data-path="visualization-1.html"><a href="visualization-1.html#點線型態"><i class="fa fa-check"></i><b>13.6.1</b> 點線型態</a></li>
<li class="chapter" data-level="13.6.2" data-path="visualization-1.html"><a href="visualization-1.html#line-types"><i class="fa fa-check"></i><b>13.6.2</b> Line Types</a></li>
<li class="chapter" data-level="13.6.3" data-path="visualization-1.html"><a href="visualization-1.html#標題標籤與圖說"><i class="fa fa-check"></i><b>13.6.3</b> 標題、標籤與圖說</a></li>
<li class="chapter" data-level="13.6.4" data-path="visualization-1.html"><a href="visualization-1.html#字體樣式"><i class="fa fa-check"></i><b>13.6.4</b> 字體樣式</a></li>
<li class="chapter" data-level="13.6.5" data-path="visualization-1.html"><a href="visualization-1.html#圖表主題色調"><i class="fa fa-check"></i><b>13.6.5</b> 圖表主題色調</a></li>
<li class="chapter" data-level="13.6.6" data-path="visualization-1.html"><a href="visualization-1.html#預設主題"><i class="fa fa-check"></i><b>13.6.6</b> 預設主題</a></li>
<li class="chapter" data-level="13.6.7" data-path="visualization-1.html"><a href="visualization-1.html#顯示中文字體"><i class="fa fa-check"></i><b>13.6.7</b> 顯示中文字體</a></li>
<li class="chapter" data-level="13.6.8" data-path="visualization-1.html"><a href="visualization-1.html#xy軸方向"><i class="fa fa-check"></i><b>13.6.8</b> X/Y軸方向</a></li>
</ul></li>
<li class="chapter" data-level="13.7" data-path="visualization-1.html"><a href="visualization-1.html#highlighting-storytelling"><i class="fa fa-check"></i><b>13.7</b> Highlighting &amp; Storytelling</a>
<ul>
<li class="chapter" data-level="13.7.1" data-path="visualization-1.html"><a href="visualization-1.html#依群組指定顏色"><i class="fa fa-check"></i><b>13.7.1</b> 依群組指定顏色</a></li>
<li class="chapter" data-level="13.7.2" data-path="visualization-1.html"><a href="visualization-1.html#使用gghighlight套件"><i class="fa fa-check"></i><b>13.7.2</b> 使用gghighlight套件</a></li>
<li class="chapter" data-level="13.7.3" data-path="visualization-1.html"><a href="visualization-1.html#為視覺化建立群組"><i class="fa fa-check"></i><b>13.7.3</b> 為視覺化建立群組</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="14" data-path="coordinate.html"><a href="coordinate.html"><i class="fa fa-check"></i><b>14</b> Coordinate</a>
<ul>
<li class="chapter" data-level="14.1" data-path="coordinate.html"><a href="coordinate.html#座標軸為資料排序"><i class="fa fa-check"></i><b>14.1</b> 座標軸為資料排序</a>
<ul>
<li class="chapter" data-level="14.1.1" data-path="coordinate.html"><a href="coordinate.html#section"><i class="fa fa-check"></i><b>14.1.1</b> </a></li>
</ul></li>
<li class="chapter" data-level="14.2" data-path="coordinate.html"><a href="coordinate.html#用log-scale放大長尾頭部"><i class="fa fa-check"></i><b>14.2</b> 用Log-scale放大長尾頭部</a></li>
<li class="chapter" data-level="14.3" data-path="coordinate.html"><a href="coordinate.html#square-root-scale"><i class="fa fa-check"></i><b>14.3</b> Square-root scale</a></li>
<li class="chapter" data-level="14.4" data-path="coordinate.html"><a href="coordinate.html#座標軸從數值到增加值"><i class="fa fa-check"></i><b>14.4</b> 座標軸從數值到增加值</a>
<ul>
<li class="chapter" data-level="14.4.1" data-path="coordinate.html"><a href="coordinate.html#net-worth-by-age-group-wgoitg-of-nytimes"><i class="fa fa-check"></i><b>14.4.1</b> Net Worth by Age Group (WGOITG of NYTIMES)</a></li>
<li class="chapter" data-level="14.4.2" data-path="coordinate.html"><a href="coordinate.html#read-and-sort-data"><i class="fa fa-check"></i><b>14.4.2</b> Read and sort data</a></li>
</ul></li>
<li class="chapter" data-level="14.5" data-path="coordinate.html"><a href="coordinate.html#等比例座標軸"><i class="fa fa-check"></i><b>14.5</b> 等比例座標軸</a>
<ul>
<li class="chapter" data-level="14.5.1" data-path="coordinate.html"><a href="coordinate.html#unicef-optimistic-wgoith"><i class="fa fa-check"></i><b>14.5.1</b> UNICEF-Optimistic (WGOITH)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="15" data-path="amount.html"><a href="amount.html"><i class="fa fa-check"></i><b>15</b> AMOUNT</a>
<ul>
<li class="chapter" data-level="15.1" data-path="amount.html"><a href="amount.html#bar-chart"><i class="fa fa-check"></i><b>15.1</b> Bar chart</a></li>
<li class="chapter" data-level="15.2" data-path="amount.html"><a href="amount.html#heatmap-vaccination"><i class="fa fa-check"></i><b>15.2</b> Heatmap: Vaccination</a>
<ul>
<li class="chapter" data-level="15.2.1" data-path="amount.html"><a href="amount.html#the-case-vaccinating-coverage-by-month"><i class="fa fa-check"></i><b>15.2.1</b> The case: Vaccinating coverage by month</a></li>
<li class="chapter" data-level="15.2.2" data-path="amount.html"><a href="amount.html#data-cleaning"><i class="fa fa-check"></i><b>15.2.2</b> Data cleaning</a></li>
<li class="chapter" data-level="15.2.3" data-path="amount.html"><a href="amount.html#visualization-2"><i class="fa fa-check"></i><b>15.2.3</b> Visualization</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="16" data-path="distribution-histogram-density.html"><a href="distribution-histogram-density.html"><i class="fa fa-check"></i><b>16</b> DISTRIBUTION: Histogram &amp; Density</a>
<ul>
<li class="chapter" data-level="16.1" data-path="distribution-histogram-density.html"><a href="distribution-histogram-density.html#density-plot"><i class="fa fa-check"></i><b>16.1</b> Density plot</a>
<ul>
<li class="chapter" data-level="16.1.1" data-path="distribution-histogram-density.html"><a href="distribution-histogram-density.html#density-with-different-bandwidth"><i class="fa fa-check"></i><b>16.1.1</b> Density with different bandwidth</a></li>
</ul></li>
<li class="chapter" data-level="16.2" data-path="distribution-histogram-density.html"><a href="distribution-histogram-density.html#histogram"><i class="fa fa-check"></i><b>16.2</b> Histogram</a>
<ul>
<li class="chapter" data-level="16.2.1" data-path="distribution-histogram-density.html"><a href="distribution-histogram-density.html#histogram-with-different-number-of-bins"><i class="fa fa-check"></i><b>16.2.1</b> Histogram with different number of bins</a></li>
<li class="chapter" data-level="16.2.2" data-path="distribution-histogram-density.html"><a href="distribution-histogram-density.html#density-vs-histogram"><i class="fa fa-check"></i><b>16.2.2</b> Density vs histogram</a></li>
<li class="chapter" data-level="16.2.3" data-path="distribution-histogram-density.html"><a href="distribution-histogram-density.html#positions-of-bar-chart"><i class="fa fa-check"></i><b>16.2.3</b> Positions of bar chart</a></li>
<li class="chapter" data-level="16.2.4" data-path="distribution-histogram-density.html"><a href="distribution-histogram-density.html#display-two-groups-histogram-by-facet_wrap"><i class="fa fa-check"></i><b>16.2.4</b> Display two groups histogram by facet_wrap()</a></li>
</ul></li>
<li class="chapter" data-level="16.3" data-path="distribution-histogram-density.html"><a href="distribution-histogram-density.html#pyramid-plot"><i class="fa fa-check"></i><b>16.3</b> Pyramid Plot</a>
<ul>
<li class="chapter" data-level="16.3.1" data-path="distribution-histogram-density.html"><a href="distribution-histogram-density.html#modify-geom_col-to-pyramid-plot"><i class="fa fa-check"></i><b>16.3.1</b> Modify geom_col() to pyramid plot</a></li>
</ul></li>
<li class="chapter" data-level="16.4" data-path="distribution-histogram-density.html"><a href="distribution-histogram-density.html#box-plot-muitiple-distrubution"><i class="fa fa-check"></i><b>16.4</b> Box plot: Muitiple Distrubution</a>
<ul>
<li class="chapter" data-level="16.4.1" data-path="distribution-histogram-density.html"><a href="distribution-histogram-density.html#tw-salary-boxplot"><i class="fa fa-check"></i><b>16.4.1</b> TW-Salary (boxplot)</a></li>
<li class="chapter" data-level="16.4.2" data-path="distribution-histogram-density.html"><a href="distribution-histogram-density.html#tw-income-boxplot"><i class="fa fa-check"></i><b>16.4.2</b> TW-Income (boxplot)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="17" data-path="proportion.html"><a href="proportion.html"><i class="fa fa-check"></i><b>17</b> PROPORTION</a>
<ul>
<li class="chapter" data-level="17.1" data-path="proportion.html"><a href="proportion.html#pie-chart"><i class="fa fa-check"></i><b>17.1</b> Pie Chart</a></li>
<li class="chapter" data-level="17.2" data-path="proportion.html"><a href="proportion.html#dodged-bar-chart"><i class="fa fa-check"></i><b>17.2</b> Dodged Bar Chart</a></li>
<li class="chapter" data-level="17.3" data-path="proportion.html"><a href="proportion.html#treemap-nested-proportion"><i class="fa fa-check"></i><b>17.3</b> Treemap: Nested Proportion</a>
<ul>
<li class="chapter" data-level="17.3.1" data-path="proportion.html"><a href="proportion.html#global-carbon-projects-wgoith-nytimes"><i class="fa fa-check"></i><b>17.3.1</b> Global Carbon Projects (WGOITH-NYTIMES)</a></li>
<li class="chapter" data-level="17.3.2" data-path="proportion.html"><a href="proportion.html#tw-budget"><i class="fa fa-check"></i><b>17.3.2</b> TW Budget</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="18" data-path="association.html"><a href="association.html"><i class="fa fa-check"></i><b>18</b> ASSOCIATION</a>
<ul>
<li class="chapter" data-level="18.1" data-path="association.html"><a href="association.html#等比例座標軸-1"><i class="fa fa-check"></i><b>18.1</b> 等比例座標軸</a>
<ul>
<li class="chapter" data-level="18.1.1" data-path="association.html"><a href="association.html#unicef-optimistic-wgoith-1"><i class="fa fa-check"></i><b>18.1.1</b> UNICEF-Optimistic (WGOITH)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="19" data-path="time-trends.html"><a href="time-trends.html"><i class="fa fa-check"></i><b>19</b> TIME &amp; TRENDS</a>
<ul>
<li class="chapter" data-level="19.1" data-path="time-trends.html"><a href="time-trends.html#highlighting-unemployed-population"><i class="fa fa-check"></i><b>19.1</b> Highlighting: Unemployed Population</a>
<ul>
<li class="chapter" data-level="19.1.1" data-path="time-trends.html"><a href="time-trends.html#the-econimics-data"><i class="fa fa-check"></i><b>19.1.1</b> The econimics data</a></li>
<li class="chapter" data-level="19.1.2" data-path="time-trends.html"><a href="time-trends.html#setting-marking-area"><i class="fa fa-check"></i><b>19.1.2</b> Setting marking area</a></li>
</ul></li>
<li class="chapter" data-level="19.2" data-path="time-trends.html"><a href="time-trends.html#smoothing-unemployed"><i class="fa fa-check"></i><b>19.2</b> Smoothing: Unemployed</a>
<ul>
<li class="chapter" data-level="19.2.1" data-path="time-trends.html"><a href="time-trends.html#polls_2008"><i class="fa fa-check"></i><b>19.2.1</b> Polls_2008</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="20" data-path="network-vis.html"><a href="network-vis.html"><i class="fa fa-check"></i><b>20</b> NETWORK VIS</a>
<ul>
<li class="chapter" data-level="20.1" data-path="network-vis.html"><a href="network-vis.html#generating-networks"><i class="fa fa-check"></i><b>20.1</b> Generating networks</a>
<ul>
<li class="chapter" data-level="20.1.1" data-path="network-vis.html"><a href="network-vis.html#random-network"><i class="fa fa-check"></i><b>20.1.1</b> Random network</a></li>
<li class="chapter" data-level="20.1.2" data-path="network-vis.html"><a href="network-vis.html#random-network-1"><i class="fa fa-check"></i><b>20.1.2</b> Random network</a></li>
</ul></li>
<li class="chapter" data-level="20.2" data-path="network-vis.html"><a href="network-vis.html#retrieve-top3-components"><i class="fa fa-check"></i><b>20.2</b> Retrieve Top3 Components</a>
<ul>
<li class="chapter" data-level="20.2.1" data-path="network-vis.html"><a href="network-vis.html#visualize-again"><i class="fa fa-check"></i><b>20.2.1</b> Visualize again</a></li>
</ul></li>
<li class="chapter" data-level="20.3" data-path="network-vis.html"><a href="network-vis.html#motif-visualization-and-analysis"><i class="fa fa-check"></i><b>20.3</b> Motif visualization and analysis</a>
<ul>
<li class="chapter" data-level="20.3.1" data-path="network-vis.html"><a href="network-vis.html#motif-type"><i class="fa fa-check"></i><b>20.3.1</b> Motif type</a></li>
<li class="chapter" data-level="20.3.2" data-path="network-vis.html"><a href="network-vis.html#motif-analysis"><i class="fa fa-check"></i><b>20.3.2</b> Motif analysis</a></li>
<li class="chapter" data-level="20.3.3" data-path="network-vis.html"><a href="network-vis.html#generate-motives"><i class="fa fa-check"></i><b>20.3.3</b> Generate motives</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="21" data-path="geospatial.html"><a href="geospatial.html"><i class="fa fa-check"></i><b>21</b> GEOSPATIAL</a></li>
<li class="chapter" data-level="22" data-path="interactivity.html"><a href="interactivity.html"><i class="fa fa-check"></i><b>22</b> Interactivity</a>
<ul>
<li class="chapter" data-level="22.1" data-path="interactivity.html"><a href="interactivity.html#ggplotly"><i class="fa fa-check"></i><b>22.1</b> ggplotly</a>
<ul>
<li class="chapter" data-level="22.1.1" data-path="interactivity.html"><a href="interactivity.html#line-chart"><i class="fa fa-check"></i><b>22.1.1</b> LINE CHART</a></li>
<li class="chapter" data-level="22.1.2" data-path="interactivity.html"><a href="interactivity.html#scatter"><i class="fa fa-check"></i><b>22.1.2</b> SCATTER</a></li>
<li class="chapter" data-level="22.1.3" data-path="interactivity.html"><a href="interactivity.html#barplot"><i class="fa fa-check"></i><b>22.1.3</b> Barplot</a></li>
<li class="chapter" data-level="22.1.4" data-path="interactivity.html"><a href="interactivity.html#boxplot"><i class="fa fa-check"></i><b>22.1.4</b> Boxplot</a></li>
<li class="chapter" data-level="22.1.5" data-path="interactivity.html"><a href="interactivity.html#treemap-global-carbon"><i class="fa fa-check"></i><b>22.1.5</b> Treemap (Global Carbon)</a></li>
</ul></li>
<li class="chapter" data-level="22.2" data-path="interactivity.html"><a href="interactivity.html#產製圖表動畫"><i class="fa fa-check"></i><b>22.2</b> 產製圖表動畫</a>
<ul>
<li class="chapter" data-level="22.2.1" data-path="interactivity.html"><a href="interactivity.html#地圖下載與轉換投影方法"><i class="fa fa-check"></i><b>22.2.1</b> 地圖下載與轉換投影方法</a></li>
<li class="chapter" data-level="22.2.2" data-path="interactivity.html"><a href="interactivity.html#靜態繪圖測試"><i class="fa fa-check"></i><b>22.2.2</b> 靜態繪圖測試</a></li>
</ul></li>
</ul></li>
<li class="part"><span><b>V CASE STUDIES</b></span></li>
<li class="chapter" data-level="23" data-path="wgoitg.html"><a href="wgoitg.html"><i class="fa fa-check"></i><b>23</b> WGOITG of NyTimes</a></li>
<li class="chapter" data-level="24" data-path="wgoitg-population-increase.html"><a href="wgoitg-population-increase.html"><i class="fa fa-check"></i><b>24</b> WGOITG: Population Increase</a></li>
<li class="chapter" data-level="25" data-path="inequality-net-worth-by-age-group.html"><a href="inequality-net-worth-by-age-group.html"><i class="fa fa-check"></i><b>25</b> Inequality: Net Worth by Age Group</a></li>
<li class="chapter" data-level="26" data-path="optimism-survey-by-countries.html"><a href="optimism-survey-by-countries.html"><i class="fa fa-check"></i><b>26</b> Optimism Survey by Countries</a></li>
<li class="chapter" data-level="27" data-path="global-carbon-projects.html"><a href="global-carbon-projects.html"><i class="fa fa-check"></i><b>27</b> Global Carbon Projects</a></li>
<li class="chapter" data-level="28" data-path="taiwan.html"><a href="taiwan.html"><i class="fa fa-check"></i><b>28</b> Case Studies (Taiwan)</a>
<ul>
<li class="chapter" data-level="28.1" data-path="taiwan.html"><a href="taiwan.html#tw-aqi-visual-studies"><i class="fa fa-check"></i><b>28.1</b> TW AQI Visual Studies</a>
<ul>
<li class="chapter" data-level="28.1.1" data-path="taiwan.html"><a href="taiwan.html#eda-load-data-from-github"><i class="fa fa-check"></i><b>28.1.1</b> eda-load-data-from-github</a></li>
<li class="chapter" data-level="28.1.2" data-path="taiwan.html"><a href="taiwan.html#trending-central-tendency"><i class="fa fa-check"></i><b>28.1.2</b> Trending: Central tendency</a></li>
<li class="chapter" data-level="28.1.3" data-path="taiwan.html"><a href="taiwan.html#trending-extreme-value"><i class="fa fa-check"></i><b>28.1.3</b> Trending: Extreme value</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="29" data-path="appendix.html"><a href="appendix.html"><i class="fa fa-check"></i><b>29</b> Appendix</a>
<ul>
<li class="chapter" data-level="29.1" data-path="appendix.html"><a href="appendix.html#dataset"><i class="fa fa-check"></i><b>29.1</b> Dataset</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R for Data Journalism</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="coordinate" class="section level1 hasAnchor" number="14">
<h1><span class="header-section-number">Chapter 14</span> Coordinate<a href="coordinate.html#coordinate" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>本章節談論的是視覺化圖表的座標軸，本章節所涵蓋的概念可參考<em>Claus O. Wilke</em>所著之<a href="https://clauswilke.com/dataviz/coordinate-systems-axes.html">Fundamentals of Data Visualization</a>的Chap3 Coordination &amp; Axis與Chapter 8 <a href="https://clauswilke.com/dataviz/ecdf-qq.html">Visualizing distributions: Empirical cumulative distribution functions and q-q plots</a>。</p>
<div id="座標軸為資料排序" class="section level2 hasAnchor" number="14.1">
<h2><span class="header-section-number">14.1</span> 座標軸為資料排序<a href="coordinate.html#座標軸為資料排序" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>學術論文若要呈現一群數據的分佈時，最常用的是密度（分佈）函數、累積分佈函數，最常視覺化的方法是密度分佈圖（<code>geom_density()</code>）或直方圖（<code>geom_histogram()</code>)。然而，對新聞等強調「說故事」的文體而言，說故事的技巧往往不是「<strong>那一群</strong>資源多或資源少的對象」，而經常要直指「<strong>那個對象</strong>」，要能夠看得見所敘述的對象在圖中的位置。此時，用密度分佈來呈現的話，只能看出，該對象在分佈的某個位置；但可以改用將資料對象根據某個數據來排序後，繪製折現圖的方式來表現。例如，若要繪製一個班級的成績分佈，通常X軸是分數（組），Y軸是獲得該分數（組）的人數；但其實可以將個體依照分數來做排序，Y軸不是某個分數（組）的個數，而是每個排序後的個體，而且以排序後的序號（Ranking）來表示。用折線圖繪製後，一樣可以看出分數的分佈，但卻能夠直接標記敘事中的某個對象是Y軸中得哪個點。</p>
<div id="section" class="section level3" number="14.1.1">
<h3><span class="header-section-number">14.1.1</span> </h3>
<div class="figure">
<img src="images/paste-FB7FC371.png" alt="" />
<p class="caption">Figure 3.5: Population numbers of Texas counties relative to their median value. Select counties are highlighted by name. The dashed line indicates a ratio of 1, corresponding to a county with median population number. The most populous counties have approximately 100 times more inhabitants than the median county, and the least populous counties have approximately 100 times fewer inhabitants than the median county. Data source: 2010 Decennial U.S. Census.</p>
</div>
<ul>
<li><p>See <a href="https://www.nytimes.com/2022/01/06/learning/whats-going-on-in-this-graph-jan-12-2022.html">What’s Going On in This Graph? | Vaccination by Country</a> from<a href="https://www.nytimes.com/interactive/2021/12/09/world/vaccine-inequity-supply.html">What Data Shows About Vaccine Supply and Demand in the Most Vulnerable Places - The New York Times (nytimes.com)</a></p>
<p>The original chart is animated along the timeline.<a href="https://www.nytimes.com/interactive/2021/12/09/world/vaccine-inequity-supply.html">What Data Shows About Vaccine Supply and Demand in the Most Vulnerable Places - The New York Times (nytimes.com)</a></p></li>
</ul>
<p><img src="https://lh3.googleusercontent.com/qDunt-J56_eLmFmjTlUn7VMRyg9rKn0-aeYjfmbXd9JcUV9xJojcG0oAoEXHZMU3SCUx64o2B_GH9mtpwqKuj6KUchZL4Zau4l7LnC3sclUdpbW-mQdv8cJqCvukqUsrbXMgeKSl" /></p>
</div>
</div>
<div id="用log-scale放大長尾頭部" class="section level2 hasAnchor" number="14.2">
<h2><span class="header-section-number">14.2</span> 用Log-scale放大長尾頭部<a href="coordinate.html#用log-scale放大長尾頭部" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb530"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb530-1"><a href="coordinate.html#cb530-1" aria-hidden="true" tabindex="-1"></a>raw <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/opendata107Y020.csv&quot;</span>, <span class="at">show_col_types =</span> <span class="cn">FALSE</span>)  <span class="sc">%&gt;%</span> </span>
<span id="cb530-2"><a href="coordinate.html#cb530-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">slice</span>(<span class="sc">-</span><span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb530-3"><a href="coordinate.html#cb530-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">type_convert</span>()</span>
<span id="cb530-4"><a href="coordinate.html#cb530-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb530-5"><a href="coordinate.html#cb530-5" aria-hidden="true" tabindex="-1"></a>toplot <span class="ot">&lt;-</span> raw <span class="sc">%&gt;%</span></span>
<span id="cb530-6"><a href="coordinate.html#cb530-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(site_id, village, edu_age_15up_total) <span class="sc">%&gt;%</span></span>
<span id="cb530-7"><a href="coordinate.html#cb530-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(<span class="fu">desc</span>(edu_age_15up_total)) <span class="sc">%&gt;%</span></span>
<span id="cb530-8"><a href="coordinate.html#cb530-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">index =</span> <span class="fu">row_number</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb530-9"><a href="coordinate.html#cb530-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">label =</span> <span class="fu">ifelse</span>(index <span class="sc">&lt;=</span> <span class="dv">5</span> <span class="sc">|</span> index <span class="sc">&gt;</span> <span class="fu">n</span>()<span class="sc">-</span><span class="dv">5</span>, <span class="fu">paste0</span>(site_id, village), <span class="st">&quot;&quot;</span>))</span>
<span id="cb530-10"><a href="coordinate.html#cb530-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb530-11"><a href="coordinate.html#cb530-11" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggrepel)</span>
<span id="cb530-12"><a href="coordinate.html#cb530-12" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> toplot <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>() <span class="sc">+</span> <span class="fu">aes</span>(index, edu_age_15up_total) <span class="sc">+</span> </span>
<span id="cb530-13"><a href="coordinate.html#cb530-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">alpha=</span><span class="fl">0.5</span>, <span class="at">color=</span><span class="st">&quot;royalblue&quot;</span>) <span class="sc">+</span> </span>
<span id="cb530-14"><a href="coordinate.html#cb530-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_text_repel</span>(<span class="fu">aes</span>(<span class="at">label =</span> label), <span class="at">point.padding =</span> .<span class="dv">4</span>, <span class="at">color =</span> <span class="st">&quot;black&quot;</span>,</span>
<span id="cb530-15"><a href="coordinate.html#cb530-15" aria-hidden="true" tabindex="-1"></a>                  <span class="at">min.segment.length =</span> <span class="dv">0</span>, <span class="at">family =</span> <span class="st">&quot;Heiti TC Light&quot;</span>) <span class="sc">+</span> </span>
<span id="cb530-16"><a href="coordinate.html#cb530-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">axis.text.x=</span><span class="fu">element_blank</span>()) <span class="sc">+</span> </span>
<span id="cb530-17"><a href="coordinate.html#cb530-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_y_log10</span>(<span class="at">breaks =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">10</span>, <span class="dv">100</span>, <span class="dv">1000</span>, <span class="dv">10000</span>)) <span class="sc">+</span> </span>
<span id="cb530-18"><a href="coordinate.html#cb530-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>()</span>
<span id="cb530-19"><a href="coordinate.html#cb530-19" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> toplot <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>() <span class="sc">+</span> <span class="fu">aes</span>(index, edu_age_15up_total) <span class="sc">+</span> </span>
<span id="cb530-20"><a href="coordinate.html#cb530-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">alpha=</span><span class="fl">0.5</span>, <span class="at">color=</span><span class="st">&quot;royalblue&quot;</span>) <span class="sc">+</span> </span>
<span id="cb530-21"><a href="coordinate.html#cb530-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">axis.text.x=</span><span class="fu">element_blank</span>()) <span class="sc">+</span> </span>
<span id="cb530-22"><a href="coordinate.html#cb530-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>()</span>
<span id="cb530-23"><a href="coordinate.html#cb530-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb530-24"><a href="coordinate.html#cb530-24" aria-hidden="true" tabindex="-1"></a>cowplot<span class="sc">::</span><span class="fu">plot_grid</span>(</span>
<span id="cb530-25"><a href="coordinate.html#cb530-25" aria-hidden="true" tabindex="-1"></a>  p2, <span class="cn">NULL</span>, p1,</span>
<span id="cb530-26"><a href="coordinate.html#cb530-26" aria-hidden="true" tabindex="-1"></a>  <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;&quot;</span>, <span class="st">&quot;b&quot;</span>), <span class="at">nrow =</span> <span class="dv">1</span>, <span class="at">rel_widths =</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="fl">0.1</span>, <span class="dv">1</span>)</span>
<span id="cb530-27"><a href="coordinate.html#cb530-27" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p><img src="V04_Coordinate_System_files/figure-html/Fig3-5-6-log-scale-village-level-population-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
<div id="square-root-scale" class="section level2 hasAnchor" number="14.3">
<h2><span class="header-section-number">14.3</span> Square-root scale<a href="coordinate.html#square-root-scale" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Chap3 Coordination &amp; Axis <a href="https://clauswilke.com/dataviz/coordinate-systems-axes.html">Fundamentals of Data Visualization (clauswilke.com)</a></p>
<div class="figure">
<img src="images/paste-F8C01660.png" alt="" />
<p class="caption">Figure 3.8: Areas of Northeastern U.S. states. (a) Areas shown on a linear scale. (b) Areas shown on a square-root scale. Data source: Google.</p>
</div>
<p>前面是視覺化了各村里大於十五歲以上人口的人口數分佈，採用對數尺度（log-scale）可以觀察到比較小的村里。那有什麼是適合用平方根尺度（sqrt-scale）的呢？是土地嗎？密度嗎？還是人口數？是村里等級嗎？鄉鎮市區等級嗎？還是縣市等級？</p>
<div class="sourceCode" id="cb531"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb531-1"><a href="coordinate.html#cb531-1" aria-hidden="true" tabindex="-1"></a>town <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/tw_population_opendata110N010.csv&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb531-2"><a href="coordinate.html#cb531-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">slice</span>(<span class="sc">-</span><span class="dv">1</span>, <span class="sc">-</span>(<span class="dv">370</span><span class="sc">:</span><span class="dv">375</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb531-3"><a href="coordinate.html#cb531-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">type_convert</span>()</span>
<span id="cb531-4"><a href="coordinate.html#cb531-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb531-5"><a href="coordinate.html#cb531-5" aria-hidden="true" tabindex="-1"></a>town <span class="sc">%&gt;%</span></span>
<span id="cb531-6"><a href="coordinate.html#cb531-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(<span class="fu">desc</span>(area)) <span class="sc">%&gt;%</span></span>
<span id="cb531-7"><a href="coordinate.html#cb531-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">index =</span> <span class="fu">row_number</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb531-8"><a href="coordinate.html#cb531-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>() <span class="sc">+</span> <span class="fu">aes</span>(index, area) <span class="sc">%&gt;%</span></span>
<span id="cb531-9"><a href="coordinate.html#cb531-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_col</span>(<span class="at">fill=</span><span class="st">&quot;skyblue&quot;</span>) <span class="sc">+</span></span>
<span id="cb531-10"><a href="coordinate.html#cb531-10" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_y_sqrt</span>() <span class="sc">+</span> </span>
<span id="cb531-11"><a href="coordinate.html#cb531-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>()</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:Fig03-8-TW-Population-Density-1"></span>
<img src="V04_Coordinate_System_files/figure-html/Fig03-8-TW-Population-Density-1.png" alt="(ref:population-area)" width="100%" />
<p class="caption">
Figure 14.1: (ref:population-area)
</p>
</div>
<div class="sourceCode" id="cb532"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb532-1"><a href="coordinate.html#cb532-1" aria-hidden="true" tabindex="-1"></a>county <span class="ot">&lt;-</span> town <span class="sc">%&gt;%</span></span>
<span id="cb532-2"><a href="coordinate.html#cb532-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">county =</span> <span class="fu">str_sub</span>(site_id, <span class="dv">1</span>, <span class="dv">3</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb532-3"><a href="coordinate.html#cb532-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(county) <span class="sc">%&gt;%</span></span>
<span id="cb532-4"><a href="coordinate.html#cb532-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarize</span>(</span>
<span id="cb532-5"><a href="coordinate.html#cb532-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">area =</span> <span class="fu">sum</span>(area), </span>
<span id="cb532-6"><a href="coordinate.html#cb532-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">people_total =</span> <span class="fu">sum</span>(people_total)</span>
<span id="cb532-7"><a href="coordinate.html#cb532-7" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb532-8"><a href="coordinate.html#cb532-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ungroup</span>()</span>
<span id="cb532-9"><a href="coordinate.html#cb532-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb532-10"><a href="coordinate.html#cb532-10" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> county <span class="sc">%&gt;%</span></span>
<span id="cb532-11"><a href="coordinate.html#cb532-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(<span class="fu">desc</span>(people_total)) <span class="sc">%&gt;%</span></span>
<span id="cb532-12"><a href="coordinate.html#cb532-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">index =</span> <span class="fu">row_number</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb532-13"><a href="coordinate.html#cb532-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>() <span class="sc">+</span> <span class="fu">aes</span>(index, people_total) <span class="sc">%&gt;%</span></span>
<span id="cb532-14"><a href="coordinate.html#cb532-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_col</span>(<span class="at">fill=</span><span class="st">&quot;lightgrey&quot;</span>) <span class="sc">+</span></span>
<span id="cb532-15"><a href="coordinate.html#cb532-15" aria-hidden="true" tabindex="-1"></a>    <span class="co"># scale_y_sqrt() +</span></span>
<span id="cb532-16"><a href="coordinate.html#cb532-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>()</span>
<span id="cb532-17"><a href="coordinate.html#cb532-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb532-18"><a href="coordinate.html#cb532-18" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> county <span class="sc">%&gt;%</span></span>
<span id="cb532-19"><a href="coordinate.html#cb532-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(<span class="fu">desc</span>(people_total)) <span class="sc">%&gt;%</span></span>
<span id="cb532-20"><a href="coordinate.html#cb532-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">index =</span> <span class="fu">row_number</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb532-21"><a href="coordinate.html#cb532-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>() <span class="sc">+</span> <span class="fu">aes</span>(index, people_total) <span class="sc">%&gt;%</span></span>
<span id="cb532-22"><a href="coordinate.html#cb532-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_col</span>(<span class="at">fill=</span><span class="st">&quot;khaki&quot;</span>) <span class="sc">+</span></span>
<span id="cb532-23"><a href="coordinate.html#cb532-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_y_sqrt</span>(<span class="at">breaks=</span><span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">250000</span>, <span class="dv">500000</span>, <span class="dv">1000000</span>, <span class="dv">2000000</span>, <span class="dv">4000000</span>)) <span class="sc">+</span></span>
<span id="cb532-24"><a href="coordinate.html#cb532-24" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>()</span>
<span id="cb532-25"><a href="coordinate.html#cb532-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb532-26"><a href="coordinate.html#cb532-26" aria-hidden="true" tabindex="-1"></a>cowplot<span class="sc">::</span><span class="fu">plot_grid</span>(</span>
<span id="cb532-27"><a href="coordinate.html#cb532-27" aria-hidden="true" tabindex="-1"></a>  p1, p2,</span>
<span id="cb532-28"><a href="coordinate.html#cb532-28" aria-hidden="true" tabindex="-1"></a>  <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>), </span>
<span id="cb532-29"><a href="coordinate.html#cb532-29" aria-hidden="true" tabindex="-1"></a>  <span class="at">nrow =</span> <span class="dv">1</span></span>
<span id="cb532-30"><a href="coordinate.html#cb532-30" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:Fig03-8-TW-Population-Density-2"></span>
<img src="V04_Coordinate_System_files/figure-html/Fig03-8-TW-Population-Density-2.png" alt="(ref:population-area)" width="100%" />
<p class="caption">
Figure 14.2: (ref:population-area)
</p>
</div>
<div class="sourceCode" id="cb533"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb533-1"><a href="coordinate.html#cb533-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb533-2"><a href="coordinate.html#cb533-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gghighlight)</span></code></pre></div>
</div>
<div id="座標軸從數值到增加值" class="section level2 hasAnchor" number="14.4">
<h2><span class="header-section-number">14.4</span> 座標軸從數值到增加值<a href="coordinate.html#座標軸從數值到增加值" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="net-worth-by-age-group-wgoitg-of-nytimes" class="section level3 hasAnchor" number="14.4.1">
<h3><span class="header-section-number">14.4.1</span> Net Worth by Age Group (WGOITG of NYTIMES)<a href="coordinate.html#net-worth-by-age-group-wgoitg-of-nytimes" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="notes">
<p><strong>LEARNING NOTES</strong></p>
<p>Median for Inequality</p>
</div>
<p>這個教學案例來自紐約時報的「What’s going on in this gragh」系列資料視覺化教學之<a href="https://www.nytimes.com/2021/05/11/learning/lesson-plans/teach-about-inequality-with-these-28-new-york-times-graphs.html">Teach About Inequality With These 28 New York Times Graphs - The New York Times (nytimes.com)</a> 。該圖表呈現在不同年代、不同年齡層的人所擁有的淨資產（包含土地、存款、投資等減去債務）。該圖表的結果指出，在不同年代的老年人是越來越有錢，但年輕人卻越來越窮（該曲線為減去1989年</p>
<p><a href="https://www.nytimes.com/2021/05/11/learning/lesson-plans/teach-about-inequality-with-these-28-new-york-times-graphs.html"><img src="images/paste-27DE8695.png" alt="Teach About Inequality With These 28 New York Times Graphs - The New York Times (nytimes.com)" /></a></p>
</div>
<div id="read-and-sort-data" class="section level3 hasAnchor" number="14.4.2">
<h3><span class="header-section-number">14.4.2</span> Read and sort data<a href="coordinate.html#read-and-sort-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Sorted by <code>arrange()</code> function.</p>
<div class="sourceCode" id="cb534"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb534-1"><a href="coordinate.html#cb534-1" aria-hidden="true" tabindex="-1"></a>p1 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/interactive_bulletin_charts_agecl_median.csv&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb534-2"><a href="coordinate.html#cb534-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(year, Category, Net_Worth) <span class="sc">%&gt;%</span></span>
<span id="cb534-3"><a href="coordinate.html#cb534-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(Category) <span class="sc">%&gt;%</span></span>
<span id="cb534-4"><a href="coordinate.html#cb534-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(year) <span class="sc">%&gt;%</span></span>
<span id="cb534-5"><a href="coordinate.html#cb534-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ungroup</span>()</span>
<span id="cb534-6"><a href="coordinate.html#cb534-6" aria-hidden="true" tabindex="-1"></a>p1 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(year <span class="sc">&lt;=</span> <span class="dv">1992</span>) <span class="sc">%&gt;%</span> knitr<span class="sc">::</span><span class="fu">kable</span>()</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="right">year</th>
<th align="left">Category</th>
<th align="right">Net_Worth</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">1989</td>
<td align="left">Less than 35</td>
<td align="right">16.17019</td>
</tr>
<tr class="even">
<td align="right">1989</td>
<td align="left">35-44</td>
<td align="right">112.47530</td>
</tr>
<tr class="odd">
<td align="right">1989</td>
<td align="left">45-54</td>
<td align="right">195.11630</td>
</tr>
<tr class="even">
<td align="right">1989</td>
<td align="left">55-64</td>
<td align="right">195.25554</td>
</tr>
<tr class="odd">
<td align="right">1989</td>
<td align="left">65-74</td>
<td align="right">154.34277</td>
</tr>
<tr class="even">
<td align="right">1989</td>
<td align="left">75 or older</td>
<td align="right">144.29855</td>
</tr>
<tr class="odd">
<td align="right">1992</td>
<td align="left">Less than 35</td>
<td align="right">16.60780</td>
</tr>
<tr class="even">
<td align="right">1992</td>
<td align="left">35-44</td>
<td align="right">79.91050</td>
</tr>
<tr class="odd">
<td align="right">1992</td>
<td align="left">45-54</td>
<td align="right">139.97745</td>
</tr>
<tr class="even">
<td align="right">1992</td>
<td align="left">55-64</td>
<td align="right">203.44104</td>
</tr>
<tr class="odd">
<td align="right">1992</td>
<td align="left">65-74</td>
<td align="right">176.44667</td>
</tr>
<tr class="even">
<td align="right">1992</td>
<td align="left">75 or older</td>
<td align="right">155.35173</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb535"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb535-1"><a href="coordinate.html#cb535-1" aria-hidden="true" tabindex="-1"></a>p1 <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>() <span class="sc">+</span> <span class="fu">aes</span>(year, Net_Worth, <span class="at">color =</span> Category) <span class="sc">+</span> </span>
<span id="cb535-2"><a href="coordinate.html#cb535-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="at">linetype=</span><span class="st">&quot;dotted&quot;</span>) <span class="sc">+</span> </span>
<span id="cb535-3"><a href="coordinate.html#cb535-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span> </span>
<span id="cb535-4"><a href="coordinate.html#cb535-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">gghighlight</span>(Category <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;65-74&quot;</span>, <span class="st">&quot;35-44&quot;</span>)) <span class="sc">+</span> </span>
<span id="cb535-5"><a href="coordinate.html#cb535-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>() <span class="sc">+</span> </span>
<span id="cb535-6"><a href="coordinate.html#cb535-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="cn">NULL</span>) <span class="sc">+</span> </span>
<span id="cb535-7"><a href="coordinate.html#cb535-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">&quot;white&quot;</span>,</span>
<span id="cb535-8"><a href="coordinate.html#cb535-8" aria-hidden="true" tabindex="-1"></a>                                <span class="at">colour =</span> <span class="st">&quot;white&quot;</span>,</span>
<span id="cb535-9"><a href="coordinate.html#cb535-9" aria-hidden="true" tabindex="-1"></a>                                <span class="at">size =</span> <span class="fl">0.5</span>, <span class="at">linetype =</span> <span class="st">&quot;solid&quot;</span>))</span></code></pre></div>
<p><img src="V04_Coordinate_System_files/figure-html/unnamed-chunk-5-1.png" width="100%" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb536"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb536-1"><a href="coordinate.html#cb536-1" aria-hidden="true" tabindex="-1"></a>p2 <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/interactive_bulletin_charts_agecl_median.csv&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb536-2"><a href="coordinate.html#cb536-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(year, Category, <span class="at">NW =</span> Net_Worth)  <span class="sc">%&gt;%</span></span>
<span id="cb536-3"><a href="coordinate.html#cb536-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(Category) <span class="sc">%&gt;%</span></span>
<span id="cb536-4"><a href="coordinate.html#cb536-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">arrange</span>(year) <span class="sc">%&gt;%</span></span>
<span id="cb536-5"><a href="coordinate.html#cb536-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">increase =</span> (NW<span class="sc">-</span><span class="fu">first</span>(NW))<span class="sc">/</span><span class="fu">first</span>(NW)) <span class="sc">%&gt;%</span></span>
<span id="cb536-6"><a href="coordinate.html#cb536-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ungroup</span>()</span>
<span id="cb536-7"><a href="coordinate.html#cb536-7" aria-hidden="true" tabindex="-1"></a>p2 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(year <span class="sc">&lt;=</span> <span class="dv">1992</span>) <span class="sc">%&gt;%</span> knitr<span class="sc">::</span><span class="fu">kable</span>()</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="right">year</th>
<th align="left">Category</th>
<th align="right">NW</th>
<th align="right">increase</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">1989</td>
<td align="left">Less than 35</td>
<td align="right">16.17019</td>
<td align="right">0.0000000</td>
</tr>
<tr class="even">
<td align="right">1989</td>
<td align="left">35-44</td>
<td align="right">112.47530</td>
<td align="right">0.0000000</td>
</tr>
<tr class="odd">
<td align="right">1989</td>
<td align="left">45-54</td>
<td align="right">195.11630</td>
<td align="right">0.0000000</td>
</tr>
<tr class="even">
<td align="right">1989</td>
<td align="left">55-64</td>
<td align="right">195.25554</td>
<td align="right">0.0000000</td>
</tr>
<tr class="odd">
<td align="right">1989</td>
<td align="left">65-74</td>
<td align="right">154.34277</td>
<td align="right">0.0000000</td>
</tr>
<tr class="even">
<td align="right">1989</td>
<td align="left">75 or older</td>
<td align="right">144.29855</td>
<td align="right">0.0000000</td>
</tr>
<tr class="odd">
<td align="right">1992</td>
<td align="left">Less than 35</td>
<td align="right">16.60780</td>
<td align="right">0.0270627</td>
</tr>
<tr class="even">
<td align="right">1992</td>
<td align="left">35-44</td>
<td align="right">79.91050</td>
<td align="right">-0.2895285</td>
</tr>
<tr class="odd">
<td align="right">1992</td>
<td align="left">45-54</td>
<td align="right">139.97745</td>
<td align="right">-0.2825948</td>
</tr>
<tr class="even">
<td align="right">1992</td>
<td align="left">55-64</td>
<td align="right">203.44104</td>
<td align="right">0.0419220</td>
</tr>
<tr class="odd">
<td align="right">1992</td>
<td align="left">65-74</td>
<td align="right">176.44667</td>
<td align="right">0.1432131</td>
</tr>
<tr class="even">
<td align="right">1992</td>
<td align="left">75 or older</td>
<td align="right">155.35173</td>
<td align="right">0.0765994</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb537"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb537-1"><a href="coordinate.html#cb537-1" aria-hidden="true" tabindex="-1"></a>p2 <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>() <span class="sc">+</span> <span class="fu">aes</span>(year, increase, <span class="at">color =</span> Category) <span class="sc">+</span> </span>
<span id="cb537-2"><a href="coordinate.html#cb537-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_line</span>(<span class="at">linetype=</span><span class="st">&quot;dotted&quot;</span>) <span class="sc">+</span> </span>
<span id="cb537-3"><a href="coordinate.html#cb537-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>() <span class="sc">+</span> </span>
<span id="cb537-4"><a href="coordinate.html#cb537-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">gghighlight</span>(Category <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;65-74&quot;</span>, <span class="st">&quot;35-44&quot;</span>)) <span class="sc">+</span> </span>
<span id="cb537-5"><a href="coordinate.html#cb537-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>() <span class="sc">+</span> </span>
<span id="cb537-6"><a href="coordinate.html#cb537-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_y_continuous</span>(<span class="at">labels=</span>scales<span class="sc">::</span><span class="fu">parse_format</span>()) <span class="sc">+</span> </span>
<span id="cb537-7"><a href="coordinate.html#cb537-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_x_continuous</span>(<span class="at">breaks =</span> <span class="cn">NULL</span>) <span class="sc">+</span> </span>
<span id="cb537-8"><a href="coordinate.html#cb537-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">&quot;white&quot;</span>,</span>
<span id="cb537-9"><a href="coordinate.html#cb537-9" aria-hidden="true" tabindex="-1"></a>                                <span class="at">colour =</span> <span class="st">&quot;white&quot;</span>,</span>
<span id="cb537-10"><a href="coordinate.html#cb537-10" aria-hidden="true" tabindex="-1"></a>                                <span class="at">size =</span> <span class="fl">0.5</span>, <span class="at">linetype =</span> <span class="st">&quot;solid&quot;</span>))</span></code></pre></div>
<p><img src="V04_Coordinate_System_files/figure-html/unnamed-chunk-7-1.png" width="100%" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="等比例座標軸" class="section level2 hasAnchor" number="14.5">
<h2><span class="header-section-number">14.5</span> 等比例座標軸<a href="coordinate.html#等比例座標軸" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="unicef-optimistic-wgoith" class="section level3 hasAnchor" number="14.5.1">
<h3><span class="header-section-number">14.5.1</span> UNICEF-Optimistic (WGOITH)<a href="coordinate.html#unicef-optimistic-wgoith" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><a href="https://www.nytimes.com/2021/11/17/upshot/global-survey-optimism.html" class="uri">https://www.nytimes.com/2021/11/17/upshot/global-survey-optimism.html</a> <a href="https://changingchildhood.unicef.org/about" class="uri">https://changingchildhood.unicef.org/about</a></p>
<div class="sourceCode" id="cb538"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb538-1"><a href="coordinate.html#cb538-1" aria-hidden="true" tabindex="-1"></a>plot.opt <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/unicef-changing-childhood-data.csv&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb538-2"><a href="coordinate.html#cb538-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(<span class="at">country =</span> WP5, <span class="at">age =</span> WP22140, <span class="at">bw =</span> WP22092) <span class="sc">%&gt;%</span></span>
<span id="cb538-3"><a href="coordinate.html#cb538-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">country =</span> <span class="fu">ordered</span>(country, </span>
<span id="cb538-4"><a href="coordinate.html#cb538-4" aria-hidden="true" tabindex="-1"></a>                             <span class="at">levels=</span><span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">10</span>, <span class="dv">11</span>, <span class="dv">12</span>, </span>
<span id="cb538-5"><a href="coordinate.html#cb538-5" aria-hidden="true" tabindex="-1"></a>                                      <span class="dv">13</span>, <span class="dv">14</span>, <span class="dv">17</span>, <span class="dv">29</span>, <span class="dv">31</span>, </span>
<span id="cb538-6"><a href="coordinate.html#cb538-6" aria-hidden="true" tabindex="-1"></a>                                      <span class="dv">33</span>, <span class="dv">35</span>, <span class="dv">36</span>, <span class="dv">60</span>, <span class="dv">61</span>, </span>
<span id="cb538-7"><a href="coordinate.html#cb538-7" aria-hidden="true" tabindex="-1"></a>                                      <span class="dv">77</span>, <span class="dv">79</span>, <span class="dv">81</span>, <span class="dv">87</span>, <span class="dv">165</span>), </span>
<span id="cb538-8"><a href="coordinate.html#cb538-8" aria-hidden="true" tabindex="-1"></a>                             <span class="at">labels=</span><span class="fu">c</span>(<span class="st">&quot;USA&quot;</span>, <span class="st">&quot;Morocco&quot;</span>, <span class="st">&quot;Lebanon&quot;</span>, </span>
<span id="cb538-9"><a href="coordinate.html#cb538-9" aria-hidden="true" tabindex="-1"></a>                                      <span class="st">&quot;Indonesia&quot;</span>, <span class="st">&quot;Bangladesh&quot;</span>, </span>
<span id="cb538-10"><a href="coordinate.html#cb538-10" aria-hidden="true" tabindex="-1"></a>                                      <span class="st">&quot;UK&quot;</span>, <span class="st">&quot;France&quot;</span>, <span class="st">&quot;Germany&quot;</span>,</span>
<span id="cb538-11"><a href="coordinate.html#cb538-11" aria-hidden="true" tabindex="-1"></a>                                      <span class="st">&quot;Spain&quot;</span>, <span class="st">&quot;Japan&quot;</span>, <span class="st">&quot;India&quot;</span>, </span>
<span id="cb538-12"><a href="coordinate.html#cb538-12" aria-hidden="true" tabindex="-1"></a>                                      <span class="st">&quot;Brazil&quot;</span>, <span class="st">&quot;Nigeria&quot;</span>, <span class="st">&quot;Kenya&quot;</span>, </span>
<span id="cb538-13"><a href="coordinate.html#cb538-13" aria-hidden="true" tabindex="-1"></a>                                      <span class="st">&quot;Ethiopia&quot;</span>, <span class="st">&quot;Mali&quot;</span>, <span class="st">&quot;Ukraine&quot;</span>,</span>
<span id="cb538-14"><a href="coordinate.html#cb538-14" aria-hidden="true" tabindex="-1"></a>                                      <span class="st">&quot;Cameroon&quot;</span>, <span class="st">&quot;Zimbabwe&quot;</span>,</span>
<span id="cb538-15"><a href="coordinate.html#cb538-15" aria-hidden="true" tabindex="-1"></a>                                      <span class="st">&quot;Argentina&quot;</span>, <span class="st">&quot;Peru&quot;</span>))) <span class="sc">%&gt;%</span></span>
<span id="cb538-16"><a href="coordinate.html#cb538-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">count</span>(country, age, bw) <span class="sc">%&gt;%</span></span>
<span id="cb538-17"><a href="coordinate.html#cb538-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">group_by</span>(country, age) <span class="sc">%&gt;%</span></span>
<span id="cb538-18"><a href="coordinate.html#cb538-18" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">perc =</span> n<span class="sc">/</span><span class="fu">sum</span>(n)) <span class="sc">%&gt;%</span> </span>
<span id="cb538-19"><a href="coordinate.html#cb538-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb538-20"><a href="coordinate.html#cb538-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(bw <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb538-21"><a href="coordinate.html#cb538-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(country, age, perc) <span class="sc">%&gt;%</span></span>
<span id="cb538-22"><a href="coordinate.html#cb538-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">spread</span>(age, perc) <span class="sc">%&gt;%</span></span>
<span id="cb538-23"><a href="coordinate.html#cb538-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rename</span>(<span class="st">`</span><span class="at">15-24y</span><span class="st">`</span> <span class="ot">=</span> <span class="st">`</span><span class="at">1</span><span class="st">`</span>, <span class="st">`</span><span class="at">40+y</span><span class="st">`</span> <span class="ot">=</span> <span class="st">`</span><span class="at">2</span><span class="st">`</span>)</span>
<span id="cb538-24"><a href="coordinate.html#cb538-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb538-25"><a href="coordinate.html#cb538-25" aria-hidden="true" tabindex="-1"></a>plot.opt <span class="sc">%&gt;%</span> <span class="fu">head</span>(<span class="dv">10</span>) <span class="sc">%&gt;%</span> knitr<span class="sc">::</span><span class="fu">kable</span>()</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">country</th>
<th align="right">15-24y</th>
<th align="right">40+y</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">USA</td>
<td align="right">0.6679842</td>
<td align="right">0.4611465</td>
</tr>
<tr class="even">
<td align="left">Morocco</td>
<td align="right">0.4365079</td>
<td align="right">0.4735812</td>
</tr>
<tr class="odd">
<td align="left">Lebanon</td>
<td align="right">0.5467197</td>
<td align="right">0.4435798</td>
</tr>
<tr class="even">
<td align="left">Indonesia</td>
<td align="right">0.7920605</td>
<td align="right">0.8027344</td>
</tr>
<tr class="odd">
<td align="left">Bangladesh</td>
<td align="right">0.4624506</td>
<td align="right">0.4319527</td>
</tr>
<tr class="even">
<td align="left">UK</td>
<td align="right">0.5040000</td>
<td align="right">0.4140000</td>
</tr>
<tr class="odd">
<td align="left">France</td>
<td align="right">0.3900000</td>
<td align="right">0.2640000</td>
</tr>
<tr class="even">
<td align="left">Germany</td>
<td align="right">0.5900000</td>
<td align="right">0.3860000</td>
</tr>
<tr class="odd">
<td align="left">Spain</td>
<td align="right">0.5160000</td>
<td align="right">0.3340000</td>
</tr>
<tr class="even">
<td align="left">Japan</td>
<td align="right">0.6367265</td>
<td align="right">0.2586873</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb539"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb539-1"><a href="coordinate.html#cb539-1" aria-hidden="true" tabindex="-1"></a>plot.opt <span class="sc">%&gt;%</span></span>
<span id="cb539-2"><a href="coordinate.html#cb539-2" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>() <span class="sc">+</span> <span class="fu">aes</span>(<span class="st">`</span><span class="at">40+y</span><span class="st">`</span>, <span class="st">`</span><span class="at">15-24y</span><span class="st">`</span>, <span class="at">label =</span> country) <span class="sc">+</span> </span>
<span id="cb539-3"><a href="coordinate.html#cb539-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">&quot;skyblue&quot;</span>, <span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span> </span>
<span id="cb539-4"><a href="coordinate.html#cb539-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">xlim</span>(<span class="dv">0</span>, <span class="dv">1</span>) <span class="sc">+</span> <span class="fu">ylim</span>(<span class="dv">0</span>,<span class="dv">1</span>) <span class="sc">+</span> </span>
<span id="cb539-5"><a href="coordinate.html#cb539-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_text</span>(<span class="at">hjust =</span> <span class="sc">-</span><span class="fl">0.1</span>, <span class="at">vjust =</span> <span class="sc">-</span><span class="fl">0.5</span>) <span class="sc">+</span> </span>
<span id="cb539-6"><a href="coordinate.html#cb539-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_abline</span>(<span class="at">intercept =</span> <span class="dv">0</span>, <span class="at">slop =</span> <span class="dv">1</span>, </span>
<span id="cb539-7"><a href="coordinate.html#cb539-7" aria-hidden="true" tabindex="-1"></a>                <span class="at">color=</span><span class="st">&quot;lightgrey&quot;</span>, <span class="at">alpha=</span><span class="fl">0.5</span>, <span class="at">linetype=</span><span class="st">&quot;dashed&quot;</span>) <span class="sc">+</span> </span>
<span id="cb539-8"><a href="coordinate.html#cb539-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme_minimal</span>() <span class="sc">+</span> </span>
<span id="cb539-9"><a href="coordinate.html#cb539-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">theme</span>(<span class="at">aspect.ratio=</span><span class="dv">1</span>)</span></code></pre></div>
<p><img src="V04_Coordinate_System_files/figure-html/unnamed-chunk-9-1.png" width="100%" style="display: block; margin: auto;" /></p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="visualization-1.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="amount.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/V04_Coordinate_System.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["R for Data Journalism.pdf", "R for Data Journalism.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection",
"scroll_highlight": true
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>

# HTML Parser

## Detecting Element Path

Chrome DevTools的使用如下：

1.  打開Chrome瀏覽器，進入要爬取的網站。

2.  按下F12鍵或「右鍵」點擊網頁上的任意你感興趣的內容並選擇「檢查（Inspector）」來開啟DevTools。

3.  在DevTools中，選擇「Elements」分頁。Elements分頁用於查看和修改網頁的HTML和CSS，以及網頁中的DOM元素。在Elements分頁中可以看到網頁中所有的HTML標籤和屬性，以及網頁中的DOM樹狀結構。程式寫作者可使用此功能來檢查和修改網頁元素，例如更改元素的文本、樣式或屬性，或者添加、刪除或重新排列元素。Elements分頁還提供了選擇元素和檢查元素屬性的工具，便於快速找到和解決網頁問題。此外，Elements分頁還具有許多有用的功能，例如網頁渲染性能分析、Box-Model、色彩選擇器等，可幫助使用者更好地理解和設計網頁。

4.  在「Elements」分頁中找到你要查找的元素，例如一個按鈕或一個超連結。你可以輕點一下Elements中的任意元素，然後按「Ctrl/Cmd+F」就可以搜尋在Elements分頁中的內容。例如你感興趣的是網頁上的「下一頁」三個字，那你搜尋「下一頁」就可以找到相對應的元素。或者，你可以在「Elements」分頁開啟的狀況下，用右鍵輕點左側原始網頁中你感興趣的內容或元素，然後再次選擇「檢查（Inspector）」，此時「Elements」分頁就會自動跳到你感興趣的內容或元素。

5.  在DevTools的選擇元素面板中，右鍵點擊選擇的元素，然後選擇「Copy」\>「Copy XPath」或「Copy」\>「Copy selector」。

6.  將複製的XPath或CSS Selector粘貼到您的爬蟲程式中，以查找和提取相應的數據。

### XPath

XPath是一種用於定位和選擇XML文檔中元素的語言，也可以應用於HTML文檔。XPath使用路徑表達式來選擇文檔中的節點或節點集，這些路徑表達式可以是絕對的或相對的，可以根據元素名、屬性、節點位置等進行篩選。XPath提供了一種簡單而強大的方式來編寫網頁爬蟲，使得開發者能夠精確地定位需要提取的數據，進而進行數據清洗和分析。

以下是一個XPath的例子：考慮一個HTML文檔，其中有一個表格，表格中包含多個行和列，每一個單元格包含一些數據。如果我們想要提取表格中第一行第一列的數據，可使用`//table/tr[1]/td[1]`。這個XPath表達式由以下幾個部分組成：

-   **`//table`**: 選擇文檔中的所有表格元素。

-   **`/tr[1]`**: 選擇表格中的第一行。

-   **`/td[1]`**: 選擇第一行中的第一列。

### CSS Selector

CSS Selector是一種用於定位和選擇HTML元素的語言，它可以根據元素的屬性、標籤名稱、類名稱等進行篩選和定位。CSS Selector同樣也是網頁爬蟲中經常使用的一種定位方式。和XPath相比，CSS Selector的寫法更加簡潔和直觀，因此在一些簡單的定位場景中，使用CSS Selector可以更加方便和快捷。但是，在一些複雜的定位場景中，XPath可能更加適合，因為它可以根據節點的位置等進行更加精確的篩選。

用CSS Selector如前面XPath的例子來選擇表格中第一行第一列：`table tr:first-child td:first-child`。這個CSS Selector由以下幾個部分組成：

-   **`table`**: 選擇文檔中的所有表格元素。

-   **`tr:first-child`**: 選擇表格中的第一行。

-   **`td:first-child`**: 選擇第一行中的第一列。
